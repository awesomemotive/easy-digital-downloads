!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=61)}({0:function(t,e){t.exports=jQuery},21:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var o=n(32),i=n.n(o),r=function(){t.post(ajaxurl,{action:"edd_sendwp_remote_install"},(function(t){t.success||!confirm(t.data.error)?d(t.data.register_url,t.data.client_name,t.data.client_secret,t.data.client_redirect,t.data.partner_id):location.reload()}))},a=function(){t.post(ajaxurl,{action:"edd_sendwp_disconnect"},(function(t){location.reload()}))},d=function(t,e,n,o,r){var a=document.createElement("form");a.setAttribute("method","POST"),a.setAttribute("action",t);for(var d=0,c=[["client_name",e],["client_secret",n],["client_redirect",o],["partner_id",r]];d<c.length;d++){var l=i()(c[d],2),s=l[0],u=l[1],f=document.createElement("input");f.setAttribute("type","hidden"),f.setAttribute("name",s),f.setAttribute("value",u),a.appendChild(f)}document.body.appendChild(a),a.submit()}}).call(this,n(0))},22:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}));var o=function(){t.post(ajaxurl,{action:"edd_jilt_remote_install"},(function(t){t.success||!confirm(t.data.error)?i():location.reload()}))},i=function(){t.post(ajaxurl,{action:"edd_jilt_connect"},(function(t){t.success||!confirm(t.data.error)?""===t.data.connect_url||location.assign(t.data.connect_url):location.reload()}))},r=function(){t.post(ajaxurl,{action:"edd_jilt_disconnect"},(function(t){t.success||confirm(t.data.error),location.reload()}))}}).call(this,n(0))},32:function(t,e,n){var o=n(62),i=n(63),r=n(64);t.exports=function(t,e){return o(t)||i(t,e)||r()}},61:function(t,e,n){"use strict";n.r(e),function(t,e){var o=n(21),i=n(22),r={init:function(){this.general(),this.misc(),this.gateways(),this.location(),this.emails()},general:function(){var n=t(".edd-color-picker");if(n.length&&n.wpColorPicker(),"undefined"==typeof wp||"1"!==edd_vars.new_media_ui){var o=t(".edd_settings_upload_button");o.length>0&&(window.formfield="",t(document.body).on("click",o,(function(n){n.preventDefault(),window.formfield=t(this).parent().prev(),window.tbframe_interval=setInterval((function(){e("#TB_iframeContent").contents().find(".savesend .button").val(edd_vars.use_this_file).end().find("#insert-gallery, .wp-post-thumbnail").hide()}),2e3),tb_show(edd_vars.add_new_download,"media-upload.php?TB_iframe=true")})),window.edd_send_to_editor=window.send_to_editor,window.send_to_editor=function(e){window.formfield?(imgurl=t("a","<div>"+e+"</div>").attr("href"),window.formfield.val(imgurl),window.clearInterval(window.tbframe_interval),tb_remove()):window.edd_send_to_editor(e),window.send_to_editor=window.edd_send_to_editor,window.formfield="",window.imagefield=!1})}else{var i;window.formfield="",t(document.body).on("click",".edd_settings_upload_button",(function(e){e.preventDefault();var n=t(this);window.formfield=t(this).parent().prev(),i?i.open():((i=wp.media.frames.file_frame=wp.media({title:n.data("uploader_title"),library:{type:"image"},button:{text:n.data("uploader_button_text")},multiple:!1})).on("menu:render:default",(function(t){t.unset("library-separator"),t.unset("gallery"),t.unset("featured-image"),t.unset("embed"),t.set({})})),i.on("select",(function(){i.state().get("selection").each((function(t,e){t=t.toJSON(),window.formfield.val(t.url)}))})),i.open())})),window.formfield=""}},misc:function(){var e=t('select[name="edd_settings[download_method]"]'),n=e.parent().parent().next();"direct"===e.val()&&(n.css("opacity","0.4"),n.find("input").prop("checked",!1).prop("disabled",!0)),e.on("change",(function(){"direct"===t(this).val()?(n.css("opacity","0.4"),n.find("input").prop("checked",!1).prop("disabled",!0)):(n.find("input").prop("disabled",!1),n.css("opacity","1"))}))},gateways:function(){t('#edd-payment-gateways input[type="checkbox"]').on("change",(function(){var e=t(this).data("gateway-key"),n=t("#edd_settings\\[default_gateway\\]"),o=n.find('option[value="'+e+'"]');o.prop("disabled",(function(t,e){return!e})),o.prop("selected")&&o.prop("selected",!1),n.trigger("chosen:updated")}))},location:function(){t("select.edd_countries_filter").on("change",(function(){var e=t(this),n={action:"edd_get_shop_states",country:e.val(),nonce:e.data("nonce"),field_name:"edd_regions_filter"};return t.post(ajaxurl,n,(function(e){t("select.edd_regions_filter").find("option:gt(0)").remove(),"nostates"!==e&&t(e).find("option:gt(0)").appendTo("select.edd_regions_filter"),t("select.edd_regions_filter").trigger("chosen:updated")})),!1}))},emails:function(){t("#edd-sendwp-connect").on("click",(function(e){e.preventDefault(),t(this).html(edd_vars.wait+' <span class="edd-loading"></span>'),document.body.style.cursor="wait",Object(o.b)()})),t("#edd-sendwp-disconnect").on("click",(function(e){e.preventDefault(),t(this).html(edd_vars.wait+' <span class="edd-loading dark"></span>'),document.body.style.cursor="wait",Object(o.a)()})),t("#edd-jilt-connect").on("click",(function(e){e.preventDefault(),t(this).html(edd_vars.wait+' <span class="edd-loading"></span>'),document.body.style.cursor="wait",Object(i.b)()})),t("#edd-jilt-disconnect").on("click",(function(e){e.preventDefault(),t(this).html(edd_vars.wait+' <span class="edd-loading dark"></span>'),document.body.style.cursor="wait",Object(i.a)()}))}};e(document).ready((function(t){r.init()}))}.call(this,n(0),n(0))},62:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},63:function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var a,d=t[Symbol.iterator]();!(o=(a=d.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==d.return||d.return()}finally{if(i)throw r}}return n}}},64:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}});
//# sourceMappingURL=edd-admin-settings.js.map