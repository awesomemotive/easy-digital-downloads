!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=344)}({1:function(e,t){e.exports=jQuery},13:function(e,t,n){var r=n(4).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e,t,n){"use strict";function r(e){return null===e?window.eddStripe:!e in window.eddStripe?"":window.eddStripe[e]}function o(e,t,n){if(window.eddStripe[e]=t,n)return window.eddStripe[e]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return o.b})),n.d(t,"d",(function(){return o.a})),n.d(t,"h",(function(){return o.c})),n.d(t,"g",(function(){return i.b})),n.d(t,"j",(function(){return i.c})),n.d(t,"b",(function(){return i.a})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return d})),n(45),n(46),n(47),n(48);var r=n(30),o=n(23),i=n(31);function c(e){var t=!0;return Object(o.b)(e.querySelectorAll("input"),(function(e){e.checkValidity&&!e.checkValidity()&&(t=!1)})),t}function u(e){var t=document.createElement("input");t.type="submit",t.style.display="none",e.appendChild(t),t.click(),t.remove()}function s(e){return e?""===e.value?null:e.value:null}function d(e,t){"true"===edd_stripe_vars.debuggingEnabled&&console.log("EDD Stripe - Debugging","\n","*".repeat(e.length+5),"\n",e,"\n","*".repeat(e.length+5),"\n",JSON.stringify(t,null,4))}n(15)},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(2),o=n(32),i=n.n(o);function c(){Object(r.f)(arguments,(function(e){document.addEventListener("DOMContentLoaded",e)}))}function u(e){for(var t=[],n=e.nextElementSibling;n;)1===n.nodeType&&t.push(n),n=n.nextElementSibling;return t}n.d(t,"b",(function(){return i.a}))},3:function(e,t,n){var r=n(9);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},30:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(4),o=n.n(r),i=n(3),c=n.n(i);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(t,n){var r={type:"POST",dataType:"json",xhrFields:{withCredentials:!0},url:window.edd_scripts&&window.edd_scripts.ajaxurl||window.ajaxurl,data:s({action:t},n)},i=e.Deferred((function(t){t.jqXHR=e.ajax(r).done((function(e){"1"!==e&&1!==e||(e={success:!0}),"object"===o()(e)&&void 0!==o()(e.success)?t[e.success?"resolveWith":"rejectWith"](this,[e.data]):t.rejectWith(this,[e])})).fail((function(){t.rejectWith(this,arguments)}))})),c=i.promise();return c.abort=function(){return i.jqXHR.abort(),this},c}}).call(this,n(1))},31:function(e,t,n){"use strict";(function(e){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=document.createElement("p");return n.classList.add("edd-alert"),n.classList.add("edd-stripe-alert"),n.style.clear="both","error"===t?n.classList.add("edd-alert-error"):n.classList.add("edd-alert-success"),n.innerHTML=e||edd_stripe_vars.generic_error,n}function o(t){var n=t.errorType,o=t.errorMessage,i=t.errorContainer,c=t.errorContainerReplace,u=void 0===c||c,s=e(i),d=r(o,n);!0===u?s.html(d):s.before(d)}function i(t){e(t).html("")}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))}).call(this,n(1))},32:function(e,t){var n=/^(?:0|[1-9]\d*)$/;function r(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}var o,i,c=Object.prototype,u=c.hasOwnProperty,s=c.toString,d=c.propertyIsEnumerable,a=(o=Object.keys,i=Object,function(e){return o(i(e))});var l,f=(l=function(e,t){return e&&p(e,t,b)},function(e,t){if(null==e)return e;if(!g(e))return l(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e}),p=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),c=i.length;c--;){var u=i[++r];if(!1===t(o[u],u,o))break}return e};function m(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}var y=Array.isArray;function g(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?s.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function b(e){return g(e)?function(e,t){var n=y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&g(e)}(e)&&u.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==s.call(e))}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!u.call(e,i)||o&&("length"==i||m(i,r))||n.push(i);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||c))return a(e);var t,n,r=[];for(var o in Object(e))u.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e)}function v(e){return e}e.exports=function(e,t){return(y(e)?r:f)(e,"function"==typeof t?t:v)}},344:function(e,t,n){"use strict";n.r(t),function(e){var t,r,o=n(4),i=n.n(o);n(370),e(document).ready((function(){(t=document.getElementById("edd_settings[test_mode]"))&&(r=document.getElementById("edd_settings[stripe_connect_test_mode_toggle_notice]"),c.init()),e(".edds-api-key-toggle button").on("click",(function(t){t.preventDefault(),e(".edds-api-key-toggle, .edds-api-key-row").toggleClass("edd-hidden")}));var n=e(".stripe-elements-mode select");n&&n.on("change",(function(){e(".card-elements-feature").toggleClass("edd-hidden"),e(".payment-elements-feature").toggleClass("edd-hidden")}));var o=document.getElementById("edd_settings[stripe_include_purchase_summary_in_statement_descriptor]");o&&o.addEventListener("change",(function(){e(".statement-descriptor-prefix").toggleClass("edd-hidden")}))}));var c={init:function(){this.listeners()},listeners:function(){var e=this;t.addEventListener("change",(function(){if(edd_stripe_admin.stripe_enabled){if(this.checked)if("false"===edd_stripe_admin.test_key_exists)e.showNotice(r,"warning"),e.addHiddenMarker();else{e.hideNotice(r);var t=document.getElementById("edd-test-mode-toggled");t&&t.parentNode.removeChild(t)}if(!this.checked)if("false"===edd_stripe_admin.live_key_exists)e.showNotice(r,"warning"),e.addHiddenMarker();else{e.hideNotice(r);var n=document.getElementById("edd-test-mode-toggled");n&&n.parentNode.removeChild(n)}}}))},addHiddenMarker:function(){var e=document.getElementById("submit");e&&e.parentNode.insertAdjacentHTML("beforeend",'<input type="hidden" class="edd-hidden" id="edd-test-mode-toggled" name="edd-test-mode-toggled" />')},showNotice:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";e&&"object"===i()(e)&&(e.className="notice notice-"+t)},hideNotice:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&"object"===i()(e)&&(e.className="edd-hidden")}}}.call(this,n(1))},370:function(e,t,n){"use strict";var r=n(2);Object(r.d)((function(){document.querySelector(".edds-requirements-not-met")&&(document.querySelector(".edd-settings-wrap .submit").style.display="none")})),Object(r.d)((function(){var e=document.getElementById("edds-payment-gateways-stripe-unmet-requirements");if(e){var t=document.querySelector('label[for="edd_settings[gateways][stripe]"]');t.parentNode.insertBefore(e,t.nextSibling);var n=document.getElementById("edd_settings[gateways][stripe]");n.disabled=!0,n.checked=!1,e.insertBefore(n,e.querySelector("p")),e.insertBefore(t,e.querySelector("p"))}}));var o=n(3),i=n.n(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Object(r.d)((function(){var e=document.getElementById("edds-stripe-connect-account"),t=document.getElementById("edds-stripe-disconnect-reconnect");if(e&&!e.hasAttribute("data-onboarding-wizard"))return Object(r.a)("edds_stripe_connect_account_info",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.dataset)).done((function(n){e.classList.remove("loading"),e.innerHTML=n.message,e.classList.add("notice-".concat(n.status)),t.classList.remove("loading"),n.actions&&(t.innerHTML=n.actions);var r=document.getElementById("edd_settings[stripe_statement_descriptor]"),o=document.getElementById("edd_settings[stripe_statement_descriptor_prefix]");if(r.classList.remove("edd-text-loading"),o.classList.remove("edd-text-loading"),n.account){var i=n.account.settings.payments.statement_descriptor||"",c=n.account.settings.card_payments.statement_descriptor_prefix||"";r.value=i||"",o.value=c||""}})).fail((function(t){e.innerHTML=t.message,e.classList.add("notice-error")}))}))},4:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},45:function(e,t){String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},46:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},47:function(e,t){Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r})},48:function(e,t){[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},9:function(e,t,n){var r=n(4).default,o=n(13);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports}});