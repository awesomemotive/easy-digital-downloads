(()=>{var s={311:s=>{"use strict";s.exports=jQuery}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var d=e[i]={exports:{}};return s[i](d,d.exports,t),d.exports}(()=>{var s=t(311),e=t(311);const i={init:function(){this.submit()},submit:function(){const e=this;s(document.body).on("submit",".edd-export-form",(function(t){t.preventDefault();const i=s(this),o=i.find('button[type="submit"]').first();if(o.hasClass("button-disabled")||o.is(":disabled"))return;const d=i.serialize();o.hasClass("button-primary")&&o.removeClass("button-primary").addClass("button-secondary"),o.attr("disabled",!0).addClass("updating-message"),i.find(".notice-wrap").remove(),i.append('<div class="notice-wrap"><div class="edd-progress"><div></div></div></div>'),e.process_step(1,d,e)}))},process_step:function(e,t,i){s.ajax({type:"POST",url:ajaxurl,data:{form:t,action:"edd_do_ajax_export",step:e},dataType:"json",success:function(e){if("done"===e.step||e.error||e.success){const t=s(".edd-export-form").find(".edd-progress").parent().parent(),i=t.find(".notice-wrap");if(t.find("button").attr("disabled",!1).removeClass("updating-message").addClass("updated-message"),t.find("button .spinner").hide().css("visibility","visible"),e.error){const s=e.message;i.html('<div class="updated error"><p>'+s+"</p></div>")}else if(e.success){const t=e.message;i.html('<div id="edd-batch-success" class="updated notice"><p>'+t+"</p></div>"),e.data&&s.each(e.data,(function(e,t){s(".edd_"+e).html(t)}))}else i.remove(),window.location=e.url}else s(".edd-progress div").animate({width:e.percentage+"%"},50,(function(){})),i.process_step(parseInt(e.step),t,i)}}).fail((function(s){window.console&&window.console.log&&console.log(s)}))}};e(document).ready((function(s){i.init()}))})()})();