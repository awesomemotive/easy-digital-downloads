(()=>{var e={117:(e,t,d)=>{d(311)(document).ready((function(e){e("body").on("click","#the-list .editinline",(function(){let t=e(this).closest("tr").attr("id");t=t.replace("post-","");const d=e("#post-"+t).find(".column-price .downloadprice-"+t).val();d!==e("#post-"+t+".column-price .downloadprice-"+t).val()?e(".regprice","#edd-download-data").val(d).attr("disabled",!1):e(".regprice","#edd-download-data").val(edd_vars.quick_edit_warning).attr("disabled","disabled")})),e(document.body).on("click","#bulk_edit",(function(){const t=e("#bulk-edit"),d=new Array;t.find("#bulk-titles").children().each((function(){d.push(e(this).attr("id").replace(/^(ttle)/i,""))}));const i=e('#edd-download-data input[name="_edd_regprice"]').val(),a={action:"edd_save_bulk_edit",edd_bulk_nonce:d,post_ids:d,price:i};e.post(ajaxurl,a)}))}))},311:e=>{"use strict";e.exports=jQuery}},t={};function d(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,d),n.exports}(()=>{"use strict";var e=d(311);const t={disable_search_threshold:13,search_contains:!0,inherit_select_classes:!0,single_backstroke_delete:!1,placeholder_text_single:edd_vars.one_option,placeholder_text_multiple:edd_vars.one_or_more_option,no_results_text:edd_vars.no_results_text};var i=d(311),a=d(311);const n=function(e){e.tooltip({content:function(){return i(this).prop("title")},tooltipClass:"edd-ui-tooltip",position:{my:"center top",at:"center bottom+10",collision:"flipfit"},hide:{duration:200},show:{duration:200}})};a(document).ready((function(e){n(e(".edd-help-tip"))})),d(117);var o=d(311),r=d(311),l={init:function(){this.add(),this.move(),this.remove(),this.type(),this.prices(),this.files(),this.updatePrices(),this.showAdvanced()},clone_repeatable:function(e){let t=1,d=1;e.parent().find(".edd_repeatable_row").each((function(){const e=o(this).data("key");parseInt(e)>d&&(d=e)})),t=d+=1;const i=e.clone();return i.removeClass("edd_add_blank"),i.attr("data-key",t),i.find("input, select, textarea").val("").each((function(){let e=o(this),d=e.attr("name"),i=e.attr("id");d&&(d=d.replace(/\[(\d+)\]/,"["+parseInt(t)+"]"),e.attr("name",d)),e.attr("data-key",t),void 0!==i&&(i=i.replace(/(\d+)/,parseInt(t)),e.attr("id",i))})),i.find("select").each((function(){o(this).val(e.find('select[name="'+o(this).attr("name")+'"]').val())})),i.find('input[type="checkbox"]').each((function(){o(this).is(":checked")&&o(this).prop("checked",!1),o(this).val(1)})),i.find("span.edd_price_id").each((function(){o(this).text(parseInt(t))})),i.find("input.edd_repeatable_index").each((function(){o(this).val(parseInt(o(this).data("key")))})),i.find("span.edd_file_id").each((function(){o(this).text(parseInt(t))})),i.find(".edd_repeatable_default_input").each((function(){o(this).val(parseInt(t)).removeAttr("checked")})),i.find(".edd_repeatable_condition_field").each((function(){o(this).find("option:eq(0)").prop("selected","selected")})),i.find("label").each((function(){var e=o(this).attr("for");e&&o(this).attr("for",e.replace(/(\d+)/,parseInt(t)))})),i.find(".search-choice").remove(),i.find(".chosen-container").remove(),n(i.find(".edd-help-tip")),i},add:function(){o(document.body).on("click",".edd_add_repeatable",(function(d){d.preventDefault();const i=o(this).closest(".edd_repeatable_table").find(".edd_repeatable_row").last(),a=l.clone_repeatable(i);a.insertAfter(i).find("input, textarea, select").filter(":visible").eq(0).focus(),a.find(".edd-select-chosen").each((function(){const d=o(this);d.chosen((d=>{!d instanceof e&&(d=e(d));let i=t;return d.data("search-type")&&delete i.disable_search_threshold,{...i,width:d.css("width")}})(d))})),a.find(".edd-select-chosen").css("width","100%"),a.find(".edd-select-chosen .chosen-search input").attr("placeholder",edd_vars.search_placeholder)}))},move:function(){o(".edd_repeatable_table .edd-repeatables-wrap").sortable({axis:"y",handle:".edd-draghandle-anchor",items:".edd_repeatable_row",cursor:"move",tolerance:"pointer",containment:"parent",distance:2,opacity:.7,scroll:!0,update:function(){let e=0;o(this).find(".edd_repeatable_row").each((function(){o(this).find("input.edd_repeatable_index").each((function(){o(this).val(e)})),e++}))},start:function(e,t){t.placeholder.height(t.item.height()-2)}})},remove:function(){o(document.body).on("click",".edd-remove-row, .edd_remove_repeatable",(function(e){e.preventDefault();let t,d,i,a=o(this).parents(".edd_repeatable_row"),n=a.parent().find(".edd_repeatable_row").length,r=o(this).data("type"),l="div.edd_repeatable_"+r+"s";if(t=o(this).is(".ui-sortable .edd_repeatable_row:first-child .edd-remove-row, .ui-sortable .edd_repeatable_row:first-child .edd_remove_repeatable")?a.next(".edd_repeatable_row"):a.prev(".edd_repeatable_row"),d=t.find("select, input, textarea, button").filter(":visible"),i=d.eq(0),"price"===r){const e=a.data("key");o('.edd_repeatable_condition_field option[value="'+e+'"]').remove()}if(n>1)o("input, select",a).val(""),a.fadeOut("fast").remove(),i.focus();else switch(r){case"price":alert(edd_vars.one_price_min);break;case"file":o("input, select",a).val("");break;default:alert(edd_vars.one_field_min)}o(l).each((function(e){o(this).find("input, select").each((function(){let t=o(this).attr("name");t=t.replace(/\[(\d+)\]/,"["+e+"]"),o(this).attr("name",t).attr("id",t)}))}))}))},type:function(){o(document.body).on("change","#_edd_product_type",(function(e){const t=o("#edd_products"),d=o("#edd_download_files"),i=o("#edd_download_limit_wrap");"bundle"===o(this).val()?(t.show(),d.hide(),i.hide()):(t.hide(),d.show(),i.show())}))},prices:function(){o(document.body).on("change","#edd_variable_pricing",(function(e){const t=o(this).is(":checked"),d=o("#edd_regular_price_field"),i=o("#edd_variable_price_fields, .edd_repeatable_table .pricing"),a=o(".edd-bundled-product-row, .edd-repeatable-row-standard-fields");t?(d.hide(),i.show(),a.addClass("has-variable-pricing")):(d.show(),i.hide(),a.removeClass("has-variable-pricing"))}))},files:function(){var e;window.formfield="",o(document.body).on("click",".edd_upload_file_button",(function(t){t.preventDefault();const d=o(this);window.formfield=d.closest(".edd_repeatable_upload_wrapper"),e||((e=wp.media.frames.file_frame=wp.media({title:d.data("uploader-title"),frame:"post",state:"insert",button:{text:d.data("uploader-button-text")},multiple:"0"!==o(this).data("multiple")})).on("menu:render:default",(function(e){e.unset("library-separator"),e.unset("gallery"),e.unset("featured-image"),e.unset("embed"),e.set({})})),e.on("insert",(function(){e.state().get("selection").each((function(e,t){let d="image"===(e=e.toJSON()).type&&o(".attachment-display-settings .size option:selected").val(),i=e.url,a=e.title.length>0?e.title:e.filename;if(d&&void 0!==e.sizes[d]&&(i=e.sizes[d].url),"image"===e.type&&(a=d&&void 0!==e.sizes[d]?a+"-"+e.sizes[d].width+"x"+e.sizes[d].height:a+"-"+e.width+"x"+e.height),0===t)window.formfield.find(".edd_repeatable_attachment_id_field").val(e.id),window.formfield.find(".edd_repeatable_thumbnail_size_field").val(d),window.formfield.find(".edd_repeatable_upload_field").val(i),window.formfield.find(".edd_repeatable_name_field").val(a);else{const t=window.formfield,n=l.clone_repeatable(t);n.find(".edd_repeatable_attachment_id_field").val(e.id),n.find(".edd_repeatable_thumbnail_size_field").val(d),n.find(".edd_repeatable_upload_field").val(i),n.find(".edd_repeatable_name_field").val(a),n.insertAfter(t)}}))}))),e.open()})),o(".edd_repeatable_upload_field").on("focus",(function(){const e=o(this);e.data("originalFile",e.val())})).on("change",(function(){const e=o(this);e.data("originalFile")!==e.val()&&e.closest(".edd-repeatable-row-standard-fields").find(".edd_repeatable_attachment_id_field").val(0)})),window.formfield=""},updatePrices:function(){o("#edd_price_fields").on("keyup",".edd_variable_prices_name",(function(){const e=o(this).parents(".edd_repeatable_row").data("key"),t=o(this).val(),d=o(".edd_repeatable_condition_field option[value="+e+"]");d.length>0?d.text(t):o(".edd_repeatable_condition_field").append(o("<option></option>").attr("value",e).text(t))}))},showAdvanced:function(){o(document.body).on("click",".toggle-custom-price-option-section",(function(e){e.preventDefault();const t=o(this),d=t.html()===edd_vars.show_advanced_settings;d?t.html(edd_vars.hide_advanced_settings):t.html(edd_vars.show_advanced_settings);const i=t.parents(".edd-repeatable-row-header");let a;i.siblings(".edd-custom-price-option-sections-wrap").slideToggle(),a=o(":input:not(input[type=button],input[type=submit],button):visible:first",d?i.siblings(".edd-custom-price-option-sections-wrap"):i.siblings(".edd-repeatable-row-standard-fields")),a.focus()}))}};r(document).ready((function(e){l.init()}))})()})();