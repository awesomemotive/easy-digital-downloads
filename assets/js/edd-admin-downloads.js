!function(e){var t={};function n(d){if(t[d])return t[d].exports;var a=t[d]={i:d,l:!1,exports:{}};return e[d].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,d){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(d,a,function(t){return e[t]}.bind(null,a));return d},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=302)}({0:function(e,t){e.exports=jQuery},10:function(e,t,n){var d=n(4).default,a=n(13);e.exports=function(e){var t=a(e,"string");return"symbol"==d(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},13:function(e,t,n){var d=n(4).default;e.exports=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=d(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var d=n(3),a=n.n(d);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);t&&(d=d.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,d)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o={disable_search_threshold:13,search_contains:!0,inherit_select_classes:!0,single_backstroke_delete:!1,placeholder_text_single:edd_vars.one_option,placeholder_text_multiple:edd_vars.one_or_more_option,no_results_text:edd_vars.no_results_text},c=function(t){t instanceof e||(t=e(t));var n=o;return t.data("search-type")&&delete n.disable_search_threshold,r(r({},n),{},{width:t.css("width")})},s=function(t){t instanceof e||(t=e(t)),t.chosen(c(t)),t.css("width","100%"),t.find(".chosen-search input").attr("placeholder",edd_vars.search_placeholder)}}).call(this,n(0))},3:function(e,t,n){var d=n(10);e.exports=function(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},302:function(e,t,n){"use strict";n.r(t),function(e,t){var d=n(17),a=n(38),i=(n(303),n(304),n(305),n(306),n(394),n(307),n(308),{init:function(){this.add(),this.move(),this.remove(),this.files(),this.updatePrices(),this.showAdvanced()},clone_repeatable:function(t){var n,d=1;t.parent().find(".edd_repeatable_row").each((function(){var t=e(this).data("key");parseInt(t)>d&&(d=t)})),n=d+=1;var r=t.clone();return r.removeClass("edd_add_blank"),r.attr("data-key",n),r.find("input, select, textarea").val("").each((function(){var t=e(this),d=t.attr("name"),a=t.attr("id");d&&(d=d.replace(/\[(\d+)\]/,"["+parseInt(n)+"]"),t.attr("name",d)),t.attr("data-key",n),void 0!==a&&(a=a.replace(/(\d+)/,parseInt(n)),t.attr("id",a))})),r.find("select").each((function(){e(this).val(t.find('select[name="'+e(this).attr("name")+'"]').val())})),r.find('input[type="checkbox"]').each((function(){e(this).is(":checked")&&e(this).prop("checked",!1),e(this).val(1)})),r.find("span.edd_price_id").each((function(){e(this).text(parseInt(n))})),r.find("input.edd_repeatable_index").each((function(){e(this).val(parseInt(e(this).data("key")))})),r.find("span.edd_file_id").each((function(){e(this).text(parseInt(n))})),r.find(".edd_repeatable_condition_field").each((function(){e(this).find("option:eq(0)").prop("selected","selected")})),r.find("label").each((function(){var t=e(this).attr("for");t&&e(this).attr("for",t.replace(/(\d+)/,parseInt(n)))})),r.find(".search-choice").remove(),r.find(".chosen-container").remove(),Object(a.a)(r.find(".edd-help-tip")),i.triggerRowChange(r),r},add:function(){e(document.body).on("click",".edd_add_repeatable",(function(t){t.preventDefault();var n=e(this).closest(".edd_repeatable_table").find(".edd_repeatable_row").last(),d=i.clone_repeatable(n);d.insertAfter(n).find("input, textarea, select").filter(":visible").eq(0).focus(),i.initChosen(d),i.triggerRowChange(d)}))},move:function(){e(".edd_repeatable_table .edd-repeatables-wrap").sortable({axis:"y",handle:".edd-draghandle-anchor",items:".edd_repeatable_row",cursor:"move",tolerance:"pointer",containment:"parent",distance:2,opacity:.7,scroll:!0,update:function(){var t=0;e(this).find(".edd_repeatable_row").each((function(){e(this).find("input.edd_repeatable_index").each((function(){e(this).val(t)})),t++})),i.triggerRowChange(e(this))},start:function(e,t){t.placeholder.height(t.item.height()-2)}})},remove:function(){e(document.body).on("click",".edd-remove-row, .edd_remove_repeatable",(function(t){t.preventDefault();var n,d,a=e(this).parents(".edd_repeatable_row"),r=a.parent().find(".edd_repeatable_row").length,o=e(this).data("type"),c="div.edd_repeatable_"+o+"s";if(d=(n=e(this).is(".ui-sortable .edd_repeatable_row:first-child .edd-remove-row, .ui-sortable .edd_repeatable_row:first-child .edd_remove_repeatable")?a.next(".edd_repeatable_row"):a.prev(".edd_repeatable_row")).find("select, input, textarea, button").filter(":visible").eq(0),"price"===o){var s=a.data("key");e('.edd_repeatable_condition_field option[value="'+s+'"]').remove()}if(r>1)e("input, select",a).val(""),a.fadeOut("fast").remove(),d.focus();else switch(o){case"price":alert(edd_vars.one_price_min);break;case"file":e("input, select",a).val("");break;default:alert(edd_vars.one_field_min)}e(c).each((function(t){e(this).find("input, select").each((function(){var n=e(this).attr("name");n=n.replace(/\[(\d+)\]/,"["+t+"]"),e(this).attr("name",n).attr("id",n)}))})),i.triggerRowChange(n)}))},files:function(){var t;window.formfield="",e(document.body).on("click",".edd_upload_file_button",(function(n){n.preventDefault();var d=e(this);window.formfield=d.closest(".edd_repeatable_upload_wrapper"),t||((t=wp.media.frames.file_frame=wp.media({title:d.data("uploader-title"),frame:"post",state:"insert",button:{text:d.data("uploader-button-text")},multiple:"0"!==e(this).data("multiple")})).on("menu:render:default",(function(e){e.unset("library-separator"),e.unset("gallery"),e.unset("featured-image"),e.unset("embed"),e.unset("playlist"),e.unset("video-playlist"),e.set({})})),t.on("insert",(function(){t.state().get("selection").each((function(t,n){var d="image"===(t=t.toJSON()).type&&e(".attachment-display-settings .size option:selected").val(),a=t.url,r=t.title.length>0?t.title:t.filename;if(d&&void 0!==t.sizes[d]&&(a=t.sizes[d].url),"image"===t.type&&(r=d&&void 0!==t.sizes[d]?r+"-"+t.sizes[d].width+"x"+t.sizes[d].height:r+"-"+t.width+"x"+t.height),0===n)window.formfield.find(".edd_repeatable_attachment_id_field").val(t.id),window.formfield.find(".edd_repeatable_thumbnail_size_field").val(d),window.formfield.find(".edd_repeatable_upload_field").val(a),window.formfield.find(".edd_repeatable_name_field").val(r);else{var o=window.formfield,c=i.clone_repeatable(o);c.find(".edd_repeatable_attachment_id_field").val(t.id),c.find(".edd_repeatable_thumbnail_size_field").val(d),c.find(".edd_repeatable_upload_field").val(a),c.find(".edd_repeatable_name_field").val(r),c.insertAfter(o)}}))}))),t.open()})),e(".edd_repeatable_upload_field").on("focus",(function(){var t=e(this);t.data("originalFile",t.val())})).on("change",(function(){var t=e(this);t.data("originalFile")!==t.val()&&t.closest(".edd-repeatable-row-standard-fields").find(".edd_repeatable_attachment_id_field").val(0)})),window.formfield=""},updatePrices:function(){e("#edd_price_fields").on("blur",".edd_variable_prices_name",(function(){var t=e(this).parents(".edd_repeatable_row").data("key"),n=e(this).val(),d=e(".edd_repeatable_condition_field option[value="+t+"]");d.length>0?d.text(n):e(".edd_repeatable_condition_field").append(e("<option></option>").attr("value",t).text(n))}))},showAdvanced:function(){e(document.body).on("click",".toggle-custom-price-option-section",(function(t){t.preventDefault();var n=e(this),d=n.html()===edd_vars.show_advanced_settings;d?n.html(edd_vars.hide_advanced_settings):n.html(edd_vars.show_advanced_settings);var a=n.parents(".edd-repeatable-row-header");a.siblings(".edd-custom-price-option-sections-wrap").slideToggle(),e(":input:not(input[type=button],input[type=submit],button):visible:first",d?a.siblings(".edd-custom-price-option-sections-wrap"):a.siblings(".edd-repeatable-row-standard-fields")).focus()}))},initChosen:function(t){t.find("select.edd-select-chosen").each((function(){Object(d.b)(e(this))}))},triggerRowChange:function(e){document.dispatchEvent(new CustomEvent("edd_repeatable_row_change",{detail:{row:e}}))}});t(document).ready((function(e){i.init()}))}.call(this,n(0),n(0))},303:function(e,t,n){(function(e){e(document).ready((function(e){e("body").on("click","#the-list .editinline",(function(){var t=e(this).closest("tr").attr("id");t=t.replace("post-","");var n=e("#post-"+t).find(".column-price .downloadprice-"+t).val();n!==e("#post-"+t+".column-price .downloadprice-"+t).val()?e(".regprice","#edd-download-data").val(n).attr("disabled",!1):e(".regprice","#edd-download-data").val(edd_vars.quick_edit_warning).attr("disabled","disabled")}))}))}).call(this,n(0))},304:function(e,t){var n=document.getElementById("edd_variable_pricing"),d=document.getElementById("edd_download_editor__variable-pricing");if(n&&(r(n.checked),n.addEventListener("change",(function(){r(this.checked)}))),d){i(),d.addEventListener("click",(function(e){if((e.target.classList.contains("edd-button__add--variation")||e.target.closest(".edd-button__add--variation"))&&o.call(e.target,e),e.target.classList.contains("edd-section-content__remove")&&(c.call(e.target,e),s()),e.target.classList.contains("edd-button__edit")){var t=e.target.closest(".edd-section-content__row");t.classList.toggle("open"),t.classList.toggle("closed")}e.target.classList.contains("edd-button__toggle-expand-custom")&&(e.preventDefault(),d.querySelectorAll(".edd-section-content__row").forEach((function(e){e.classList.add("open"),e.classList.remove("closed")}))),e.target.classList.contains("edd-button__toggle-collapse-custom")&&(e.preventDefault(),d.querySelectorAll(".edd-section-content__row").forEach((function(e){e.classList.remove("open"),e.classList.add("closed")})))})),d.addEventListener("change",(function(e){"_edd_default_price_id"===e.target.name&&(e.target.checked?d.querySelectorAll('input[name="_edd_default_price_id"]').forEach((function(t){t!==e.target&&(t.checked=!1)})):e.target.checked=!0)}));var a=document.getElementById("edd-admin-notice-pricechanges");a&&a.addEventListener("click",(function(e){e.target.classList.contains("edd-section-content__remove")&&(c.call(e.target,e),s())}))}function i(){var e=d.querySelectorAll(".edd-section-content__row");e.length&&(l(),e.forEach((function(e){e.querySelector(".edd__handle-actions-order--higher").addEventListener("click",(function(){var e=this.closest(".edd-section-content__row"),t=e.previousElementSibling;t&&t.classList.contains("edd-section-content__row")&&(this.disabled=!0,t&&t.insertAdjacentElement("beforebegin",e),l())})),e.querySelector(".edd__handle-actions-order--lower").addEventListener("click",(function(){var e=this.closest(".edd-section-content__row"),t=e.nextElementSibling;t&&t.classList.contains("edd-section-content__row")&&(this.disabled=!0,t&&e.insertAdjacentElement("beforebegin",t),l())}))})))}function r(e){document.querySelectorAll(".edd-bundled-product-row, .edd-repeatable-row-standard-fields").forEach((function(t){e?t.classList.add("has-variable-pricing"):t.classList.remove("has-variable-pricing")})),s()}function o(e){e.preventDefault();var t=d.querySelector(".edd-button__add--variation");t.disabled=!0;var n=d.querySelectorAll(".edd-section-content__row"),a=new FormData;a.append("action","edd_clone_variation"),a.append("timestamp",t.dataset.timestamp),a.append("token",t.dataset.token),a.append("download_id",edd_vars.post_id);var r=0;n.forEach((function(e){var t=e.querySelector(".edd-section__id"),n=parseInt(t.value);n>r&&(r=n)})),a.append("section",parseInt(r)+1),fetch(ajaxurl,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){e.success&&(n[n.length-1].insertAdjacentHTML("afterend",e.data),t.disabled=!1,s(),l(),i())}))}function c(e){if(e.preventDefault(),!this.classList.contains("edd-promo-notice__trigger")){var t=this.closest(".edd-section-content__row");if(!t){var n=this.getAttribute("data-id");n&&(t=d.querySelector('.edd-section__id[value="'+n+'"]').closest(".edd-section-content__row"))}t.remove()}}function s(){if(d){var e=d.querySelectorAll(".edd-section-content__remove");1===e.length?e[0].classList.add("edd-hidden"):e.forEach((function(e){e.classList.remove("edd-hidden")}))}}function l(){var e=d.querySelectorAll(".edd-section-content__row");if(e.length){e.forEach((function(e){e.querySelector(".edd__handle-actions-order--higher").disabled=!1,e.querySelector(".edd__handle-actions-order--lower").disabled=!1}));var t=e[0];t.querySelector(".edd__handle-actions-order--higher").disabled=!0,e[e.length-1].querySelector(".edd__handle-actions-order--lower").disabled=!0,1===e.length?t.querySelector(".edd__handle-actions-order").classList.add("edd-hidden"):t.querySelector(".edd__handle-actions-order").classList.remove("edd-hidden")}}},305:function(e,t){document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("_edd_product_type");e&&e.addEventListener("change",(function(e){var t=e.target.value,n=document.getElementById("edd_product_files"),d=document.getElementById("edd_download_editor__files-nav-item"),a=document.getElementById("edd_variable_pricing");d.classList.add("ajax--loading");var i=new FormData;i.append("action","edd_swap_download_type"),i.append("product_type",t),i.append("post_id",edd_vars.post_id),i.append("has_variable_pricing",a&&a.checked),fetch(ajaxurl,{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){if(e.success){n.innerHTML=e.data.html;var a=d.querySelector(".label");a&&(a.textContent=e.data.label),document.dispatchEvent(new CustomEvent("edd_download_type_changed",{detail:{productType:t}}))}})).catch((function(e){return console.error("Error:",e)})).finally((function(){d.classList.remove("ajax--loading")}))}))}))},306:function(e,t){document.addEventListener("click",(function(e){if(e.target.classList.contains("edd-button__copy")){var t=e.target.getAttribute("data-clipboard-target"),n=document.querySelector(t);n.select(),n.setSelectionRange(0,99999),navigator.clipboard.writeText(n.value);var d=e.target.innerText;e.target.classList.add("updated-message"),e.target.innerText=edd_vars.copy_success,setTimeout((function(){e.target.classList.remove("updated-message"),e.target.innerText=d}),2e3)}}))},307:function(e,t){var n=document.querySelector(".edd-download-editor__sections");function d(){var e=n.querySelectorAll(".edd-has-handle-actions");e.length&&(a(),e.forEach((function(e){e.querySelector(".edd__handle-actions-order--higher").addEventListener("click",(function(){var e=this.closest(".edd-has-handle-actions"),t=e.previousElementSibling;t&&t.classList.contains("edd-has-handle-actions")&&(this.disabled=!0,t.insertAdjacentElement("beforebegin",e),a())})),e.querySelector(".edd__handle-actions-order--lower").addEventListener("click",(function(){var e=this.closest(".edd-has-handle-actions"),t=e.nextElementSibling;t&&t.classList.contains("edd-has-handle-actions")&&(this.disabled=!0,e.insertAdjacentElement("beforebegin",t),a())}))})))}function a(){document.querySelectorAll(".edd-handle-actions__group").forEach((function(e){var t=e.querySelectorAll(".edd-has-handle-actions");if(t.length){t.forEach((function(e){e.querySelector(".edd__handle-actions-order--higher").disabled=!1,e.querySelector(".edd__handle-actions-order--lower").disabled=!1,e.querySelector(".edd__handle-actions-order").classList.remove("edd-hidden")}));var n=t[0];n.querySelector(".edd__handle-actions-order--higher").disabled=!0,t[t.length-1].querySelector(".edd__handle-actions-order--lower").disabled=!0,1===t.length&&n.querySelector(".edd__handle-actions-order").classList.add("edd-hidden")}}))}n&&d(),["edd_repeatable_row_change","edd_download_type_changed"].forEach((function(e){document.addEventListener(e,(function(e){d()}),!1)}))},308:function(e,t,n){"use strict";n(309)},309:function(e,t){!function(){"use strict";function e(e){var t=e.querySelectorAll("input");Array.from(t).some((function(e){return e.disabled}))?e.classList.add("edd-disabled"):e.classList.remove("edd-disabled")}function t(){var t=new MutationObserver((function(t){t.forEach((function(t){if("attributes"===t.type&&"disabled"===t.attributeName){var n=t.target.closest(".edd-amount-type-wrapper");n&&e(n)}}))}));function n(){document.querySelectorAll(".edd-amount-type-wrapper").forEach((function(n){e(n),n.querySelectorAll("input").forEach((function(e){t.observe(e,{attributes:!0,attributeFilter:["disabled"]})}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}()},38:function(e,t,n){"use strict";(function(e,d){n.d(t,"a",(function(){return a}));var a=function(t){t.tooltip({content:function(){return e(this).prop("title")},tooltipClass:"edd-ui-tooltip",position:{my:"bottom",at:"top-10",collision:"flipfit"},hide:{duration:200},show:{duration:200}})};d(document).ready((function(e){a(e(".edd-help-tip"))}))}).call(this,n(0),n(0))},394:function(e,t,n){"use strict";function d(e,t){var n=document.querySelectorAll("[data-edd-supports-"+e+"]");t.length||(t="false"),n.forEach((function(n){n.classList.contains("edd-hidden--required")||(n.getAttribute("data-edd-supports-"+e).split(",").includes(t)?n.classList.remove("edd-hidden"):n.classList.add("edd-hidden"))}))}function a(e,t){document.querySelectorAll("[data-edd-requires-"+e+"]").forEach((function(n){n.classList.remove("edd-hidden--required"),"true"===n.getAttribute("data-edd-requires-"+e)?n.classList.toggle("edd-hidden",!t):n.classList.toggle("edd-hidden",t),n.classList.contains("edd-hidden")&&n.classList.add("edd-hidden--required")}))}document.querySelectorAll(".edd-requirement").forEach((function(e){var t=e.getAttribute("data-edd-requirement");t&&a(t,e.checked)})),document.addEventListener("change",(function(e){if(e.target.classList.contains("edd-requirement")){var t=e.target.getAttribute("data-edd-requirement");t&&a(t,e.target.checked)}})),document.querySelectorAll(".edd-supports").forEach((function(e){var t=e.getAttribute("data-edd-supported");t&&d(t,e.value)})),document.addEventListener("change",(function(e){if(e.target.classList.contains("edd-supports")){var t=e.target.getAttribute("data-edd-supported");t&&d(t,e.target.value)}}))},4:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}});