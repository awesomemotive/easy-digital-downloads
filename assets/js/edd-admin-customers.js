!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t){var n={vars:{customer_card_wrap_editable:$("#edit-customer-info .editable"),customer_card_wrap_edit_item:$("#edit-customer-info .edit-item"),user_id:$('input[name="customerinfo[user_id]"]'),state_input:$(':input[name="customerinfo[region]"]')},init:function(){this.edit_customer(),this.add_email(),this.user_search(),this.remove_user(),this.cancel_edit(),this.change_country(),this.delete_checked()},edit_customer:function(){$(document.body).on("click","#edit-customer",function(e){e.preventDefault(),n.vars.customer_card_wrap_editable.hide(),n.vars.customer_card_wrap_edit_item.show().css("display","block")})},add_email:function(){$(document.body).on("click","#add-customer-email",function(e){e.preventDefault();const t=$(this),n=t.parent().parent().parent().parent(),i={edd_action:"customer-add-email",customer_id:n.find('input[name="customer-id"]').val(),email:n.find('input[name="additional-email"]').val(),primary:n.find('input[name="make-additional-primary"]').is(":checked"),_wpnonce:n.find('input[name="add_email_nonce"]').val()};n.parent().find(".notice-container").remove(),n.find(".spinner").css("visibility","visible"),t.attr("disabled",!0),$.post(ajaxurl,i,function(e){setTimeout(function(){!0===e.success?window.location.href=e.redirect:(t.attr("disabled",!1),n.before('<div class="notice-container"><div class="notice notice-error inline"><p>'+e.message+"</p></div></div>"),n.find(".spinner").css("visibility","hidden"))},342)},"json")})},user_search:function(){$(document.body).on("click.eddSelectUser",".edd_user_search_results a",function(e){e.preventDefault();const t=$(this).data("userid");n.vars.user_id.val(t)})},remove_user:function(){$(document.body).on("click","#disconnect-customer",function(e){if(e.preventDefault(),confirm(edd_vars.disconnect_customer)){const e={edd_action:"disconnect-userid",customer_id:$('input[name="customerinfo[id]"]').val(),_wpnonce:$("#edit-customer-info #_wpnonce").val()};$.post(ajaxurl,e,function(e){window.location.href=window.location.href},"json")}})},cancel_edit:function(){$(document.body).on("click","#edd-edit-customer-cancel",function(e){e.preventDefault(),n.vars.customer_card_wrap_edit_item.hide(),n.vars.customer_card_wrap_editable.show(),$(".edd_user_search_results").html("")})},change_country:function(){$('select[name="customerinfo[country]"]').change(function(){const e=$(this),t={action:"edd_get_shop_states",country:e.val(),nonce:e.data("nonce"),field_name:"customerinfo[region]"};return $.post(ajaxurl,t,function(e){console.log(e),"nostates"===e?n.vars.state_input.replaceWith('<input type="text" name="'+t.field_name+'" value="" class="edd-edit-toggles medium-text"/>'):n.vars.state_input.replaceWith(e)}),!1})},delete_checked:function(){$("#edd-customer-delete-confirm").change(function(){const e=$("#edd-customer-delete-records"),t=$("#edd-delete-customer");$(this).prop("checked")?(e.attr("disabled",!1),t.attr("disabled",!1)):(e.attr("disabled",!0),e.prop("checked",!1),t.attr("disabled",!0))})}};jQuery(document).ready(function(e){n.init()})}});