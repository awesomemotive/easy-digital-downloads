!function($){"use strict";$(".edd-extension-manager__action").on("click",function(data){data.preventDefault();var $btn=$(this),action=$btn.attr("data-action"),data=$btn.attr("data-plugin"),type=$btn.attr("data-type"),ajaxAction="";if(!$btn.attr("disabled")){switch(action){case"activate":ajaxAction="edd_activate_extension",$btn.text(EDDExtensionManager.activating);break;case"install":ajaxAction="edd_install_extension",$btn.text(EDDExtensionManager.installing);break;default:return}$btn.removeClass("button-primary").attr("disabled",!0).addClass("updating-message");data={action:ajaxAction,nonce:EDDExtensionManager.extension_manager_nonce,plugin:data,type:type,pass:$btn.attr("data-pass"),id:$btn.attr("data-id"),product:$btn.attr("data-product")};$.post(ajaxurl,data).done(function(message){console.log(message);var nextStep,thisStep=$btn.closest(".edd-extension-manager__step");message.success?(nextStep=thisStep.next()).length&&(thisStep.fadeOut(),nextStep.prepend("<p>"+message.data.message+"</p>"),nextStep.fadeIn()):(thisStep.fadeOut(),message=(message=message.data.message)||("plugin"!==type?EDDExtensionManager.extension_install_failed:EDDExtensionManager.plugin_install_failed),thisStep.after("<p>"+message+"</p>"))})}})}((document,jQuery));