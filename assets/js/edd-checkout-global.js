!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(12),o=n(25);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(20)("wks"),o=n(7),a=n(0).Symbol,d="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=d&&a[e]||(d?a:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(0),o=n(2),a=n(14),d=n(7)("src"),i=Function.toString,c=(""+i).split("toString");n(4).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var u="function"==typeof n;u&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(a(n,d)||o(n,d,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:i?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[d]||i.call(this)})},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(17),o=n(32),a=n(31),d=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return d(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(0),o=n(4),a=n(2),d=n(10),i=n(9),c=function(e,t,n){var u,s,l,f,_=e&c.F,p=e&c.G,v=e&c.S,y=e&c.P,h=e&c.B,m=p?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,g=p?o:o[t]||(o[t]={}),w=g.prototype||(g.prototype={});for(u in p&&(n=t),n)l=((s=!_&&m&&void 0!==m[u])?m:n)[u],f=h&&s?i(l,r):y&&"function"==typeof l?i(Function.call,l):l,m&&d(m,u,l,e&c.U),g[u]!=l&&a(g,u,f),y&&w[u]!=l&&(w[u]=l)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";var r=n(15),o=n(30)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(18)("find")},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(5)("unscopables"),o=Array.prototype;void 0==o[r]&&n(2)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=!1},function(e,t,n){var r=n(4),o=n(0),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(19)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(1),o=n(0).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(8);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(1),o=n(27),a=n(5)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(28);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9),o=n(23),a=n(13),d=n(22),i=n(29);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,s=4==e,l=6==e,f=5==e||l,_=t||i;return function(t,i,p){for(var v,y,h=a(t),m=o(h),g=r(i,p,3),w=d(m.length),x=0,b=n?_(t,w):c?_(t,0):void 0;w>x;x++)if((f||x in m)&&(y=g(v=m[x],x,h),e))if(n)b[x]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:b.push(v)}else if(s)return!1;return l?-1:u||s?s:b}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=!n(3)&&!n(6)(function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a})},,,,function(e,t,n){var r=n(12).f,o=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in o||n(3)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},,function(e,t,n){"use strict";n.r(t);n(36),n(16);var r=function(e){var t,n=e;switch(e){case"amex":n="americanexpress",t=32;break;default:t=50}return"\n    <svg\n      width=".concat(t,"\n      height=",32,'\n      class="payment-icon icon-').concat(n,'"\n      role="img"\n    >\n      <use\n        href="#icon-').concat(n,'"\n        xlink:href="#icon-').concat(n,'">\n      </use>\n    </svg>')};n.d(t,"recalculate_taxes",function(){return a});var o=0;function a(e){if("1"==edd_global_vars.taxes_enabled){var t=jQuery("#edd_cc_address"),n=t.find("#billing_country").val(),r=t.find("#card_address").val(),a=t.find("#card_address_2").val(),d=t.find("#card_city").val(),i=t.find("#card_state").val(),c=t.find("#card_zip").val();e||(e=i);var u={action:"edd_recalculate_taxes",card_address:r,card_address_2:a,card_city:d,card_zip:c,state:e,billing_country:n,nonce:jQuery("#edd-checkout-address-fields-nonce").val()};jQuery("#edd_purchase_submit [type=submit]").after('<span class="edd-loading-ajax edd-recalculate-taxes-loading edd-loading"></span>');var s=++o;return jQuery.ajax({type:"POST",data:u,dataType:"json",url:edd_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(e){if(s===o){jQuery("#edd_checkout_cart_form").replaceWith(e.html),jQuery(".edd_cart_amount").html(e.total);var t=new Object;t.postdata=u,t.response=e,jQuery("body").trigger("edd_taxes_recalculated",[t])}jQuery(".edd-recalculate-taxes-loading").remove()}}).fail(function(e){window.console&&window.console.log&&(console.log(e),s===o&&jQuery("body").trigger("edd_taxes_recalculated",[tax_data]))})}}window.recalculate_taxes=a,window.EDD_Checkout=function(e){var t,n,o,d;function i(n){n.preventDefault();e(this);var r=e("#edd-discount").val(),o=e("#edd-discount-loader");if(""==r||r==edd_global_vars.enter_discount)return!1;var i={action:"edd_apply_discount",code:r,form:e("#edd_purchase_form").serialize()};return e("#edd-discount-error-wrap").html("").hide(),o.show(),e.ajax({type:"POST",data:i,dataType:"json",url:edd_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(n){if(n)if("valid"==n.msg){e(".edd_cart_discount").html(n.html),e(".edd_cart_discount_row").show(),e(".edd_cart_amount").each(function(){e(this).text(n.total),e(this).data("total",n.total_plain)}),e("#edd-discount",d).val(""),a();var r=e("#edd_cc_fields .edd-input, #edd_cc_fields .edd-select,#edd_cc_address .edd-input, #edd_cc_address .edd-select,#edd_payment_mode_select .edd-input, #edd_payment_mode_select .edd-select");"0.00"==n.total_plain?(e("#edd_cc_fields,#edd_cc_address,#edd_payment_mode_select").slideUp(),r.removeAttr("required"),e('input[name="edd-gateway"]').val("manual")):(r.is(".card-address-2")||r.attr("required","required"),e("#edd_cc_fields,#edd_cc_address").slideDown()),t.trigger("edd_discount_applied",[n])}else e("#edd-discount-error-wrap").html('<span class="edd_error">'+n.msg+"</span>"),e("#edd-discount-error-wrap").show(),t.trigger("edd_discount_invalid",[n]);else window.console&&window.console.log&&console.log(n),t.trigger("edd_discount_failed",[n]);o.hide()}}).fail(function(e){window.console&&window.console.log&&console.log(e)}),!1}function c(n){var r={action:"edd_remove_discount",code:e(this).data("code")};return e.ajax({type:"POST",data:r,dataType:"json",url:edd_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(n){var r="0"+edd_global_vars.decimal_separator+"00";e(".edd_cart_amount").each(function(){edd_global_vars.currency_sign+r!=e(this).text()&&r+edd_global_vars.currency_sign!=e(this).text()||window.location.reload(),e(this).text(n.total),e(this).data("total",n.total_plain)}),e(".edd_cart_discount").html(n.html),n.discounts||e(".edd_cart_discount_row").hide(),a(),e("#edd_cc_fields,#edd_cc_address").slideDown(),t.trigger("edd_discount_removed",[n])}}).fail(function(e){window.console&&window.console.log&&console.log(e)}),!1}function u(n){var r=e(this),o=r.val(),a=r.data("key"),d=r.closest(".edd_cart_item").data("download-id"),i=r.parent().find('input[name="edd-cart-download-'+a+'-options"]').val(),c=e("#edd_cc_address"),u={action:"edd_update_quantity",quantity:o,download_id:d,options:i,billing_country:c.find("#billing_country").val(),card_state:c.find("#card_state").val()};return e.ajax({type:"POST",data:u,dataType:"json",url:edd_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(n){e(".edd_cart_subtotal_amount").each(function(){e(this).text(n.subtotal)}),e(".edd_cart_tax_amount").each(function(){e(this).text(n.taxes)}),e(".edd_cart_amount").each(function(){e(this).text(n.total),t.trigger("edd_quantity_updated",[n])})}}).fail(function(e){window.console&&window.console.log&&console.log(e)}),!1}return{init:function(){t=e(document.body),n=e("#edd_purchase_form"),o=e(".edd_cart_amount"),o.text(),d=e("#edd_checkout_form_wrap"),t.on("edd_gateway_loaded",function(e){!function(e){var t=e.find(".card-number"),n=e.find(".card-cvc"),r=e.find(".card-expiry");t.length&&"function"==typeof t.payment&&(t.payment("formatCardNumber"),n.payment("formatCardCVC"),r.payment("formatCardExpiry"))}(n)}),t.on("keyup change",".edd-do-validate .card-number",function(){!function(t){var n=t;n.validateCreditCard(function(t){var o=e(".card-type");null==t.card_type?(o.removeClass().addClass("off card-type"),n.removeClass("valid"),n.addClass("error")):(o.removeClass("off"),o.html(r(t.card_type.name)),o.addClass(t.card_type.name),t.length_valid&&t.luhn_valid?(n.addClass("valid"),n.removeClass("error")):(n.removeClass("valid"),n.addClass("error")))})}(e(this))}),t.on("blur change",".card-name",function(){var t=e(this);t.validateCreditCard(function(n){null!=n.card_type?(t.removeClass("valid").addClass("error"),e("#edd-purchase-button").attr("disabled","disabled")):(t.removeClass("error").addClass("valid"),e("#edd-purchase-button").removeAttr("disabled"))})}),t.on("submit","#edd_payment_mode",function(){if(0==e("#edd-gateway option:selected").val())return alert(edd_global_vars.no_gateway),!1}),t.on("click","#edd_payment_mode_select input",function(){e("#edd_payment_mode_select label.edd-gateway-option-selected").removeClass("edd-gateway-option-selected"),e("#edd_payment_mode_select input:checked").parent().addClass("edd-gateway-option-selected")}),d.on("click",".edd-apply-discount",i),d.on("keypress","#edd-discount",function(e){if("13"==e.keyCode)return!1}),d.on("keyup","#edd-discount",function(e){"13"==e.keyCode&&d.find(".edd-apply-discount").trigger("click")}),t.on("click",".edd_discount_remove",c),t.on("click",".edd_discount_link",function(t){t.preventDefault(),e(".edd_discount_link").parent().hide(),e("#edd-discount-code-wrap").show().find("#edd-discount").focus()}),t.find("#edd-discount-code-wrap").hide(),t.find("#edd_show_discount").show(),t.on("change",".edd-item-quantity",u),t.on("click",".edd-amazon-logout #Logout",function(e){e.preventDefault(),amazon.Login.logout(),window.location=edd_amazon.checkoutUri})},recalculate_taxes:a}}(window.jQuery),window.jQuery(document).ready(EDD_Checkout.init)}]);