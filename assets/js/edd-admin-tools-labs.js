(()=>{"use strict";var e={1669:e=>{e.exports=jQuery}},t={};function n(e){const t=e.target;if(!t||"INPUT"!==t.nodeName||"checkbox"!==t.type)return;const n=t.dataset.setting;if(!n)return;t.disabled=!0;const d=t.checked,o=new URLSearchParams;o.append("action","edd_toggle_ajax_setting"),o.append("nonce",eddSettings?.nonce||""),o.append("setting",n),o.append("value",d?"1":"0"),fetch(eddSettings.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin",body:o}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){if(!e?.success)throw new Error(e?.data?.message||"Save failed");document.dispatchEvent(new CustomEvent("eddSettingToggled",{detail:{setting:n,value:d,...e.data}}))})).catch((function(){t.checked=!d})).finally((function(){t.disabled=!1}))}function d(e,t){document.querySelectorAll(".edd-requires__"+e).forEach((function(e){e.classList.remove("edd-hidden--required"),e.classList.toggle("edd-hidden",!t),e.classList.contains("edd-hidden")&&e.classList.add("edd-hidden--required")}))}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-edd-requirement]").forEach((function(e){const t=e.getAttribute("data-edd-requirement");t&&d(t,e.checked)})),document.addEventListener("change",(function(e){const t=e.target;if("checkbox"!==t.type||!t.hasAttribute("data-edd-requirement"))return;const n=t.getAttribute("data-edd-requirement");n&&d(n,t.checked)})),document.addEventListener("eddSettingToggled",(function(e){e.detail?.setting&&d(e.detail.setting,e.detail.value)}))}));var o=function n(d){var o=t[d];if(void 0!==o)return o.exports;var i=t[d]={exports:{}};return e[d](i,i.exports,n),i.exports}(1669);if(void 0===o||"undefined"==typeof wp||!wp)throw new Error("Labs script requires jQuery and WordPress heartbeat");const i=o;document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("change",n),document.addEventListener("eddSettingToggled",(function(e){const t=e?.detail?.cookie;if(t){const e=new Date(1e3*t.expiration),n=`${t.name}=${encodeURIComponent(t.value)}; expires=${e.toUTCString()}; path=/; SameSite=Lax`;document.cookie=n}})),i(document).on("heartbeat-send",(function(e,t){const n=function(){const e=[];return i(".edd-profiler-log").each((function(){const t=i(this);if(t.is(":visible")){const n=t.attr("data-requires");if(n){const t=n.replace(/_profiler$/,"");e.push(t)}}})),e}();n.length&&(t.eddLabsLogs={ids:n})})),i(document).on("heartbeat-tick",(function(e,t){if(!t?.eddLabsLogs)return;const n=t.eddLabsLogs;for(const e in n){const t=i("#edd-profiler-log-"+e+' textarea[name="edd-profiler-log-contents"]');t.length&&t.val(n[e].contents||"");const d=i("#edd-profiler-log-"+e).closest(".inside").find("code");d.length&&n[e].path&&d.text(n[e].path);const o=i('.edd-profiler-log__time[data-profiler="'+e+'"]');o.length&&n[e].updated&&(o.text(n[e].updated),o.closest(".edd-profiler-log__timestamp").removeClass("edd-hidden"))}}))}))})();