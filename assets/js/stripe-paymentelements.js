(()=>{var e={34:(e,t,r)=>{"use strict";var o=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},72:()=>{Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},81:(e,t,r)=>{"use strict";var o=r(9565),n=r(9306),i=r(8551),a=r(6823),d=r(851),s=TypeError;e.exports=function(e,t){var r=arguments.length<2?d(e):t;if(n(r))return i(o(r,e));throw new s(a(e)+" is not iterable")}},283:(e,t,r)=>{"use strict";var o=r(9504),n=r(9039),i=r(4901),a=r(9297),d=r(3724),s=r(350).CONFIGURABLE,u=r(3706),c=r(1181),l=c.enforce,p=c.get,f=String,m=Object.defineProperty,y=o("".slice),g=o("".replace),h=o([].join),b=d&&!n((function(){return 8!==m((function(){}),"length",{value:8}).length})),v=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===y(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(d?m(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&a(r,"arity")&&e.length!==r.arity&&m(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?d&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=l(e);return a(o,"source")||(o.source=h(v,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return i(this)&&p(this).source||u(this)}),"toString")},350:(e,t,r)=>{"use strict";var o=r(3724),n=r(9297),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,d=n(i,"name"),s=d&&"something"===function(){}.name,u=d&&(!o||o&&a(i,"name").configurable);e.exports={EXISTS:d,PROPER:s,CONFIGURABLE:u}},421:e=>{"use strict";e.exports={}},608:(e,t,r)=>{"use strict";var o=r(4576),n=r(5745),i=r(9297),a=r(3392),d=r(4495),s=r(7040),u=o.Symbol,c=n("wks"),l=s?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return i(c,e)||(c[e]=d&&i(u,e)?u[e]:l("Symbol."+e)),c[e]}},616:(e,t,r)=>{"use strict";var o=r(9039);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},741:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?r:t)(o)}},757:(e,t,r)=>{"use strict";var o=r(7751),n=r(4901),i=r(1625),a=r(7040),d=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return n(t)&&i(t.prototype,d(e))}},851:(e,t,r)=>{"use strict";var o=r(6955),n=r(5966),i=r(4117),a=r(6269),d=r(608)("iterator");e.exports=function(e){if(!i(e))return n(e,d)||n(e,"@@iterator")||a[o(e)]}},1072:(e,t,r)=>{"use strict";var o=r(1828),n=r(8727);e.exports=Object.keys||function(e){return o(e,n)}},1181:(e,t,r)=>{"use strict";var o,n,i,a=r(8622),d=r(4576),s=r(34),u=r(6699),c=r(9297),l=r(7629),p=r(6119),f=r(421),m="Object already initialized",y=d.TypeError,g=d.WeakMap;if(a||l.state){var h=l.state||(l.state=new g);h.get=h.get,h.has=h.has,h.set=h.set,o=function(e,t){if(h.has(e))throw new y(m);return t.facade=e,h.set(e,t),t},n=function(e){return h.get(e)||{}},i=function(e){return h.has(e)}}else{var b=p("state");f[b]=!0,o=function(e,t){if(c(e,b))throw new y(m);return t.facade=e,u(e,b,t),t},n=function(e){return c(e,b)?e[b]:{}},i=function(e){return c(e,b)}}e.exports={set:o,get:n,has:i,enforce:function(e){return i(e)?n(e):o(e,{})},getterFor:function(e){return function(t){var r;if(!s(t)||(r=n(t)).type!==e)throw new y("Incompatible receiver, "+e+" required");return r}}}},1291:(e,t,r)=>{"use strict";var o=r(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},1625:(e,t,r)=>{"use strict";var o=r(9504);e.exports=o({}.isPrototypeOf)},1669:e=>{"use strict";e.exports=jQuery},1828:(e,t,r)=>{"use strict";var o=r(9504),n=r(9297),i=r(5397),a=r(9617).indexOf,d=r(421),s=o([].push);e.exports=function(e,t){var r,o=i(e),u=0,c=[];for(r in o)!n(d,r)&&n(o,r)&&s(c,r);for(;t.length>u;)n(o,r=t[u++])&&(~a(c,r)||s(c,r));return c}},2140:(e,t,r)=>{"use strict";var o={};o[r(608)("toStringTag")]="z",e.exports="[object z]"===String(o)},2195:(e,t,r)=>{"use strict";var o=r(9504),n=o({}.toString),i=o("".slice);e.exports=function(e){return i(n(e),8,-1)}},2481:()=>{Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,o=new Array(r);r--;)o[r]=[t[r],e[t[r]]];return o})},2777:(e,t,r)=>{"use strict";var o=r(9565),n=r(34),i=r(757),a=r(5966),d=r(4270),s=r(608),u=TypeError,c=s("toPrimitive");e.exports=function(e,t){if(!n(e)||i(e))return e;var r,s=a(e,c);if(s){if(void 0===t&&(t="default"),r=o(s,e,t),!n(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),d(e,t)}},2796:(e,t,r)=>{"use strict";var o=r(9039),n=r(4901),i=/#|\.prototype\./,a=function(e,t){var r=s[d(e)];return r===c||r!==u&&(n(t)?o(t):!!t)},d=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},2839:(e,t,r)=>{"use strict";var o=r(4576).navigator,n=o&&o.userAgent;e.exports=n?String(n):""},3392:(e,t,r)=>{"use strict";var o=r(9504),n=0,i=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++n+i,36)}},3418:(e,t,r)=>{"use strict";var o=r(6518),n=r(7916);o({target:"Array",stat:!0,forced:!r(4428)((function(e){Array.from(e)}))},{from:n})},3517:(e,t,r)=>{"use strict";var o=r(9504),n=r(9039),i=r(4901),a=r(6955),d=r(7751),s=r(3706),u=function(){},c=d("Reflect","construct"),l=/^\s*(?:class|function)\b/,p=o(l.exec),f=!l.test(u),m=function(e){if(!i(e))return!1;try{return c(u,[],e),!0}catch(e){return!1}},y=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(l,s(e))}catch(e){return!0}};y.sham=!0,e.exports=!c||n((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?y:m},3706:(e,t,r)=>{"use strict";var o=r(9504),n=r(4901),i=r(7629),a=o(Function.toString);n(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},3717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},3724:(e,t,r)=>{"use strict";var o=r(9039);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(e,t,r)=>{"use strict";var o=r(4576),n=r(34),i=o.document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},4117:e=>{"use strict";e.exports=function(e){return null==e}},4209:(e,t,r)=>{"use strict";var o=r(608),n=r(6269),i=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},4213:(e,t,r)=>{"use strict";var o=r(3724),n=r(9504),i=r(9565),a=r(9039),d=r(1072),s=r(3717),u=r(8773),c=r(8981),l=r(7055),p=Object.assign,f=Object.defineProperty,m=n([].concat);e.exports=!p||a((function(){if(o&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!==p({},e)[r]||d(p({},t)).join("")!==n}))?function(e,t){for(var r=c(e),n=arguments.length,a=1,p=s.f,f=u.f;n>a;)for(var y,g=l(arguments[a++]),h=p?m(d(g),p(g)):d(g),b=h.length,v=0;b>v;)y=h[v++],o&&!i(f,g,y)||(r[y]=g[y]);return r}:p},4270:(e,t,r)=>{"use strict";var o=r(9565),n=r(4901),i=r(34),a=TypeError;e.exports=function(e,t){var r,d;if("string"===t&&n(r=e.toString)&&!i(d=o(r,e)))return d;if(n(r=e.valueOf)&&!i(d=o(r,e)))return d;if("string"!==t&&n(r=e.toString)&&!i(d=o(r,e)))return d;throw new a("Can't convert object to primitive value")}},4428:(e,t,r)=>{"use strict";var o=r(608)("iterator"),n=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){n=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!n)return!1}catch(e){return!1}var r=!1;try{var i={};i[o]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},4495:(e,t,r)=>{"use strict";var o=r(9519),n=r(9039),i=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},4550:()=>{String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},4576:function(e,t,r){"use strict";var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r.g&&r.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4659:(e,t,r)=>{"use strict";var o=r(3724),n=r(4913),i=r(6980);e.exports=function(e,t,r){o?n.f(e,t,i(0,r)):e[t]=r}},4901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:(e,t,r)=>{"use strict";var o=r(3724),n=r(5917),i=r(8686),a=r(8551),d=r(6969),s=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l="enumerable",p="configurable",f="writable";t.f=o?i?function(e,t,r){if(a(e),t=d(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var o=c(e,t);o&&o[f]&&(e[t]=r.value,r={configurable:p in r?r[p]:o[p],enumerable:l in r?r[l]:o[l],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(a(e),t=d(t),a(r),n)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5031:(e,t,r)=>{"use strict";var o=r(7751),n=r(9504),i=r(8480),a=r(3717),d=r(8551),s=n([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(d(e)),r=a.f;return r?s(t,r(e)):t}},5397:(e,t,r)=>{"use strict";var o=r(7055),n=r(7750);e.exports=function(e){return o(n(e))}},5610:(e,t,r)=>{"use strict";var o=r(1291),n=Math.max,i=Math.min;e.exports=function(e,t){var r=o(e);return r<0?n(r+t,0):i(r,t)}},5745:(e,t,r)=>{"use strict";var o=r(7629);e.exports=function(e,t){return o[e]||(o[e]=t||{})}},5917:(e,t,r)=>{"use strict";var o=r(3724),n=r(9039),i=r(4055);e.exports=!o&&!n((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},5966:(e,t,r)=>{"use strict";var o=r(9306),n=r(4117);e.exports=function(e,t){var r=e[t];return n(r)?void 0:o(r)}},6080:(e,t,r)=>{"use strict";var o=r(7476),n=r(9306),i=r(616),a=o(o.bind);e.exports=function(e,t){return n(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},6119:(e,t,r)=>{"use strict";var o=r(5745),n=r(3392),i=o("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},6198:(e,t,r)=>{"use strict";var o=r(8014);e.exports=function(e){return o(e.length)}},6269:e=>{"use strict";e.exports={}},6319:(e,t,r)=>{"use strict";var o=r(8551),n=r(9539);e.exports=function(e,t,r,i){try{return i?t(o(r)[0],r[1]):t(r)}catch(t){n(e,"throw",t)}}},6395:e=>{"use strict";e.exports=!1},6518:(e,t,r)=>{"use strict";var o=r(4576),n=r(7347).f,i=r(6699),a=r(6840),d=r(9433),s=r(7740),u=r(2796);e.exports=function(e,t){var r,c,l,p,f,m=e.target,y=e.global,g=e.stat;if(r=y?o:g?o[m]||d(m,{}):o[m]&&o[m].prototype)for(c in t){if(p=t[c],l=e.dontCallGetSet?(f=n(r,c))&&f.value:r[c],!u(y?c:m+(g?".":"#")+c,e.forced)&&void 0!==l){if(typeof p==typeof l)continue;s(p,l)}(e.sham||l&&l.sham)&&i(p,"sham",!0),a(r,c,p,e)}}},6699:(e,t,r)=>{"use strict";var o=r(3724),n=r(4913),i=r(6980);e.exports=o?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},6823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6840:(e,t,r)=>{"use strict";var o=r(4901),n=r(4913),i=r(283),a=r(9433);e.exports=function(e,t,r,d){d||(d={});var s=d.enumerable,u=void 0!==d.name?d.name:t;if(o(r)&&i(r,u,d),d.global)s?e[t]=r:a(t,r);else{try{d.unsafe?e[t]&&(s=!0):delete e[t]}catch(e){}s?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return e}},6955:(e,t,r)=>{"use strict";var o=r(2140),n=r(4901),i=r(2195),a=r(608)("toStringTag"),d=Object,s="Arguments"===i(function(){return arguments}());e.exports=o?i:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=d(e),a))?r:s?i(t):"Object"===(o=i(t))&&n(t.callee)?"Arguments":o}},6969:(e,t,r)=>{"use strict";var o=r(2777),n=r(757);e.exports=function(e){var t=o(e,"string");return n(t)?t:t+""}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:(e,t,r)=>{"use strict";var o=r(4495);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(e,t,r)=>{"use strict";var o=r(9504),n=r(9039),i=r(2195),a=Object,d=o("".split);e.exports=n((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?d(e,""):a(e)}:a},7347:(e,t,r)=>{"use strict";var o=r(3724),n=r(9565),i=r(8773),a=r(6980),d=r(5397),s=r(6969),u=r(9297),c=r(5917),l=Object.getOwnPropertyDescriptor;t.f=o?l:function(e,t){if(e=d(e),t=s(t),c)try{return l(e,t)}catch(e){}if(u(e,t))return a(!n(i.f,e,t),e[t])}},7476:(e,t,r)=>{"use strict";var o=r(2195),n=r(9504);e.exports=function(e){if("Function"===o(e))return n(e)}},7629:(e,t,r)=>{"use strict";var o=r(6395),n=r(4576),i=r(9433),a="__core-js_shared__",d=e.exports=n[a]||i(a,{});(d.versions||(d.versions=[])).push({version:"3.41.0",mode:o?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7639:()=>{[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},7740:(e,t,r)=>{"use strict";var o=r(9297),n=r(5031),i=r(7347),a=r(4913);e.exports=function(e,t,r){for(var d=n(t),s=a.f,u=i.f,c=0;c<d.length;c++){var l=d[c];o(e,l)||r&&o(r,l)||s(e,l,u(t,l))}}},7750:(e,t,r)=>{"use strict";var o=r(4117),n=TypeError;e.exports=function(e){if(o(e))throw new n("Can't call method on "+e);return e}},7751:(e,t,r)=>{"use strict";var o=r(4576),n=r(4901);e.exports=function(e,t){return arguments.length<2?(r=o[e],n(r)?r:void 0):o[e]&&o[e][t];var r}},7916:(e,t,r)=>{"use strict";var o=r(6080),n=r(9565),i=r(8981),a=r(6319),d=r(4209),s=r(3517),u=r(6198),c=r(4659),l=r(81),p=r(851),f=Array;e.exports=function(e){var t=i(e),r=s(this),m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y;g&&(y=o(y,m>2?arguments[2]:void 0));var h,b,v,w,_,S,x=p(t),E=0;if(!x||this===f&&d(x))for(h=u(t),b=r?new this(h):f(h);h>E;E++)S=g?y(t[E],E):t[E],c(b,E,S);else for(b=r?new this:[],_=(w=l(t,x)).next;!(v=n(_,w)).done;E++)S=g?a(w,y,[v.value,E],!0):v.value,c(b,E,S);return b.length=E,b}},8014:(e,t,r)=>{"use strict";var o=r(1291),n=Math.min;e.exports=function(e){var t=o(e);return t>0?n(t,9007199254740991):0}},8480:(e,t,r)=>{"use strict";var o=r(1828),n=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,n)}},8551:(e,t,r)=>{"use strict";var o=r(34),n=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not an object")}},8622:(e,t,r)=>{"use strict";var o=r(4576),n=r(4901),i=o.WeakMap;e.exports=n(i)&&/native code/.test(String(i))},8686:(e,t,r)=>{"use strict";var o=r(3724),n=r(9039);e.exports=o&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8773:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,n=o&&!r.call({1:2},1);t.f=n?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},8981:(e,t,r)=>{"use strict";var o=r(7750),n=Object;e.exports=function(e){return n(o(e))}},9039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},9085:(e,t,r)=>{"use strict";var o=r(6518),n=r(4213);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},9297:(e,t,r)=>{"use strict";var o=r(9504),n=r(8981),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(n(e),t)}},9306:(e,t,r)=>{"use strict";var o=r(4901),n=r(6823),i=TypeError;e.exports=function(e){if(o(e))return e;throw new i(n(e)+" is not a function")}},9433:(e,t,r)=>{"use strict";var o=r(4576),n=Object.defineProperty;e.exports=function(e,t){try{n(o,e,{value:t,configurable:!0,writable:!0})}catch(r){o[e]=t}return t}},9504:(e,t,r)=>{"use strict";var o=r(616),n=Function.prototype,i=n.call,a=o&&n.bind.bind(i,i);e.exports=o?a:function(e){return function(){return i.apply(e,arguments)}}},9519:(e,t,r)=>{"use strict";var o,n,i=r(4576),a=r(2839),d=i.process,s=i.Deno,u=d&&d.versions||s&&s.version,c=u&&u.v8;c&&(n=(o=c.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!n&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(n=+o[1]),e.exports=n},9539:(e,t,r)=>{"use strict";var o=r(9565),n=r(8551),i=r(5966);e.exports=function(e,t,r){var a,d;n(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw r;return r}a=o(a,e)}catch(e){d=!0,a=e}if("throw"===t)throw r;if(d)throw a;return n(a),r}},9565:(e,t,r)=>{"use strict";var o=r(616),n=Function.prototype.call;e.exports=o?n.bind(n):function(){return n.apply(n,arguments)}},9617:(e,t,r)=>{"use strict";var o=r(5397),n=r(5610),i=r(6198),a=function(e){return function(t,r,a){var d=o(t),s=i(d);if(0===s)return!e&&-1;var u,c=n(a,s);if(e&&r!=r){for(;s>c;)if((u=d[c++])!=u)return!0}else for(;s>c;c++)if((e||c in d)&&d[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";r(4550),r(72),r(2481),r(7639);var e=r(1669);function t(t,r){const o={type:"POST",dataType:"json",xhrFields:{withCredentials:!0},url:window.edd_scripts&&window.edd_scripts.ajaxurl||window.ajaxurl,data:{action:t,...r}},n=e.Deferred((function(t){t.jqXHR=e.ajax(o).done((function(e){"1"!==e&&1!==e||(e={success:!0}),"object"==typeof e&&void 0!==typeof e.success?t[e.success?"resolveWith":"rejectWith"](this,[e.data]):t.rejectWith(this,[e])})).fail((function(){t.rejectWith(this,arguments)}))})),i=n.promise();return i.abort=function(){return n.jqXHR.abort(),this},i}function o(e,t="error"){const r=document.createElement("p");return r.classList.add("edd-alert"),r.classList.add("edd-stripe-alert"),r.style.clear="both","error"===t?r.classList.add("edd-alert-error"):r.classList.add("edd-alert-success"),r.innerHTML=e||edd_stripe_vars.generic_error,r}function n(e){return e?""===e.value?null:e.value:null}function i(e,t){"true"===edd_stripe_vars.debuggingEnabled&&console.log("EDD Stripe - Debugging","\n","*".repeat(e.length+5),"\n",e,"\n","*".repeat(e.length+5),"\n",JSON.stringify(t,null,4))}function a(e){return null===e?window.eddStripe:!e in window.eddStripe?"":window.eddStripe[e]}function d(e,t,r){if(window.eddStripe[e]=t,r)return window.eddStripe[e]}r(1669);var s=r(1669);let u={...edd_stripe_vars.elementsCustomizations};function c(){if(window.eddStripe.elementMounted=!1,!document.querySelector(a("elementsTarget")))return;const e=p(),t=function(){const e=document.createElement("label");e.setAttribute("id","edds-sample-label"),e.setAttribute("for","edds-sample-input"),e.setAttribute("class","edd-label");const t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("name","edds-sample-input"),t.setAttribute("class","edd-input"),t.setAttribute("id","edds-sample-input"),t.setAttribute("readonly","readonly"),e.appendChild(t);const r=document.getElementById("edd-stripe-payment-element");r.parentNode.insertBefore(e,r);const o=document.querySelector("#edds-sample-input"),n=document.querySelector("#edds-sample-input",":focus"),i=document.querySelector("#edds-sample-input",":hover"),d=window.getComputedStyle(o),s=window.getComputedStyle(n),c=window.getComputedStyle(i),l=u.theme,p={colorText:d.getPropertyValue("color"),colorBackground:d.getPropertyValue("background-color"),borderRadius:d.getPropertyValue("border-radius"),colorIconTab:d.getPropertyValue("color"),...u.variables},f={borderTop:d.getPropertyValue("border-top"),borderRight:d.getPropertyValue("border-right"),borderBottom:d.getPropertyValue("border-bottom"),borderLeft:d.getPropertyValue("border-left"),backgroundColor:d.getPropertyValue("background-color"),borderRadius:d.getPropertyValue("border-radius"),borderColor:d.getPropertyValue("border-color")},m={borderTop:c.getPropertyValue("border-top"),borderRight:c.getPropertyValue("border-right"),borderBottom:c.getPropertyValue("border-bottom"),borderLeft:c.getPropertyValue("border-left"),backgroundColor:c.getPropertyValue("background-color"),borderRadius:c.getPropertyValue("border-radius"),borderColor:c.getPropertyValue("border-color")},y={borderTop:s.getPropertyValue("border-top"),borderRight:s.getPropertyValue("border-right"),borderBottom:s.getPropertyValue("border-bottom"),borderLeft:s.getPropertyValue("border-left"),backgroundColor:s.getPropertyValue("background-color"),borderRadius:s.getPropertyValue("border-radius"),borderColor:s.getPropertyValue("border-color")},g=document.querySelector("#edds-sample-label"),h=window.getComputedStyle(g),b={".Input":f,".Input:focus":y,".Input:hover":m,".Label":{fontSize:h.getPropertyValue("font-size"),fontWeight:h.getPropertyValue("font-weight"),fontFamily:h.getPropertyValue("font-family"),color:h.getPropertyValue("color")},".CheckboxInput":{borderTop:d.getPropertyValue("border-top"),borderRight:d.getPropertyValue("border-top"),borderBottom:d.getPropertyValue("border-top"),borderLeft:d.getPropertyValue("border-top"),borderRadius:d.getPropertyValue("border-radius"),backgroundColor:d.getPropertyValue("background-color")},".CheckboxInput:hover":{borderTop:c.getPropertyValue("border-top"),borderRight:c.getPropertyValue("border-top"),borderBottom:c.getPropertyValue("border-top"),borderLeft:c.getPropertyValue("border-top")},".CodeInput":f,".CodeInput:focus":y},v=document.querySelector(".edd-gateway-option:not(.edd-gateway-option-selected)");let w;if(null!==v&&!1===a("singleGateway")){const e=document.querySelector(".edd-gateway-option-selected"),t=window.getComputedStyle(v),r=window.getComputedStyle(e);w={".Tab":{border:t.getPropertyValue("border"),backgroundColor:t.getPropertyValue("background-color"),borderRadius:t.getPropertyValue("border-radius")},".Tab--selected":{border:r.getPropertyValue("border"),backgroundColor:r.getPropertyValue("background-color"),borderRadius:r.getPropertyValue("border-radius")},".Tab:hover":{border:r.getPropertyValue("border"),backgroundColor:r.getPropertyValue("background-color"),borderRadius:r.getPropertyValue("border-radius")}}}else w={".Tab":f,".Tab--selected":{borderTop:s.getPropertyValue("border-top"),borderRight:s.getPropertyValue("border-right"),borderBottom:s.getPropertyValue("border-bottom"),borderLeft:s.getPropertyValue("border-left"),backgroundColor:"#fff",borderRadius:s.getPropertyValue("border-radius"),borderColor:s.getPropertyValue("border-color")},".Tab:hover":y};e.remove();const _={...b,...w};return Object.keys(u.rules).forEach((e=>{let t={};_[e]&&(t=_[e]),_[e]={...t,...u.rules[e]}})),{theme:l,labels:u.labels,variables:p,rules:_}}();let r=[];u.fonts.length&&u.fonts.forEach((e=>r.push(e)));const o={mode:"payment",amount:e,setupFutureUsage:u.setupFutureUsage,paymentMethodCreation:"manual",currency:edd_stripe_vars.currency.toLowerCase(),loader:"always",appearance:t,fonts:r};u.payment_method_configuration.length?o.payment_method_configuration=u.payment_method_configuration:u.paymentMethodTypes.length&&(o.paymentMethodTypes=u.paymentMethodTypes),i("Stripe.elements() creation options",o);let n=window.eddStripe.elements(o);window.eddStripe.configuredElement=n;let d={defaultValues:{billingDetails:f(document.getElementById("edd_purchase_form"))},fields:u.fields,layout:u.layout,wallets:u.wallets,terms:u.terms,business:{name:edd_stripe_vars.store_name}};i("element.create() options",d);let c=n.create("payment",d);window.eddStripe.paymentElement=c,c.mount(a("elementsTarget")),function(){let e=s(window),t=s(document);e.on("edd_quantity_updated",(()=>l("quantity updated"))),t.on("edd_discount_applied",(()=>l("discount applied"))),t.on("edd_discount_removed",(()=>l("discount removed"))),e.on("edd_taxes_recalculated",(()=>l("taxes recalcluated"))),document.addEventListener("keydown",(e=>{"Enter"===e.key&&m()&&e.preventDefault()}));[...document.getElementById("edd_purchase_form").querySelectorAll("[required]"),...document.querySelectorAll("#edd_cc_address .edd-input:not([required]), #edd_cc_address .edd-select:not([required])")].forEach((e=>{e.addEventListener("change",(()=>{!async function(){if(!x())return;let e={defaultValues:{billingDetails:f(document.getElementById("edd_purchase_form"))}};var t;i("updateElementBillingDetails: updateArgs",e),t=e,window.eddStripe.paymentElement.update(t)}()}))})),window.eddStripe.paymentElement.on("change",(e=>{x()&&(i("paymentElement change event",e),v(),!0===e.complete?(window.eddStripe.elementComplete=!0,_()):(window.eddStripe.elementComplete=!1,w()))}))}(),window.eddStripe.elementMounted=!0,window.eddStripe.isAtFailureLimit=!1}async function l(e){if(!m())return;v();let t=p();i(e,t),_(),window.eddStripe.configuredElement.update({amount:t})}function p(){let e,t;return e=document.querySelector(".edd_cart_total .edd_cart_amount"),t=e?e.getAttribute("data-total"):0,t=parseFloat(t),"false"===edd_stripe_vars.is_zero_decimal&&(t=Math.round(100*t)),t}function f(e){let t=y(e,"edd_email"),r=n(e.querySelector("#card_name"));if(null===r){r=y(e,"edd_first");let t=y(e,"edd_last");t&&(r+=" "+t)}return{email:t,name:r,phone:n(e.querySelector(".edd-phone")),address:{line1:n(e.querySelector("#card_address")),line2:n(e.querySelector("#card_address_2")),city:n(e.querySelector("#card_city")),state:n(e.querySelector("#card_state")),postal_code:n(e.querySelector("#card_zip")),country:n(e.querySelector("#billing_country"))}}}function m(){return Boolean(document.getElementById("edd-stripe-payment-element"))}function y(e,t){let r=n(e.querySelector(`input[name="${t}"]`));if(r)return r;const o=t.replace(/-/g,"_");return r=n(e.querySelector(`#${o}`)),r||n(e.querySelector(`#${t}`))}var g=r(1669);function h(){if(c(),!1===window.eddStripe.elementMounted)return;window.eddStripe.intentFingerprint="",window.eddStripe.intentType="",window.eddStripe.intentId="",w(),g(document).off("click","#edd_purchase_form #edd_purchase_submit [type=submit]");const e=document.getElementById("edd-purchase-button");["click","keydown"].forEach((t=>{e.addEventListener(t,b)}))}async function b(e){if(x()&&(!e.key||"Enter"===e.key)){if(!function(){let e=!0;return document.getElementById("edd_purchase_form").querySelectorAll("[required]").forEach((t=>{!1===t.checkValidity()&&(t.reportValidity(),e=!1)})),e}())return!1;v(!1);try{let e=f(document.getElementById("edd_purchase_form"));const{paymentMethod:r}=await function(e){return window.eddStripe.createPaymentMethod({elements:window.eddStripe.configuredElement,params:{billing_details:e}}).then((function({error:e,paymentMethod:t}){return e?(S(e),_(),!1):{paymentMethod:t}})).catch((e=>(S(e),_(),!1)))}(e);if(!r)return!1;let{token:o,client_secret:n,intent_type:i,intent_fingerprint:a,intent_id:d}=await async function(e){let r=g("#edd-process-stripe-token");return t("edds_process_purchase_form",{form_data:g("#edd_purchase_form").serialize(),timestamp:r.length?r.data("timestamp"):"",token:r.length?r.data("token"):"",intent_type:window.eddStripe.intentType,intent_id:window.eddStripe.intentId,intent_fingerprint:window.eddStripe.intentFingerprint,payment_method:e})}(r);window.eddStripe.intentType=i,window.eddStripe.intentFingerprint=a,window.eddStripe.intentId=d,document.getElementById("edd-process-checkout-nonce").value=o;const s="PaymentIntent"===i?"confirmPayment":"confirmSetup",u={clientSecret:n,confirmParams:{return_url:edd_stripe_vars.successPageUri+"?payment_intent="+d+"&redirect_status=processing",payment_method:r.id},redirect:"if_required"},{error:c}=await window.eddStripe[s](u);if(c)return S(c),_(),!1;!async function(){const{intent:e,status:r,order_id:o}=await function(){let e=g("#edd_purchase_form"),r=g("#edd-process-stripe-token"),o=e.serialize();return 0===e.length&&(o=`edd-process-checkout-nonce=${g("#edd-process-checkout-nonce").val()}`),t("edds_create_and_complete_order",{form_data:o,timestamp:r.length?r.data("timestamp"):"",token:r.length?r.data("token"):"",intent_id:window.eddStripe.intentId,intent_type:window.eddStripe.intentType})}();var n;switch(e.status){case"succeeded":n=edd_stripe_vars.successPageUri;break;case"processing":n=edd_stripe_vars.successPageUri+"?payment_intent="+e.id+"&redirect_status="+r;break;default:n=edd_stripe_vars.failurePageUri,o&&(n+="?order_id="+o)}window.location.replace(n)}()}catch(e){return S(e),_(),!1}}}function v(e=!0){window.eddStripe.paymentElement.update({readOnly:!0}),function(){let e=g("#edd-purchase-button").parent();0===e.find(".edd-loading-ajax").length&&e.append('<span class="edd-loading-ajax edd-loading"></span>')}();let t=g("#edd-purchase-button");t.attr("data-edd-button-state","updating"),t.prop("disabled","disabled"),t.prop("readonly","readonly"),g(".edd_errors.edd-alert-error").remove(),g(".edd-error").hide(),g("#edd-stripe-payment-errors").remove(),g(".edd-stripe-alert").remove(),e&&t.parent().find(".edd-loading-ajax").remove()}function w(e=!1){window.eddStripe.paymentElement.update({readOnly:!1});let t=g("#edd-purchase-button");t.attr("data-edd-button-state","disabled"),t.prop("disabled","disabled"),t.prop("readonly","readonly"),t.parent().find(".edd-loading-ajax").remove(),e&&(g(".edd_errors.edd-alert-error").remove(),g(".edd-error").hide(),g("#edd-stripe-payment-errors").remove(),g(".edd-stripe-alert").remove())}function _(){if(window.eddStripe.isAtFailureLimit)return;window.eddStripe.paymentElement.update({readOnly:!1});let e=g("#edd-purchase-button");e.attr("data-edd-button-state","ready"),e.prop("disabled",""),e.prop("readonly",""),e.parent().find(".edd-loading-ajax").remove(),g(".edd_errors.edd-alert-error").remove(),g(".edd-error").hide()}async function S(e){i("Error",e);let{code:r,message:n,type:a}=e;const{elementsCustomizations:{i18n:{errorMessages:d}}}=window.edd_stripe_vars;n||(n=edd_stripe_vars.generic_error);const s=o(r&&d[r]?d[r]:n);if(r&&"incomplete"!==r){let{is_at_limit:r,message:n}=await t("edds_payment_elements_rate_limit_tick",e);if(r)return void function(e=""){window.eddStripe.isAtFailureLimit=!0,window.eddStripe.paymentElement.unmount(),g("#edd_cc_fields").slideUp().remove(),g("#edd-purchase-button").remove();let t=o(e,"error");g(".edd-stripe-alert").remove(),g(edd_global_vars.checkout_error_anchor).before(t)}(n)}g(".edd-stripe-alert").remove(),g(edd_global_vars.checkout_error_anchor).before(s),g(document.body).trigger("edd_checkout_error",[e]),"incomplete"===r&&g(".edd-stripe-alert").removeClass("edd-alert-error").addClass("edd-alert-warn"),window.console&&e.responseText&&window.console.error(e.responseText)}function x(){let e=document.getElementById("edd-process-stripe-token");return e||(e=document.getElementById("edd-stripe-payment-element"),e&&edd_global_vars.showStoreErrors&&console.warn("Please update your custom checkout to use edds_get_tokenizer_input() for a more secure checkout.")),!!e&&document.querySelector(".edd_cart_total .edd_cart_amount").dataset.total>0}var E=r(1669);function k(){if(d("elementsTarget","#edd-stripe-payment-element"),"1"!==edd_scripts.is_checkout)return;let e=document.querySelector('input[name="edd-gateway"]');window.eddStripe.isBuyNow=!1,e&&"stripe"===e.value?(d("singleGateway",!0),h()):(d("singleGateway",!1),E(document.body).on("edd_gateway_loaded",((e,t)=>{"stripe"===t&&h()})))}function P(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r(9085),r(3418);var T,O,C,V,A,M=(T=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],O=function(){function e(t){var r=t.targetModal,o=t.triggers,n=void 0===o?[]:o,i=t.onShow,a=void 0===i?function(){}:i,d=t.onClose,s=void 0===d?function(){}:d,u=t.openTrigger,c=void 0===u?"data-micromodal-trigger":u,l=t.closeTrigger,p=void 0===l?"data-micromodal-close":l,f=t.openClass,m=void 0===f?"is-open":f,y=t.disableScroll,g=void 0!==y&&y,h=t.disableFocus,b=void 0!==h&&h,v=t.awaitCloseAnimation,w=void 0!==v&&v,_=t.awaitOpenAnimation,S=void 0!==_&&_,x=t.debugMode,E=void 0!==x&&x;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal="string"==typeof r?document.getElementById(r):r,this.config={debugMode:E,disableScroll:g,openTrigger:c,closeTrigger:p,openClass:m,onShow:a,onClose:s,awaitCloseAnimation:w,awaitOpenAnimation:S,disableFocus:b},n.length>0&&this.registerTriggers.apply(this,P(n)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t;return(t=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var r=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(r),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(e){this.modal="string"==typeof e?document.getElementById(e):e,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(T);return Array.apply(void 0,P(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var r=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));r.length>0&&r[0].focus(),0===r.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var r=t.indexOf(document.activeElement);e.shiftKey&&0===r&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&r===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}(),C=null,V=function(e){if("string"==typeof id?!document.getElementById(e):!e)return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},A=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var r in t)V(r);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),r=P(document.querySelectorAll("[".concat(t.openTrigger,"]"))),o=function(e,t){var r=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===r[o]&&(r[o]=[]),r[o].push(e)})),r}(r,t.openTrigger);if(!0!==t.debugMode||!1!==A(r,o))for(var n in o){var i=o[n];t.targetModal=n,t.triggers=P(i),C=new O(t)}},show:function(e,t){var r=t||{};r.targetModal=e,!0===r.debugMode&&!1===V(e)||(C&&C.removeEventListeners(),(C=new O(r)).showModal())},close:function(e){e?C.closeModalByIdOrElement(e):C.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=M);const q=M,L={disableScroll:!0,awaitOpenAnimation:!0,awaitCloseAnimation:!0},I=function(e,t){const r={...L,...t};q.show(e,r)};var F=r(1669);function B(){document.querySelectorAll(".edds-buy-now").forEach((e=>{e.classList.contains("edd-free-download")||"add_to_cart"!==e.closest("form").querySelector(".edd_action_input").value&&e.addEventListener("click",(e=>{window.eddStripe.activeBuyNow=e;const{downloadId:r,nonce:o}=e.currentTarget.dataset,n=e.currentTarget.dataset.token.length?e.currentTarget.dataset.token:"",i=e.currentTarget.dataset.timestamp.length?e.currentTarget.dataset.timestamp:"";if(!r)return;e.preventDefault(),e.stopImmediatePropagation();let a=null,d=1;const s=e.currentTarget.closest(".edd_download_purchase_form"),u=s.querySelector(`.edd_price_option_${r}:checked`);u&&(a=u.value);const c=s.querySelector('input[name="edd_download_quantity"]');c&&(d=c.value),function(e){let r=document.querySelector("#edds-buy-now-modal-content");I("edds-buy-now",{onShow(){r.innerHTML='<span class="edd-loading-ajax edd-loading"></span>';const{downloadId:o,priceId:n,quantity:i,nonce:a,addToCartForm:d,timestamp:s,token:u}=e;(function(e,r,o,n,i,a,d){return t("edds_add_to_cart",{download_id:e,price_id:r,quantity:o,nonce:n,post_data:F(i).serialize(),timestamp:a,token:d})})(o,n,i,a,d,s,u).then((({checkout:e})=>{window.eddStripe.isBuyNow=!0,r.innerHTML=e;let t=document.querySelector("#edds-buy-now-modal-content #edd-purchase-button");t.length&&(t.value=edd_stripe_vars.formLoadingText),window.EDD_Checkout.init();let o=document.querySelector("#edds-buy-now-modal-content .edd_cart_amount"),{total:n}=o.dataset;n>0&&(window.eddStripe.singleGateway=!0,h())})).fail((({message:e})=>{document.querySelector("#edds-buy-now-modal-content").innerHTML=e}))},onClose(){window.eddStripe.intentId="",window.eddStripe.clientSecret="",window.eddStripe.intentType="",window.eddStripe.intentFingerprint="",t("edds_empty_cart")}})}({downloadId:r,priceId:a,quantity:d,nonce:o,addToCartForm:s,timestamp:i,token:n})}))})),F(document.body).on("edd_checkout_error",(()=>{const e=document.querySelector("#edds-buy-now #edd-purchase-button");if(!e)return;const{i18n:{completePurchase:t}}=edd_stripe_vars,r=document.querySelector(".edd_cart_amount"),{total:o,totalCurrency:n}=r.dataset;"0"!==o&&setTimeout((()=>{e.value=`${n} - ${t}`}),10)}))}(()=>{try{window.eddStripe=new Stripe(edd_stripe_vars.publishable_key,{betas:["elements_enable_deferred_intent_beta_1"]}),window.eddStripe._plugin={apiRequest:t,generateNotice:o,createAndMountElement:c,getBillingDetails:f},wp.domReady(k),wp.domReady(B)}catch(e){alert(e.message)}})()})()})();