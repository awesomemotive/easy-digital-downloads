!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=20)}({20:function(t,e,o){"use strict";o.r(e);const n=t=>{const{type:e}=t;return"pie"===e||"doughnut"===e},r={enabled:!1,mode:"index",position:"nearest",custom:function(t){let e=document.getElementById("edd-chartjs-tooltip");if(e||((e=document.createElement("div")).id="edd-chartjs-tooltip",e.innerHTML="<table></table>",this._chart.canvas.parentNode.appendChild(e)),0===t.opacity)return void(e.style.opacity=0);if(e.classList.remove("above","below","no-transform"),t.yAlign?e.classList.add(t.yAlign):e.classList.add("no-transform"),t.body){const o=t.title||[],n=t.body.map(function(t){return t.lines});let r="<thead>";o.forEach(function(t){r+="<tr><th>"+t+"</th></tr>"}),r+="</thead><tbody>",n.forEach(function(e,o){const n=t.labelColors[o],{borderColor:s,backgroundColor:a}=n;let d=s;"rgb(230, 230, 230)"!==d&&"#fff"!==d||(d=a);const i='<span class="edd-chartjs-tooltip-key" style="'+[`background: ${d}`,`border-color: ${d}`,"border-width: 2px"].join(";")+'"></span>';r+="<tr><td>"+i+e+"</td></tr>"}),r+="</tbody>",e.querySelector("table").innerHTML=r}const o=this._chart.canvas.offsetTop,n=this._chart.canvas.offsetLeft;e.style.opacity=1,e.style.left=n+t.caretX+"px",e.style.top=o+t.caretY+"px",e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.padding=t.yPadding+"px "+t.xPadding+"px"}},s=t=>({...r,callbacks:{label:function(e,o){const{options:{datasets:n}}=t,r=n[Object.keys(n)[e.datasetIndex]],s=((t,e)=>{const{currency_sign:o,currency_pos:n}=edd_vars;let r=t;const{type:s}=e;if("currency"===s){const e=t.toFixed(2);r="before"===n?o+e:e+o}return r})(e.yLabel,r);return`${o.datasets[e.datasetIndex].label}: ${s}`}}}),a=t=>({...r,callbacks:{label:function(t,e){const o=e.datasets[t.datasetIndex],n=o.data.reduce(function(t,e,o,n){return t+e}),r=o.data[t.index],s=Math.floor(r/n*100+.5);return`${e.labels[t.index]}: ${r} (${s}%)`}}});window.edd=window.edd||{},window.edd.renderChart=(t=>{n(t);n(t)?(t=>{const{target:e}=t;Chart.defaults.global.pointHitDetectionRadius=5,t.options.tooltips=a(t),new Chart(document.getElementById(e),t)})(t):(t=>{const{dates:e,options:o,data:n,target:r}=t;Chart.defaults.global.pointHitDetectionRadius=5,_.each(n.datasets,t=>{_.each(t.data,(t,o)=>{e.hour_by_hour?t.x=moment(t.x).utcOffset(e.utc_offset).format("LLL"):t.x=moment(t.x).utcOffset(0).format("LLL")})}),_.each(o.scales.xAxes,t=>{e.day_by_day||(t.time.unit="month"),t.time.min=moment(e.start.date),t.time.max=moment(e.end.date)}),t.options.tooltips=s(t),new Chart(document.getElementById(r),t)})(t)}),"undefined"!=typeof postboxes&&/edd-reports/.test(pagenow)&&postboxes.add_postbox_toggles(pagenow);const d={init:function(){this.meta_boxes(),this.date_options(),this.customers_export(),this.filters()},meta_boxes:function(){$(".edd-reports-wrapper .postbox .handlediv").remove(),$(".edd-reports-wrapper .postbox").removeClass("closed"),setTimeout(function(){$(".edd-reports-wrapper .postbox .hndle").unbind("click.postboxes")},1)},date_options:function(){$("select.edd-graphs-date-options").on("change",function(t){const e=$(this),o=e.parent().siblings(".edd-date-range-options");"other"===e.val()?o.removeClass("screen-reader-text"):o.addClass("screen-reader-text")})},customers_export:function(){$("#edd_customer_export_download").change(function(){const t=$(this),e=$("option:selected",t).val(),o=$("#edd_customer_export_option");if("0"===t.val()?o.show():o.hide(),0!==parseInt(e)){const t={action:"edd_check_for_download_price_variations",download_id:e,all_prices:!0};var n=$(".edd_price_options_select");$.post(ajaxurl,t,function(t){n.remove(),$("#edd_customer_export_download_chosen").after(t)})}else n.remove()})},filters:function(){$(".edd_countries_filter").on("change",function(){const t=$(this),e={action:"edd_get_shop_states",country:t.val(),nonce:t.data("nonce"),field_name:"edd_regions_filter"};return $.post(ajaxurl,e,function(t){$("select.edd_regions_filter").find("option:gt(0)").remove(),"nostates"!==t&&$(t).find("option:gt(0)").appendTo("select.edd_regions_filter"),$("select.edd_regions_filter").trigger("chosen:updated")}),!1})}};jQuery(document).ready(function(t){d.init()})}});