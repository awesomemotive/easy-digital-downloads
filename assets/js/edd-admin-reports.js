(()=>{"use strict";var t={16:t=>{t.exports=function(t,e,o,n){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+t)?+t:0,s=isFinite(+e)?Math.abs(e):0,a=void 0===n?",":n,i=void 0===o?".":o,c="";return c=(s?function(t,e){if(-1===(""+t).indexOf("e"))return+(Math.round(t+"e+"+e)+"e-"+e);var o=(""+t).split("e"),n="";return+o[1]+e>0&&(n="+"),(+(Math.round(+o[0]+"e"+n+(+o[1]+e))+"e-"+e)).toFixed(e)}(r,s).toString():""+Math.round(r)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(c[1]||"").length<s&&(c[1]=c[1]||"",c[1]+=new Array(s-c[1].length+1).join("0")),c.join(i)}},311:t=>{t.exports=jQuery}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}(()=>{o(311);const t=o(16),e=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{currency_decimals:e,decimal_separator:o,thousands_separator:n}=edd_vars;this.config={precision:e,decimalSeparator:o,thousandSeparator:n,...t}}format(e){let o=e;"number"!=typeof e&&(o=parseFloat(e)),isNaN(o)&&(o=0);const{precision:n,decimalSeparator:r,thousandSeparator:s}=this.config;return t(o,n,r,s)}unformat(t){const{decimalSeparator:e,thousandSeparator:o}=this.config;"string"!=typeof t&&(t=String(t));const n=t.replace(o,"").replace(e,"."),r=parseFloat(n);return isNaN(r)?0:r}absint(t){const e=this.unformat(t);return e>=0?e:-1*e}},n=t=>{const{type:e}=t;return"pie"===e||"doughnut"===e},r=(t,o)=>{let n=t;const{type:r}=o;return"currency"===r&&(n=(new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{currency:o,currency_sign:n,currency_pos:r,currency_decimals:s,decimal_separator:a,thousands_separator:i}=edd_vars;this.config={currency:o,currencySymbol:n,currencySymbolPosition:r,precision:s,decimalSeparator:a,thousandSeparator:i,...t},this.number=new e(this.config)}format(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{currencySymbol:o,currencySymbolPosition:n}=this.config;let r=this.number.format(t);const s=t<0;let a="";switch(!0===s&&!0===e&&(r=this.number.format(-1*t)),n){case"before":a=o+r;break;case"after":a=r+o}return!0===s&&!1===e&&(a=`-${a}`),a}unformat(t){const{currencySymbol:e}=this.config,o=t.replace(e,"");return this.number.unformat(o)}}).format(t)),n},s={enabled:!1,mode:"index",position:"nearest",custom:function(t){let e=document.getElementById("edd-chartjs-tooltip");if(e||(e=document.createElement("div"),e.id="edd-chartjs-tooltip",e.innerHTML="<table></table>",this._chart.canvas.parentNode.appendChild(e)),0===t.opacity)return void(e.style.opacity=0);if(e.classList.remove("above","below","no-transform"),t.yAlign?e.classList.add(t.yAlign):e.classList.add("no-transform"),t.body){const o=t.title||[],n=t.body.map((function(t){return t.lines}));let r="<thead>";o.forEach((function(t){r+="<tr><th>"+t+"</th></tr>"})),r+="</thead><tbody>",n.forEach((function(e,o){const n=t.labelColors[o],{borderColor:s,backgroundColor:a}=n;let i=s;"rgb(230, 230, 230)"!==i&&"#fff"!==i||(i=a);const c='<span class="edd-chartjs-tooltip-key" style="'+[`background: ${i}`,`border-color: ${i}`,"border-width: 2px"].join(";")+'"></span>';r+="<tr><td>"+c+e+"</td></tr>"})),r+="</tbody>",e.querySelector("table").innerHTML=r}const o=this._chart.canvas.offsetTop,n=this._chart.canvas.offsetLeft;e.style.opacity=1,e.style.left=n+t.caretX+"px",e.style.top=o+t.caretY+"px",e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.padding=t.yPadding+"px "+t.xPadding+"px"}},a=t=>({...s,callbacks:{label:function(e,o){const{options:{datasets:n}}=t,s=n[Object.keys(n)[e.datasetIndex]],a=r(e.yLabel,s);return`${o.datasets[e.datasetIndex].label}: ${a}`}}});window.edd=window.edd||{},window.edd.renderChart=t=>{n(t),Chart.defaults.global.pointHitDetectionRadius=5,n(t)?(t=>{const{target:e}=t;t.options.tooltips=(t=>({...s,callbacks:{label:function(e,o){const{options:{datasets:n}}=t,s=n[Object.keys(n)[e.datasetIndex]],a=o.datasets[e.datasetIndex],i=a.data.reduce((function(t,e,o,n){return t+e})),c=a.data[e.index],d=r(c,s),l=Math.floor(c/i*100+.5);return`${o.labels[e.index]}: ${d} (${l}%)`}}}))(t),new Chart(document.getElementById(e),t)})(t):(t=>{const{target:o}=t,{dates:{utc_offset:n,hour_by_hour:r,day_by_day:s}}=t,i=new e,c={...t,options:{...t.options,tooltips:a(t),scales:{...t.options.scales,yAxes:[{...t.options.scales.yAxes[0],ticks:{callback:(t,e,o)=>i.format(t)}}],xAxes:[{...t.options.scales.xAxes[0],time:{...t.options.scales.xAxes[0].time,parser:function(t){return r||s?moment(t).utcOffset(n):moment.utc(t)}}}]}}};new Chart(document.getElementById(o),c)})(t)};var i=o(311),c=o(311);"undefined"!=typeof postboxes&&/edd-reports/.test(pagenow)&&postboxes.add_postbox_toggles(pagenow);const d={init:function(){this.meta_boxes(),this.date_options(),this.customers_export()},meta_boxes:function(){i(".edd-reports-wrapper .postbox .handlediv").remove(),i(".edd-reports-wrapper .postbox").removeClass("closed"),setTimeout((function(){i(".edd-reports-wrapper .postbox .hndle").unbind("click.postboxes")}),1)},date_options:function(){i("select.edd-graphs-date-options").on("change",(function(t){const e=i(this),o=e.parent().siblings(".edd-date-range-options");"other"===e.val()?o.removeClass("screen-reader-text"):o.addClass("screen-reader-text")}))},customers_export:function(){i("#edd_customer_export_download").change((function(){const t=i(this),e=i("option:selected",t).val(),o=i("#edd_customer_export_option");if("0"===t.val()?o.show():o.hide(),0!==parseInt(e)){const t={action:"edd_check_for_download_price_variations",download_id:e,all_prices:!0};var n=i(".edd_price_options_select");i.post(ajaxurl,t,(function(t){n.remove(),i("#edd_customer_export_download_chosen").after(t)}))}else n.remove()}))}};c(document).ready((function(t){d.init()}))})()})();