{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/admin/index.js","webpack:///./assets/js/utils/chosen.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js"],"names":["jQuery","document","ready","$","userInteractionInterval","typingTimerElements","typingTimer","edd_user_search_mouse_down","mousedown","tooltips","edd_attach_tooltips","edd_admin_globals","chosen","each","attr","selectElem","parent","prev","placeholder","data","console","log","on","edd_vars","type_to_search","children","hide","show","text","j","preventDefault","them","href","rents","parents","find","css","e","toggleClass","EDD_Download_Configuration","init","add","move","remove","type","prices","files","updatePrices","clone_repeatable","row","key","highest","current","parseInt","clone","removeClass","val","elem","name","id","replace","checked","is","prop","removeAttr","body","button","insertAfter","filter","eq","focus","search_placeholder","sortable","handle","items","opacity","cursor","axis","update","count","length","repeatable","focusElement","focusable","firstFocusable","next","price_row_id","fadeOut","alert","one_price_min","one_field_min","rowIndex","edd_products","edd_download_files","edd_download_limit_wrap","single","variable","bundleRow","addClass","file_frame","window","formfield","closest","open","wp","media","frames","frame","state","title","multiple","view","views","unset","set","selection","get","attachment","index","toJSON","selectedSize","selectedURL","url","selectedName","filename","sizes","width","height","field_option","append","toggle","html","show_advanced_settings","hide_advanced_settings","header","siblings","slideToggle","first_input","edd_datepicker","datepicker","dateFormat","date_picker_format","beforeShow","edd_sortables","tolerance","containment","distance","scroll","stop","keys","map","el","EDD_Notes","enter_key","add_note","remove_note","keyCode","metaKey","ctrlKey","click","edd_button","edd_note","edd_notes","edd_no_notes","edd_spinner","edd_note_nonce","postData","action","nonce","object_id","object_type","note","ajax","ajaxurl","success","response","res","wpAjax","parseAjaxResponse","responses","fail","border_color","setTimeout","edd_link","confirm","delete_note","note_id","EDD_Edit_Payment","edit_address","remove_download","add_download","change_customer","new_customer","edit_price","recalculate_total","variable_prices_check","resend_receipt","copy_download_link","change","select","country","field_name","post","state_wrapper","replaceWith","one_download_min","delete_payment_download","download_id","price_id","quantity","amount","order_item_id","fees","parseJSON","currently_removed","removed_item","JSON","stringify","value","hasClass","cancel","order_download_select","order_download_quantity","order_download_price","order_download_tax","selected_price_option","download_title","item_price","item_tax","price_name","parseFloat","isNaN","numeric_item_price","numeric_item_tax","numeric_quantity","toFixed","currency_decimals","item_total","thousands_separator","total","tax","totals","taxes","emails_wrap","slideDown","location","link","payment_id","dialog","EDD_Add_Order","add_order_item","add_adjustment","override","fetch_addresses","select_address","validate","spinner","region","download","update_totals","reindex","adjustment_data","fee","discount","credit","description","switchToInput","appendTo","input","switchToSpan","span","toLocaleString","currency","style","minimumFractionDigits","maximumFractionDigits","$this","tbody","customer_id","customer_address_ajax_result","address","addresses","address2","city","trigger","done","recalculate_taxes","tax_rate","calculated","prices_include_tax","pre_tax","storeCurrency","decimalPlaces","subtotal","adjustments","item_amount","item_quantity","taxes_included","reduction","item_tax_reduction","slideUp","EDD_Discount","product_requirements","product_conditions","EDD_Reports","meta_boxes","date_options","customers_export","filters","unbind","event","date_range_options","customer_export_option","all_prices","price_options_select","after","EDD_Settings","general","emails","misc","edd_color_picker","wpColorPicker","new_media_ui","edd_settings_upload_button","tbframe_interval","setInterval","contents","use_this_file","end","tb_show","add_new_download","edd_send_to_editor","send_to_editor","imgurl","clearInterval","tb_remove","imagefield","email_preview_wrap","emailPreview","colorbox","inline","downloadMethod","symlink","delete_payment","delete_order_item","delete_order_adjustment","post_id","$edd_inline_data","regprice","quick_edit_warning","$bulk_row","$post_ids","Array","push","$price","edd_bulk_nonce","post_ids","price","element","container","select_type","no_bundles","variations","lastKey","which","search_type","clearTimeout","dataType","s","beforeSend","empty","item","prepend","EDD_Tools","revoke_api_key","regenerate_api_key","create_api_key","recount_stats","user_id","export_form","selected_type","submit_button","products","notice_wrap","reset_stats_warn","submit","is_confirmed","has_errors","batch_export_no_class","selected_download","batch_export_no_reqs","EDD_Export","self","form","submitButton","first","serialize","process_step","step","error","error_message","message","success_message","animate","percentage","EDD_Import","ajaxForm","beforeSubmit","before_submit","complete","arr","options","File","FileReader","FileList","Blob","import_form","unsupported_browser","responseText","statusText","xhr","columns","sort","a","b","first_row","mapping","import_data","class","upload","scrollTop","offset","top","EDD_Customer","vars","customer_card_wrap_editable","customer_card_wrap_edit_item","state_input","edit_customer","add_email","user_search","remove_user","cancel_edit","change_country","delete_checked","wrapper","email","primary","edd_action","_wpnonce","redirect","before","disconnect_customer","records_input","keyup","exclude","user_name","search_response","results","blur","login","postboxes","test","pagenow","add_postbox_toggles","eddFormatCurrency","numeric","eddFormatNumber","eddLabelFormatter","label","series","eddLegendFormatterSales","slug","toLowerCase","color","Math","round","percent","eddLegendFormatterEarnings","selector","tooltip","content","tooltipClass","position","my","at","collision","duration","chosenVars","disable_search_threshold","search_contains","inherit_select_classes","single_backstroke_delete","placeholder_text_single","one_option","placeholder_text_multiple","one_or_more_option","no_results_text"],"mappings":"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","file":"assets/js/edd-admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/admin/index.js\");\n","/* global edd_vars, ajaxurl, wpAjax, postboxes, pagenow */\n\n/**\n * Internal dependencies.\n */\nimport { chosenVars } from 'utils/chosen.js';\n\njQuery(document).ready(function ($) {\n\n\t// Variables for setting up the typing timer\n\t// Time in ms, Slow - 521ms, Moderate - 342ms, Fast - 300ms\n\tvar userInteractionInterval = 342,\n\t\ttypingTimerElements     = '.edd-select-chosen .chosen-search input, .edd-select-chosen .search-field input',\n\t\ttypingTimer;\n\n\t// Cancel user-search.blur when picking a user\n\tvar edd_user_search_mouse_down = false;\n\t$('.edd_user_search_results').mousedown(function() {\n\t\tedd_user_search_mouse_down = true;\n\t});\n\n\t// Tooltips\n\tvar tooltips = $('.edd-help-tip');\n\tedd_attach_tooltips( tooltips );\n\n\t// Create \"global\" to store intermediate data.\n\tvar edd_admin_globals = {};\n\n\t// Setup Chosen menus\n\t$('.edd-select-chosen').chosen( chosenVars );\n\n\t$('.edd-select-chosen .chosen-search input').each( function() {\n\n\t\t// Bail if placeholder already set\n\t\tif ( $( this ).attr( 'placeholder' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar selectElem  = $( this ).parent().parent().parent().prev('select.edd-select-chosen'),\n\t\t\tplaceholder = selectElem.data('search-placeholder');\n\n\t\tif ( placeholder ) {\n\t\t\tconsole.log( placeholder );\n\t\t\t$( this ).attr( 'placeholder', placeholder );\n\t\t}\n\t});\n\n\t// Add placeholders for Chosen input fields\n\t$( '.chosen-choices' ).on( 'click', function () {\n\t\tvar placeholder = $( this ).parent().prev().data('search-placeholder');\n\t\tif ( typeof placeholder === \"undefined\" ) {\n\t\t\tplaceholder = edd_vars.type_to_search;\n\t\t}\n\t\t$( this ).children('li').children('input').attr( 'placeholder', placeholder );\n\t});\n\n\t// Hides the section content.\n\t$( '.edd-vertical-sections.use-js .section-content' ).hide();\n\n\t// Shows the first section's content.\n\t$( '.edd-vertical-sections.use-js .section-content:first-child' ).show();\n\n\t// Makes the 'aria-selected' attribute true for the first section nav item.\n\t$( '.edd-vertical-sections.use-js .section-nav :first-child' ).attr( 'aria-selected', 'true' );\n\n\t// Copies the current section item title to the box header.\n\t$( '.which-section' ).text( $( '.section-nav :first-child a' ).text() );\n\n\t// When a section nav item is clicked.\n\t$( '.edd-vertical-sections.use-js .section-nav li a' ).on( 'click',\n\t\tfunction( j ) {\n\n\t\t\t// Prevent the default browser action when a link is clicked.\n\t\t\tj.preventDefault();\n\n\t\t\t// Get the `href` attribute of the item.\n\t\t\tvar them  = $( this ),\n\t\t\t\thref  = them.attr( 'href' ),\n\t\t\t\trents = them.parents( '.edd-vertical-sections' );\n\n\t\t\t// Hide all section content.\n\t\t\trents.find( '.section-content' ).hide();\n\n\t\t\t// Find the section content that matches the section nav item and show it.\n\t\t\trents.find( href ).show();\n\n\t\t\t// Set the `aria-selected` attribute to false for all section nav items.\n\t\t\trents.find( '.section-title' ).attr( 'aria-selected', 'false' );\n\n\t\t\t// Set the `aria-selected` attribute to true for this section nav item.\n\t\t\tthem.parent().attr( 'aria-selected', 'true' );\n\n\t\t\t// Maybe re-Chosen\n\t\t\trents.find( 'div.chosen-container' ).css( 'width', '100%' );\n\n\t\t\t// Copy the current section item title to the box header.\n\t\t\t$( '.which-section' ).text( them.text() );\n\t\t}\n\t); // click()\n\n\t// Toggle advanced filters on Orders page.\n\t$( '.edd-advanced-filters-button' ).on( 'click', function( e ) {\n\n\t\t// Prevnt submit action\n\t\te.preventDefault();\n\n\t\t$( '#edd-advanced-filters' ).toggleClass( 'open' );\n\t} );\n\n\t/**\n\t * Download Configuration Metabox\n\t */\n\tvar EDD_Download_Configuration = {\n\t\tinit : function() {\n\t\t\tthis.add();\n\t\t\tthis.move();\n\t\t\tthis.remove();\n\t\t\tthis.type();\n\t\t\tthis.prices();\n\t\t\tthis.files();\n\t\t\tthis.updatePrices();\n\t\t},\n\t\tclone_repeatable : function(row) {\n\n\t\t\t// Retrieve the highest current key\n\t\t\tvar key = highest = 1;\n\t\t\trow.parent().find( '.edd_repeatable_row' ).each(function() {\n\t\t\t\tvar current = $( this ).data( 'key' );\n\t\t\t\tif ( parseInt( current ) > highest ) {\n\t\t\t\t\thighest = current;\n\t\t\t\t}\n\t\t\t});\n\t\t\tkey = highest += 1;\n\n\t\t\tclone = row.clone();\n\n\t\t\tclone.removeClass( 'edd_add_blank' );\n\n\t\t\tclone.attr( 'data-key', key );\n\t\t\tclone.find( 'input, select, textarea' ).val( '' ).each(function() {\n\t\t\t\tvar elem = $( this ),\n\t\t\t\t\tname = elem.attr( 'name' ),\n\t\t\t\t\tid   = elem.attr( 'id' );\n\n\t\t\t\tif ( name ) {\n\t\t\t\t\tname = name.replace( /\\[(\\d+)\\]/, '[' + parseInt( key ) + ']');\n\t\t\t\t\telem.attr( 'name', name );\n\t\t\t\t}\n\n\t\t\t\telem.attr( 'data-key', key );\n\n\t\t\t\tif ( typeof id !== 'undefined' ) {\n\t\t\t\t\tid = id.replace( /(\\d+)/, parseInt( key ) );\n\t\t\t\t\telem.attr( 'id', id );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/** manually update any select box values */\n\t\t\tclone.find( 'select' ).each(function() {\n\t\t\t\t$( this ).val( row.find( 'select[name=\"' + $( this ).attr( 'name' ) + '\"]' ).val() );\n\t\t\t});\n\n\t\t\t/** manually uncheck any checkboxes */\n\t\t\tclone.find( 'input[type=\"checkbox\"]' ).each(function() {\n\n\t\t\t\t// Make sure checkboxes are unchecked when cloned\n\t\t\t\tvar checked = $( this ).is(':checked');\n\t\t\t\tif ( checked ) {\n\t\t\t\t\t$( this ).prop('checked', false);\n\t\t\t\t}\n\n\t\t\t\t// reset the value attribute to 1 in order to properly save the new checked state\n\t\t\t\t$( this ).val(1);\n\t\t\t});\n\n\t\t\tclone.find( 'span.edd_price_id' ).each(function() {\n\t\t\t\t$( this ).text( parseInt( key ) );\n\t\t\t});\n\n\t\t\tclone.find( 'span.edd_file_id' ).each(function() {\n\t\t\t\t$( this ).text( parseInt( key ) );\n\t\t\t});\n\n\t\t\tclone.find( '.edd_repeatable_default_input' ).each( function() {\n\t\t\t\t$( this ).val( parseInt( key ) ).removeAttr('checked');\n\t\t\t});\n\n\t\t\tclone.find( '.edd_repeatable_condition_field' ).each ( function() {\n\t\t\t\t$( this ).find( 'option:eq(0)' ).prop( 'selected', 'selected' );\n\t\t\t});\n\n\t\t\t// Remove Chosen elements\n\t\t\tclone.find( '.search-choice' ).remove();\n\t\t\tclone.find( '.chosen-container' ).remove();\n\t\t\tedd_attach_tooltips(clone.find('.edd-help-tip'));\n\n\t\t\treturn clone;\n\t\t},\n\n\t\tadd : function() {\n\t\t\t$( document.body ).on( 'click', '.submit .edd_add_repeatable', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar button = $( this ),\n\t\t\t\t\trow    = button.parent().parent().prev( '.edd_repeatable_row' ),\n\t\t\t\t\tclone  = EDD_Download_Configuration.clone_repeatable(row);\n\n\t\t\t\tclone.insertAfter( row ).find('input, textarea, select').filter(':visible').eq(0).focus();\n\n\t\t\t\t// Setup chosen fields again if they exist\n\t\t\t\tclone.find( '.edd-select-chosen' ).chosen( chosenVars );\n\t\t\t\tclone.find( '.edd-select-chosen' ).css( 'width', '100%' );\n\t\t\t\tclone.find( '.edd-select-chosen .chosen-search input' ).attr( 'placeholder', edd_vars.search_placeholder );\n\t\t\t});\n\t\t},\n\n\t\tmove : function() {\n\n\t\t\t$(\".edd_repeatable_table .edd-repeatables-wrap\").sortable({\n\t\t\t\thandle: '.edd-draghandle-anchor', items: '.edd_repeatable_row', opacity: 0.6, cursor: 'move', axis: 'y', update: function() {\n\t\t\t\t\tvar count  = 0;\n\t\t\t\t\t$( this ).find( '.edd_repeatable_row' ).each(function() {\n\t\t\t\t\t\t$( this ).find( 'input.edd_repeatable_index' ).each(function() {\n\t\t\t\t\t\t\t$( this ).val( count );\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tremove : function() {\n\t\t\t$( document.body ).on( 'click', '.edd-remove-row, .edd_remove_repeatable', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar row        = $( this ).parents( '.edd_repeatable_row' ),\n\t\t\t\t\tcount      = row.parent().find( '.edd_repeatable_row' ).length,\n\t\t\t\t\ttype       = $( this ).data('type'),\n\t\t\t\t\trepeatable = 'div.edd_repeatable_' + type + 's',\n\t\t\t\t\tfocusElement,\n\t\t\t\t\tfocusable,\n\t\t\t\t\tfirstFocusable;\n\n\t\t\t\t\t// Set focus on next element if removing the first row. Otherwise set focus on previous element.\n\t\t\t\t\tif ( $( this ).is( '.ui-sortable .edd_repeatable_row:first-child .edd-remove-row, .ui-sortable .edd_repeatable_row:first-child .edd_remove_repeatable' ) ) {\n\t\t\t\t\t\tfocusElement  = row.next( '.edd_repeatable_row' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfocusElement  = row.prev( '.edd_repeatable_row' );\n\t\t\t\t\t}\n\n\t\t\t\t\tfocusable  = focusElement.find( 'select, input, textarea, button' ).filter( ':visible' );\n\t\t\t\t\tfirstFocusable = focusable.eq(0);\n\n\t\t\t\tif ( type === 'price' ) {\n\t\t\t\t\tvar price_row_id = row.data('key');\n\t\t\t\t\t/** remove from price condition */\n\t\t\t\t\t$( '.edd_repeatable_condition_field option[value=\"' + price_row_id + '\"]' ).remove();\n\t\t\t\t}\n\n\t\t\t\tif ( count > 1 ) {\n\t\t\t\t\t$( 'input, select', row ).val( '' );\n\t\t\t\t\trow.fadeOut( 'fast' ).remove();\n\t\t\t\t\tfirstFocusable.focus();\n\t\t\t\t} else {\n\t\t\t\t\tswitch( type ) {\n\t\t\t\t\t\tcase 'price' :\n\t\t\t\t\t\t\talert( edd_vars.one_price_min );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'file' :\n\t\t\t\t\t\t\t$( 'input, select', row ).val( '' );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\talert( edd_vars.one_field_min );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* re-index after deleting */\n\t\t\t\t$(repeatable).each( function( rowIndex ) {\n\t\t\t\t\t$( this ).find( 'input, select' ).each(function() {\n\t\t\t\t\t\tvar name = $( this ).attr( 'name' );\n\t\t\t\t\t\tname = name.replace( /\\[(\\d+)\\]/, '[' + rowIndex+ ']');\n\t\t\t\t\t\t$( this ).attr( 'name', name ).attr( 'id', name );\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\ttype : function() {\n\t\t\t$( document.body ).on( 'change', '#_edd_product_type', function(e) {\n\t\t\t\tvar edd_products            = $( '#edd_products' ),\n\t\t\t\t\tedd_download_files      = $( '#edd_download_files' ),\n\t\t\t\t\tedd_download_limit_wrap = $( '#edd_download_limit_wrap' );\n\n\t\t\t\tif ( 'bundle' === $( this ).val() ) {\n\t\t\t\t\tedd_products.show();\n\t\t\t\t\tedd_download_files.hide();\n\t\t\t\t\tedd_download_limit_wrap.hide();\n\t\t\t\t} else {\n\t\t\t\t\tedd_products.hide();\n\t\t\t\t\tedd_download_files.show();\n\t\t\t\t\tedd_download_limit_wrap.show();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tprices : function() {\n\t\t\t$( document.body ).on( 'change', '#edd_variable_pricing', function(e) {\n\t\t\t\tvar checked   = $( this ).is(':checked'),\n\t\t\t\t\tsingle    = $( '#edd_regular_price_field' ),\n\t\t\t\t\tvariable  = $( '#edd_variable_price_fields, .edd_repeatable_table .pricing' ),\n\t\t\t\t\tbundleRow = $( '.edd-bundled-product-row, .edd-repeatable-row-standard-fields' );\n\n\t\t\t\tif ( checked ) {\n\t\t\t\t\tsingle.hide();\n\t\t\t\t\tvariable.show();\n\t\t\t\t\tbundleRow.addClass( 'has-variable-pricing' );\n\t\t\t\t} else {\n\t\t\t\t\tsingle.show();\n\t\t\t\t\tvariable.hide();\n\t\t\t\t\tbundleRow.removeClass( 'has-variable-pricing' );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfiles : function() {\n\t\t\tvar file_frame;\n\t\t\twindow.formfield = '';\n\n\t\t\t$( document.body ).on('click', '.edd_upload_file_button', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar button = $( this );\n\n\t\t\t\twindow.formfield = button.closest('.edd_repeatable_upload_wrapper');\n\n\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\tif ( file_frame ) {\n\t\t\t\t\tfile_frame.open();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Create the media frame.\n\t\t\t\tfile_frame = wp.media.frames.file_frame = wp.media( {\n\t\t\t\t\tframe: 'post',\n\t\t\t\t\tstate: 'insert',\n\t\t\t\t\ttitle: button.data( 'uploader-title' ),\n\t\t\t\t\tbutton: {\n\t\t\t\t\t\ttext: button.data( 'uploader-button-text' )\n\t\t\t\t\t},\n\t\t\t\t\tmultiple: $( this ).data( 'multiple' ) === '0' ? false : true  // Set to true to allow multiple files to be selected\n\t\t\t\t});\n\n\t\t\t\tfile_frame.on( 'menu:render:default', function( view ) {\n\t\t\t\t\t// Store our views in an object.\n\t\t\t\t\tvar views = {};\n\n\t\t\t\t\t// Unset default menu items\n\t\t\t\t\tview.unset( 'library-separator' );\n\t\t\t\t\tview.unset( 'gallery' );\n\t\t\t\t\tview.unset( 'featured-image' );\n\t\t\t\t\tview.unset( 'embed' );\n\n\t\t\t\t\t// Initialize the views in our view object.\n\t\t\t\t\tview.set( views );\n\t\t\t\t});\n\n\t\t\t\t// When an image is selected, run a callback.\n\t\t\t\tfile_frame.on( 'insert', function() {\n\n\t\t\t\t\tvar selection = file_frame.state().get('selection');\n\t\t\t\t\tselection.each( function( attachment, index ) {\n\t\t\t\t\t\tattachment = attachment.toJSON();\n\n\t\t\t\t\t\tvar selectedSize = 'image' === attachment.type ? $('.attachment-display-settings .size option:selected').val() : false,\n\t\t\t\t\t\t\tselectedURL  = attachment.url,\n\t\t\t\t\t\t\tselectedName = attachment.title.length > 0 ? attachment.title : attachment.filename;\n\n\t\t\t\t\t\tif ( selectedSize && typeof attachment.sizes[selectedSize] !== \"undefined\" ) {\n\t\t\t\t\t\t\tselectedURL = attachment.sizes[selectedSize].url;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( 'image' === attachment.type ) {\n\t\t\t\t\t\t\tif ( selectedSize && typeof attachment.sizes[selectedSize] !== \"undefined\" ) {\n\t\t\t\t\t\t\t\tselectedName = selectedName + '-' + attachment.sizes[selectedSize].width + 'x' + attachment.sizes[selectedSize].height;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tselectedName = selectedName + '-' + attachment.width + 'x' + attachment.height;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( 0 === index ) {\n\t\t\t\t\t\t\t// place first attachment in field\n\t\t\t\t\t\t\twindow.formfield.find( '.edd_repeatable_attachment_id_field' ).val( attachment.id );\n\t\t\t\t\t\t\twindow.formfield.find( '.edd_repeatable_thumbnail_size_field').val( selectedSize );\n\t\t\t\t\t\t\twindow.formfield.find( '.edd_repeatable_upload_field' ).val( selectedURL );\n\t\t\t\t\t\t\twindow.formfield.find( '.edd_repeatable_name_field' ).val( selectedName );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Create a new row for all additional attachments\n\t\t\t\t\t\t\tvar row = window.formfield,\n\t\t\t\t\t\t\t\tclone = EDD_Download_Configuration.clone_repeatable( row );\n\n\t\t\t\t\t\t\tclone.find( '.edd_repeatable_attachment_id_field' ).val( attachment.id );\n\t\t\t\t\t\t\tclone.find( '.edd_repeatable_thumbnail_size_field' ).val( selectedSize );\n\t\t\t\t\t\t\tclone.find( '.edd_repeatable_upload_field' ).val( selectedURL );\n\t\t\t\t\t\t\tclone.find( '.edd_repeatable_name_field' ).val( selectedName );\n\t\t\t\t\t\t\tclone.insertAfter( row );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// Finally, open the modal\n\t\t\t\tfile_frame.open();\n\t\t\t});\n\n\t\t\tvar file_frame;\n\t\t\twindow.formfield = '';\n\t\t},\n\n\t\tupdatePrices: function() {\n\t\t\t$( '#edd_price_fields' ).on( 'keyup', '.edd_variable_prices_name', function() {\n\t\t\t\tvar key = $( this ).parents( '.edd_repeatable_row' ).data( 'key' ),\n\t\t\t\t\tname = $( this ).val(),\n\t\t\t\t\tfield_option = $( '.edd_repeatable_condition_field option[value=' + key + ']' );\n\n\t\t\t\tif ( field_option.length > 0 ) {\n\t\t\t\t\tfield_option.text( name );\n\t\t\t\t} else {\n\t\t\t\t\t$( '.edd_repeatable_condition_field' ).append(\n\t\t\t\t\t\t$( '<option></option>' )\n\t\t\t\t\t\t\t.attr( 'value', key )\n\t\t\t\t\t\t\t.text( name )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t// Toggle display of entire custom settings section for a price option\n\t$( document.body ).on( 'click', '.toggle-custom-price-option-section', function(e) {\n\t\te.preventDefault();\n\n\t\tvar toggle = $( this ),\n\t\t\tshow   = toggle.html() === edd_vars.show_advanced_settings\n\t\t\t\t? true\n\t\t\t\t: false;\n\n\t\tif ( show ) {\n\t\t\ttoggle.html( edd_vars.hide_advanced_settings );\n\t\t} else {\n\t\t\ttoggle.html( edd_vars.show_advanced_settings );\n\t\t}\n\n\t\tvar header = toggle.parents('.edd-repeatable-row-header');\n\t\theader.siblings('.edd-custom-price-option-sections-wrap').slideToggle();\n\n\t\tvar first_input;\n\t\tif ( show ) {\n\t\t\tfirst_input = $(\":input:not(input[type=button],input[type=submit],button):visible:first\", header.siblings('.edd-custom-price-option-sections-wrap'));\n\t\t} else {\n\t\t\tfirst_input = $(\":input:not(input[type=button],input[type=submit],button):visible:first\", header.siblings('.edd-repeatable-row-standard-fields'));\n\t\t}\n\t\tfirst_input.focus();\n\t});\n\n\tEDD_Download_Configuration.init();\n\n\t//$('#edit-slug-box').remove();\n\n\t/**\n\t * Date picker\n\t *\n\t * This juggles a few CSS classes to avoid styling collisions with other\n\t * third-party plugins.\n\t */\n\tvar edd_datepicker = $( 'input.edd_datepicker' );\n\tif ( edd_datepicker.length > 0 ) {\n\t\tedd_datepicker\n\n\t\t\t// Disable autocomplete to avoid it covering the calendar\n\t\t\t.attr( 'autocomplete', 'off' )\n\n\t\t\t// Invoke the datepickers\n\t\t\t.datepicker( {\n\t\t\t\tdateFormat: edd_vars.date_picker_format,\n\t\t\t\tbeforeShow: function() {\n\t\t\t\t\t$( '#ui-datepicker-div' )\n\t\t\t\t\t\t.removeClass( 'ui-datepicker' )\n\t\t\t\t\t\t.addClass( 'edd-datepicker' );\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Sortables\n\t *\n\t * This makes certain settings sortable, and attempts to stash the results\n\t * in the nearest .edd-order input value.\n\t */\n\tvar edd_sortables = $( 'ul.edd-sortable-list' );\n\tif ( edd_sortables.length > 0 ) {\n\t\tedd_sortables.sortable({\n\t\t\taxis:        'y',\n\t\t\titems:       'li',\n\t\t\tcursor:      'move',\n\t\t\ttolerance:   'pointer',\n\t\t\tcontainment: 'parent',\n\t\t\tdistance:    2,\n\t\t\topacity:     0.7,\n\t\t\tscroll:      true,\n\n\t\t\t/**\n\t\t\t * When sorting stops, assign the value to the previous input.\n\t\t\t * This input should be a hidden text field\n\t\t\t */\n\t\t\tstop: function () {\n\t\t\t\tvar keys = $.map( $( this ).children( 'li' ), function(el) {\n\t\t\t\t\t return $(el).data( 'key' );\n\t\t\t\t});\n\n\t\t\t\t$( this ).prev( 'input.edd-order' ).val( keys );\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Notes\n\t */\n\tvar EDD_Notes = {\n\t\tinit : function() {\n\t\t\tthis.enter_key();\n\t\t\tthis.add_note();\n\t\t\tthis.remove_note();\n\t\t},\n\n\t\tenter_key : function() {\n\t\t\t$(document.body).on('keydown', '#edd-note', function(e) {\n\t\t\t\tif (e.keyCode === 13 && ( e.metaKey || e.ctrlKey ) ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$('#edd-add-note').click();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Ajax handler for adding new notes\n\t\t *\n\t\t * @since 3.0\n\t\t */\n\t\tadd_note : function() {\n\t\t\t$('#edd-add-note').on('click', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar edd_button     = $( this ),\n\t\t\t\t\tedd_note       = $('#edd-note'),\n\t\t\t\t\tedd_notes      = $('.edd-notes'),\n\t\t\t\t\tedd_no_notes   = $('.edd-no-notes'),\n\t\t\t\t\tedd_spinner    = $('.edd-add-note .spinner'),\n\t\t\t\t\tedd_note_nonce = $('#edd_note_nonce');\n\n\t\t\t\tvar postData = {\n\t\t\t\t\taction:      'edd_add_note',\n\t\t\t\t\tnonce:       edd_note_nonce.val(),\n\t\t\t\t\tobject_id:   edd_button.data('object-id'),\n\t\t\t\t\tobject_type: edd_button.data('object-type'),\n\t\t\t\t\tnote:        edd_note.val()\n\t\t\t\t};\n\n\t\t\t\tif ( postData.note ) {\n\t\t\t\t\tedd_button.prop('disabled', true);\n\t\t\t\t\tedd_spinner.css('visibility', 'visible');\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: postData,\n\t\t\t\t\t\turl:  ajaxurl,\n\t\t\t\t\t\tsuccess: function (response) {\n\t\t\t\t\t\t\tvar res = wpAjax.parseAjaxResponse( response );\n\t\t\t\t\t\t\tres = res.responses[0];\n\n\t\t\t\t\t\t\tedd_notes.append( res.data );\n\t\t\t\t\t\t\tedd_no_notes.hide();\n\t\t\t\t\t\t\tedd_button.prop('disabled', false);\n\t\t\t\t\t\t\tedd_spinner.css('visibility', 'hidden');\n\t\t\t\t\t\t\tedd_note.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function (data) {\n\t\t\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\t\t\tconsole.log( data );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tedd_button.prop('disabled', false);\n\t\t\t\t\t\tedd_spinner.css('visibility', 'hidden');\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tvar border_color = edd_note.css('border-color');\n\n\t\t\t\t\tedd_note.css('border-color', 'red');\n\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tedd_note.css('border-color', border_color );\n\t\t\t\t\t}, userInteractionInterval );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Ajax handler for deleting existing notes\n\t\t *\n\t\t * @since 3.0\n\t\t */\n\t\tremove_note : function() {\n\t\t\t$( document.body ).on('click', '.edd-delete-note', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar edd_link       = $( this ),\n\t\t\t\t\tedd_notes      = $('.edd-note'),\n\t\t\t\t\tedd_note       = edd_link.parents( '.edd-note' ),\n\t\t\t\t\tedd_no_notes   = $('.edd-no-notes'),\n\t\t\t\t\tedd_note_nonce = $('#edd_note_nonce');\n\n\t\t\t\tif ( confirm( edd_vars.delete_note ) ) {\n\t\t\t\t\tvar postData = {\n\t\t\t\t\t\taction:  'edd_delete_note',\n\t\t\t\t\t\tnonce:   edd_note_nonce.val(),\n\t\t\t\t\t\tnote_id: edd_link.data('note-id')\n\t\t\t\t\t};\n\n\t\t\t\t\tedd_note.addClass('deleting');\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\tdata: postData,\n\t\t\t\t\t\turl:  ajaxurl,\n\t\t\t\t\t\tsuccess: function (response) {\n\t\t\t\t\t\t\tif ( '1' === response ) {\n\t\t\t\t\t\t\t\tedd_note.remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( edd_notes.length === 1 ) {\n\t\t\t\t\t\t\t\tedd_no_notes.show();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function (data) {\n\t\t\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\t\t\tconsole.log( data );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tedd_note.removeClass('deleting');\n\t\t\t\t\t});\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Notes.init();\n\n\t/**\n\t * Edit payment screen JS\n\t */\n\tvar EDD_Edit_Payment = {\n\n\t\tinit : function() {\n\t\t\tthis.edit_address();\n\t\t\tthis.remove_download();\n\t\t\tthis.add_download();\n\t\t\tthis.change_customer();\n\t\t\tthis.new_customer();\n\t\t\tthis.edit_price();\n\t\t\tthis.recalculate_total();\n\t\t\tthis.variable_prices_check();\n\t\t\tthis.resend_receipt();\n\t\t\tthis.copy_download_link();\n\t\t},\n\n\t\tedit_address : function() {\n\n\t\t\t// Update base state field based on selected base country\n\t\t\t$('select[name=\"edd-payment-address[0][country]\"]').change(function() {\n\t\t\t\tvar select = $( this ),\n\t\t\t\t\tdata   = {\n\t\t\t\t\t\taction:     'edd_get_shop_states',\n\t\t\t\t\t\tcountry:    select.val(),\n\t\t\t\t\t\tnonce:      select.data('nonce'),\n\t\t\t\t\t\tfield_name: 'edd-payment-address[0][region]'\n\t\t\t\t\t};\n\n\t\t\t\t$.post(ajaxurl, data, function (response) {\n\t\t\t\t\tvar state_wrapper = $( '#edd-order-address-state-wrap select, #edd-order-address-state-wrap input' );\n\n\t\t\t\t\t// Remove any chosen containers here too\n\t\t\t\t\t$( '#edd-order-address-state-wrap .chosen-container' ).remove();\n\n\t\t\t\t\tif ( 'nostates' === response ) {\n\t\t\t\t\t\tstate_wrapper.replaceWith( '<input type=\"text\" name=\"edd-payment-address[0][region]\" value=\"\" class=\"edd-edit-toggles medium-text\"/>' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate_wrapper.replaceWith( response );\n\t\t\t\t\t\t$( '#edd-order-address-state-wrap select' ).chosen( chosenVars );\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\n\t\tremove_download : function() {\n\n\t\t\t// Remove a download from a purchase\n\t\t\t$('#edd-order-items').on('click', '.edd-order-remove-download', function() {\n\t\t\t\tvar count = $( document.body ).find( '#edd-order-items > .row:not(.header)' ).length;\n\n\t\t\t\tif ( count === 1 ) {\n\t\t\t\t\talert( edd_vars.one_download_min );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( confirm( edd_vars.delete_payment_download ) ) {\n\t\t\t\t\tvar key           = $( this ).data('key'),\n\t\t\t\t\t\tdownload_id   = $('input[name=\"edd-payment-details-downloads['+key+'][id]\"]').val(),\n\t\t\t\t\t\tprice_id      = $('input[name=\"edd-payment-details-downloads['+key+'][price_id]\"]').val(),\n\t\t\t\t\t\tquantity      = $('input[name=\"edd-payment-details-downloads['+key+'][quantity]\"]').val(),\n\t\t\t\t\t\tamount        = $('input[name=\"edd-payment-details-downloads['+key+'][amount]\"]').val(),\n\t\t\t\t\t\torder_item_id = $('input[name=\"edd-payment-details-downloads['+key+'][order_item_id]\"]').val();;\n\n\t\t\t\t\tif ( $('input[name=\"edd-payment-details-downloads['+key+'][tax]\"]') ) {\n\t\t\t\t\t\tvar fees = $('input[name=\"edd-payment-details-downloads['+key+'][tax]\"]').val();\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $('input[name=\"edd-payment-details-downloads['+key+'][fees]\"]') ) {\n\t\t\t\t\t\tvar fees = $.parseJSON( $('input[name=\"edd-payment-details-downloads['+key+'][fees]\"]').val() );\n\t\t\t\t\t}\n\n\t\t\t\t\tvar currently_removed  = $('input[name=\"edd-payment-removed\"]').val();\n\t\t\t\t\tcurrently_removed      = $.parseJSON(currently_removed);\n\t\t\t\t\tif ( currently_removed.length < 1 ) {\n\t\t\t\t\t\tcurrently_removed  = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removed_item       = [ { 'order_item_id' : order_item_id, 'id': download_id, 'price_id': price_id, 'quantity': quantity, 'amount': amount, 'cart_index': key } ];\n\t\t\t\t\tcurrently_removed[key] = removed_item;\n\n\t\t\t\t\t$('input[name=\"edd-payment-removed\"]').val(JSON.stringify(currently_removed));\n\n\t\t\t\t\t$( this ).parent().parent().remove();\n\t\t\t\t\tif ( fees && fees.length) {\n\t\t\t\t\t\t$.each( fees, function( key, value ) {\n\t\t\t\t\t\t\t$('*li[data-fee-id=\"' + value + '\"]').remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Flag the Downloads section as changed\n\t\t\t\t\t$('#edd-payment-downloads-changed').val(1);\n\t\t\t\t\t$('.edd-order-payment-recalc-totals').show();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\n\t\tchange_customer : function() {\n\n\t\t\t$('#edd-customer-details').on('click', '.edd-payment-change-customer, .edd-payment-change-customer-cancel', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar change_customer = $( this ).hasClass('edd-payment-change-customer'),\n\t\t\t\t\tcancel          = $( this ).hasClass('edd-payment-change-customer-cancel');\n\n\t\t\t\tif ( change_customer ) {\n\t\t\t\t\t$('.order-customer-info').hide();\n\t\t\t\t\t$('.change-customer').show();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t$('.edd-payment-change-customer-input').css('width', '300');\n\t\t\t\t\t}, 1 );\n\t\t\t\t} else if ( cancel) {\n\t\t\t\t\t$('.order-customer-info').show();\n\t\t\t\t\t$('.change-customer').hide();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tnew_customer : function() {\n\n\t\t\t$('#edd-customer-details').on('click', '.edd-payment-new-customer, .edd-payment-new-customer-cancel', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar new_customer = $( this ).hasClass('edd-payment-new-customer'),\n\t\t\t\t\tcancel       = $( this ).hasClass('edd-payment-new-customer-cancel');\n\n\t\t\t\tif ( new_customer ) {\n\t\t\t\t\t$('.order-customer-info').hide();\n\t\t\t\t\t$('.new-customer').show();\n\t\t\t\t} else if ( cancel ) {\n\t\t\t\t\t$('.order-customer-info').show();\n\t\t\t\t\t$('.new-customer').hide();\n\t\t\t\t}\n\n\t\t\t\tvar new_customer = $( '#edd-new-customer' );\n\n\t\t\t\tif ($('.new-customer').is(\":visible\")) {\n\t\t\t\t\tnew_customer.val(1);\n\t\t\t\t} else {\n\t\t\t\t\tnew_customer.val(0);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tadd_download : function() {\n\n\t\t\t// Add a New Download from the Add Downloads to Purchase Box\n\t\t\t$('.edd-edit-purchase-element').on('click', '#edd-order-add-download', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar order_download_select     = $( '#edd_order_download_select' ),\n\t\t\t\t\torder_download_quantity   = $( '#edd-order-download-quantity' ),\n\t\t\t\t\torder_download_price      = $( '#edd-order-download-price' ),\n\t\t\t\t\torder_download_tax        = $( '#edd-order-download-tax' ),\n\t\t\t\t\tselected_price_option     = $( '.edd_price_options_select option:selected' );\n\n\t\t\t\tvar download_id    = order_download_select.val(),\n\t\t\t\t\tdownload_title = order_download_select.find(':selected').text(),\n\t\t\t\t\tquantity       = order_download_quantity.val(),\n\t\t\t\t\titem_price     = order_download_price.val(),\n\t\t\t\t\titem_tax       = order_download_tax.val(),\n\t\t\t\t\tprice_id       = selected_price_option.val(),\n\t\t\t\t\tprice_name     = selected_price_option.text();\n\n\t\t\t\tif ( download_id < 1 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( ! item_price ) {\n\t\t\t\t\titem_price = 0;\n\t\t\t\t}\n\n\t\t\t\titem_price = parseFloat( item_price );\n\t\t\t\tif ( isNaN( item_price ) ) {\n\t\t\t\t\talert( edd_vars.numeric_item_price );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\titem_tax = parseFloat( item_tax );\n\t\t\t\tif ( isNaN( item_tax ) ) {\n\t\t\t\t\talert( edd_vars.numeric_item_tax );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( isNaN( parseInt( quantity ) ) ) {\n\t\t\t\t\talert( edd_vars.numeric_quantity );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( price_name ) {\n\t\t\t\t\tdownload_title = download_title + ' - ' + price_name;\n\t\t\t\t}\n\n\t\t\t\tvar count = $('#edd-order-items div.row').length,\n\t\t\t\t\tclone = $('#edd-order-items div.row:last').clone();\n\n\t\t\t\tclone.find( '.download span' ).html( '<a href=\"post.php?post=' + download_id + '&action=edit\"></a>' );\n\t\t\t\tclone.find( '.download span a' ).text( download_title );\n\t\t\t\tclone.find( '.edd-payment-details-download-item-price' ).val( item_price.toFixed( edd_vars.currency_decimals ) );\n\t\t\t\tclone.find( '.edd-payment-details-download-item-tax').val( item_tax.toFixed( edd_vars.currency_decimals ) );\n\t\t\t\tclone.find( 'input.edd-payment-details-download-id' ).val( download_id );\n\t\t\t\tclone.find( 'input.edd-payment-details-download-price-id' ).val( price_id );\n\n\t\t\t\tvar item_total = ( item_price * quantity ) + item_tax;\n\t\t\t\titem_total     = item_total.toFixed( edd_vars.currency_decimals );\n\t\t\t\tclone.find( 'span.edd-payment-details-download-amount' ).text( item_total );\n\t\t\t\tclone.find( 'input.edd-payment-details-download-amount' ).val( item_total );\n\t\t\t\tclone.find( 'input.edd-payment-details-download-quantity' ).val( quantity );\n\t\t\t\tclone.find( 'input.edd-payment-details-download-has-log').val(0);\n\t\t\t\tclone.find( 'input.edd-payment-details-download-order-item-id').val(0);\n\n\t\t\t\tclone.find( '.edd-copy-download-link-wrapper' ).remove();\n\n\t\t\t\t// Replace the name / id attributes\n\t\t\t\tclone.find( 'input' ).each(function() {\n\t\t\t\t\tvar name = $( this ).attr( 'name' );\n\n\t\t\t\t\tname = name.replace( /\\[(\\d+)\\]/, '[' + parseInt( count ) + ']');\n\n\t\t\t\t\t$( this ).attr( 'name', name ).attr( 'id', name );\n\t\t\t\t});\n\n\t\t\t\tclone.find('a.edd-order-remove-download').attr( 'data-key', parseInt( count ) );\n\n\t\t\t\t// Flag the Downloads section as changed\n\t\t\t\t$('#edd-payment-downloads-changed').val(1);\n\n\t\t\t\t$(clone).insertAfter( '#edd-order-items div.row:last' );\n\t\t\t\t$( '.edd-order-payment-recalc-totals' ).show();\n\t\t\t\t$( '.edd-add-download-field' ).val('');\n\t\t\t});\n\t\t},\n\n\t\tedit_price : function() {\n\n\t\t\t$(document.body).on('change keyup', '.edd-payment-item-input', function () {\n\t\t\t\tvar row        = $( this ).parents('ul.edd-purchased-files-list-wrapper'),\n\t\t\t\t\tquantity   = row.find('input.edd-payment-details-download-quantity').val().replace(edd_vars.thousands_separator,''),\n\t\t\t\t\titem_price = row.find('input.edd-payment-details-download-item-price').val().replace(edd_vars.thousands_separator,''),\n\t\t\t\t\titem_tax   = row.find('input.edd-payment-details-download-item-tax').val().replace(edd_vars.thousands_separator,'');\n\n\t\t\t\t$( '.edd-order-payment-recalc-totals' ).show();\n\n\t\t\t\titem_price = parseFloat( item_price );\n\t\t\t\tif ( isNaN( item_price ) ) {\n\t\t\t\t\talert( edd_vars.numeric_item_price );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\titem_tax = parseFloat( item_tax );\n\t\t\t\tif ( isNaN( item_tax ) ) {\n\t\t\t\t\titem_tax = 0.00;\n\t\t\t\t}\n\n\t\t\t\tif ( isNaN( parseInt( quantity ) ) ) {\n\t\t\t\t\tquantity = 1;\n\t\t\t\t}\n\n\t\t\t\tvar item_total = ( item_price * quantity ) + item_tax;\n\t\t\t\titem_total     = item_total.toFixed( edd_vars.currency_decimals );\n\t\t\t\trow.find('input.edd-payment-details-download-amount').val( item_total );\n\t\t\t\trow.find('span.edd-payment-details-download-amount').text( item_total );\n\t\t\t});\n\t\t},\n\n\t\trecalculate_total : function() {\n\n\t\t\t// Update taxes and totals for any changes made.\n\t\t\t$('#edd-order-recalc-total').on('click', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar total  = 0,\n\t\t\t\t\ttax    = 0,\n\t\t\t\t\ttotals = $('#edd-order-items .row input.edd-payment-details-download-amount'),\n\t\t\t\t\ttaxes  = $('#edd-order-items .row input.edd-payment-details-download-item-tax');\n\n\t\t\t\tif ( totals.length ) {\n\t\t\t\t\ttotals.each(function() {\n\t\t\t\t\t\ttotal += parseFloat( $( this ).val() );\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( taxes.length ) {\n\t\t\t\t\ttaxes.each(function() {\n\t\t\t\t\t\ttax += parseFloat( $( this ).val() );\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( $('.edd-payment-fees').length ) {\n\t\t\t\t\t$('.edd-payment-fees span.fee-amount').each(function() {\n\t\t\t\t\t\ttotal += parseFloat( $( this ).data('fee') );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$('input[name=edd-payment-total]').val(total.toFixed(edd_vars.currency_decimals));\n\t\t\t\t$('input[name=edd-payment-tax]').val(tax.toFixed(edd_vars.currency_decimals));\n\t\t\t});\n\t\t},\n\n\t\tvariable_prices_check : function() {\n\n\t\t\t// On Download Select, Check if Variable Prices Exist\n\t\t\t$('.edd-edit-purchase-element').on('change', 'select#edd_order_download_select', function() {\n\t\t\t\tvar select      = $( this ),\n\t\t\t\t\tdownload_id = select.val();\n\n\t\t\t\tif(parseInt(download_id) > 0) {\n\t\t\t\t\tvar postData = {\n\t\t\t\t\t\taction : 'edd_check_for_download_price_variations',\n\t\t\t\t\t\tdownload_id: download_id\n\t\t\t\t\t};\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\tdata: postData,\n\t\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\t\tsuccess: function (response) {\n\t\t\t\t\t\t\t$('.edd_price_options_select').remove();\n\t\t\t\t\t\t\t$(response).insertAfter( select.next() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}).fail(function (data) {\n\t\t\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\t\t\tconsole.log( data );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tresend_receipt : function() {\n\t\t\tvar emails_wrap = $('.edd-order-resend-receipt-addresses');\n\n\t\t\t$( document.body ).on( 'click', '#edd-select-receipt-email', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\temails_wrap.slideDown();\n\t\t\t});\n\n\t\t\t$( document.body ).on( 'change', '.edd-order-resend-receipt-email', function() {\n\t\t\t\tvar href = $('#edd-select-receipt-email').prop( 'href' ) + '&email=' + $( this ).val();\n\n\t\t\t\tif ( confirm( edd_vars.resend_receipt ) ) {\n\t\t\t\t\twindow.location = href;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$( document.body ).on( 'click', '#edd-resend-receipt', function( e ) {\n\t\t\t\treturn confirm( edd_vars.resend_receipt );\n\t\t\t});\n\t\t},\n\n\t\tcopy_download_link : function() {\n\t\t\t$( document.body ).on( 'click', '.edd-copy-download-link', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar link     = $( this ),\n\t\t\t\t\tpostData = {\n\t\t\t\t\t\taction      : 'edd_get_file_download_link',\n\t\t\t\t\t\tpayment_id  : $('input[name=\"edd_payment_id\"]').val(),\n\t\t\t\t\t\tdownload_id : link.data('download-id'),\n\t\t\t\t\t\tprice_id    : link.data('price-id')\n\t\t\t\t\t};\n\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tdata: postData,\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\tsuccess: function (link) {\n\t\t\t\t\t\t$( \"#edd-download-link\" ).dialog({\n\t\t\t\t\t\t\twidth: 400\n\t\t\t\t\t\t}).html( '<textarea rows=\"10\" cols=\"40\" id=\"edd-download-link-textarea\">' + link + '</textarea>' );\n\t\t\t\t\t\t$( \"#edd-download-link-textarea\" ).focus().select();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}).fail(function (data) {\n\t\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\t\tconsole.log( data );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Edit_Payment.init();\n\n\t/**\n\t * Add order\n\t */\n\n\tvar EDD_Add_Order = {\n\t\tinit : function() {\n\t\t\tthis.add_order_item();\n\t\t\tthis.add_adjustment();\n\t\t\tthis.override();\n\t\t\tthis.remove();\n\t\t\tthis.fetch_addresses();\n\t\t\tthis.select_address();\n\t\t\tthis.recalculate_total();\n\t\t\tthis.validate();\n\t\t},\n\n\t\tadd_order_item : function () {\n\t\t\tvar button = $( '.edd-add-order-item-button' );\n\n\t\t\t// Toggle form.\n\t\t\t$( '#edd-order-items' ).on( 'click', 'h3 .edd-metabox-title-action', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$( '#edd-order-items' ).children( '.edd-add-download-to-purchase' ).slideToggle();\n\t\t\t} );\n\n\t\t\tbutton.prop( 'disabled', 'disabled' );\n\n\t\t\t$( '.edd-order-add-download-select' ).on( 'change', function() {\n\t\t\t\tbutton.removeAttr( 'disabled' );\n\t\t\t} );\n\n\t\t\t// Add item.\n\t\t\tbutton.on( 'click', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar select = $( '.edd-order-add-download-select' ),\n\t\t\t\t\tspinner = $( '.edd-add-download-to-purchase .spinner' ),\n\t\t\t\t\tdata = {\n\t\t\t\t\t\taction: 'edd_add_order_item',\n\t\t\t\t\t\tnonce: $( '#edd_add_order_nonce' ).val(),\n\t\t\t\t\t\tcountry: $( '.edd-order-address-country' ).val(),\n\t\t\t\t\t\tregion: $( '.edd-order-address-region' ).val(),\n\t\t\t\t\t\tdownload: select.val(),\n\t\t\t\t\t\tquantity: $( '.edd-add-order-quantity' ).val()\n\t\t\t\t\t};\n\n\t\t\t\tspinner.css( 'visibility', 'visible' );\n\n\t\t\t\t$.post( ajaxurl, data, function( response ) {\n\t\t\t\t\t$( '.orderitems .no-items' ).hide();\n\t\t\t\t\t$( '.orderitems tbody' ).append( response.html );\n\n\t\t\t\t\tEDD_Add_Order.update_totals();\n\t\t\t\t\tEDD_Add_Order.reindex();\n\n\t\t\t\t\tspinner.css( 'visibility', 'hidden' );\n\n\t\t\t\t\t// Display `Override` button if it exists.\n\t\t\t\t\t$( '.edd-override' ).removeAttr( 'disabled' );\n\t\t\t\t}, 'json' );\n\t\t\t} );\n\t\t},\n\t\t\n\t\tadd_adjustment : function () {\n\t\t\t// Toggle form.\n\t\t\t$( '#edd-order-adjustments' ).on( 'click', 'h3 .edd-metabox-title-action', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$( '#edd-order-adjustments' ).children( '.edd-add-adjustment-to-purchase' ).slideToggle();\n\t\t\t} );\n\n\t\t\t$( '.edd-order-add-adjustment-select' ).on( 'change', function() {\n\t\t\t\tvar type = $( this ).val();\n\n\t\t\t\t$( '.edd-add-adjustment-to-purchase li.fee, .edd-add-adjustment-to-purchase li.discount, .edd-add-adjustment-to-purchase li.fee, .edd-add-adjustment-to-purchase li.credit' ).hide();\n\n\t\t\t\t$( '.' + type, '.edd-add-adjustment-to-purchase' ).show();\n\t\t\t} );\n\n\t\t\t$( '.edd-add-order-adjustment-button' ).on( 'click', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar data = {\n\t\t\t\t\t\taction: 'edd_add_adjustment_to_order',\n\t\t\t\t\t\tnonce: $( '#edd_add_order_nonce' ).val(),\n\t\t\t\t\t\ttype: $( '.edd-order-add-adjustment-select' ).val(),\n\t\t\t\t\t\tadjustment_data: {\n\t\t\t\t\t\t\tfee: $( '.edd-order-add-fee-select' ).val(),\n\t\t\t\t\t\t\tdiscount: $( '.edd-order-add-discount-select' ).val(),\n\t\t\t\t\t\t\tcredit: {\n\t\t\t\t\t\t\t\tdescription: $( '.edd-add-order-credit-description' ).val(),\n\t\t\t\t\t\t\t\tamount: $( '.edd-add-order-credit-amount' ).val()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tspinner = $( '.edd-add-adjustment-to-purchase .spinner' );\n\n\t\t\t\tspinner.css( 'visibility', 'visible' );\n\n\t\t\t\t$.post( ajaxurl, data, function( response ) {\n\t\t\t\t\t$( '.orderadjustments .no-items' ).hide();\n\t\t\t\t\t$( '.orderadjustments tbody' ).append( response.html );\n\n\t\t\t\t\tEDD_Add_Order.update_totals();\n\t\t\t\t\tEDD_Add_Order.reindex();\n\n\t\t\t\t\tspinner.css( 'visibility', 'hidden' );\n\t\t\t\t}, 'json' );\n\t\t\t} );\n\t\t},\n\n\t\toverride : function() {\n\t\t\t$( '.edd-override' ).on( 'click', function() {\n\t\t\t\t$( this ).prop( 'disabled', 'disabled' );\n\n\t\t\t\t$( this ).attr( 'data-override', 'true' );\n\n\t\t\t\t$( document.body ).on( 'click', '.orderitems tr td .value', EDD_Add_Order.switchToInput );\n\n\t\t\t\t$( '<input>' ).attr({\n\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\tname: 'edd_add_order_override',\n\t\t\t\t\tvalue: 'true'\n\t\t\t\t}).appendTo( '#edd-add-order-form' );\n\t\t\t} );\n\t\t},\n\n\t\tswitchToInput : function() {\n\t\t\tvar input = $( '<input>', {\n\t\t\t\tval: $( this ).text(),\n\t\t\t\ttype: 'text'\n\t\t\t});\n\n\t\t\t$( this ).replaceWith( input );\n\t\t\tinput.on( 'blur', EDD_Add_Order.switchToSpan );\n\t\t\tinput.select();\n\t\t},\n\n\t\tswitchToSpan : function() {\n\t\t\tvar span = $( '<span>', {\n\t\t\t\ttext: parseFloat( $( this ).val() ).toLocaleString( edd_vars.currency, {\n\t\t\t\t\tstyle:                 'decimal',\n\t\t\t\t\tcurrency:              edd_vars.currency,\n\t\t\t\t\tminimumFractionDigits: edd_vars.currency_decimals,\n\t\t\t\t\tmaximumFractionDigits: edd_vars.currency_decimals\n\t\t\t\t} )\n\t\t\t});\n\n\t\t\tvar type = $( this ).parent().data( 'type' ),\n\t\t\t\tinput = $( this ).parents( 'tr' ).find( '.download-' + type );\n\n\t\t\tif ( 'quantity' === type ) {\n\t\t\t\tspan.text( parseInt( $( this ).val() ) );\n\t\t\t}\n\n\t\t\tinput.val( span.text() );\n\n\t\t\tspan.addClass( 'value' );\n\t\t\t$( this ).replaceWith( span );\n\n\t\t\tEDD_Add_Order.update_totals();\n\n\t\t\tspan.on( 'click', EDD_Add_Order.switchToInput );\n\t\t},\n\n\t\tremove : function() {\n\t\t\t$( document.body ).on( 'click', '.orderitems .remove-item, .orderadjustments .remove-item', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar $this = $( this ),\n\t\t\t\t\ttbody = $this.parents( 'tbody' );\n\n\t\t\t\t$this.parents( 'tr' ).remove();\n\n\t\t\t\tif ( 1 === $( 'tr', tbody ).length ) {\n\t\t\t\t\t$( '.no-items', tbody ).show();\n\t\t\t\t}\n\n\t\t\t\tEDD_Add_Order.update_totals();\n\t\t\t\tEDD_Add_Order.reindex();\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t},\n\n\t\tfetch_addresses : function() {\n\t\t\t$( '.edd-payment-change-customer-input' ).on( 'change', function() {\n\t\t\t\tvar $this = $( this ),\n\t\t\t\t\tdata = {\n\t\t\t\t\t\taction: 'edd_customer_addresses',\n\t\t\t\t\t\tcustomer_id: $this.val(),\n\t\t\t\t\t\tnonce: $( '#edd_add_order_nonce' ).val()\n\t\t\t\t\t};\n\n\t\t\t\t$.post( ajaxurl, data, function( response ) {\n\n\t\t\t\t\t// Store response for later use.\n\t\t\t\t\tedd_admin_globals.customer_address_ajax_result = response;\n\n\t\t\t\t\tif ( response.html ) {\n\t\t\t\t\t\t$( '.customer-address-select-wrap' ).html( response.html ).show();\n\t\t\t\t\t\t$( '.customer-address-select-wrap select' ).chosen( chosenVars );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$( '.customer-address-select-wrap' ).html( '' ).hide();\n\t\t\t\t\t}\n\t\t\t\t}, 'json' );\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t},\n\t\t\n\t\tselect_address : function() {\n\t\t\t$( document.body ).on( 'change', '.customer-address-select-wrap .add-order-customer-address-select', function() {\n\t\t\t\tvar $this = $( this ),\n\t\t\t\t\tval   = $this.val(),\n\t\t\t\t\tselect = $( '#edd-add-order-form select#edd_order_address_country' ),\n\t\t\t\t\taddress = edd_admin_globals.customer_address_ajax_result.addresses[ val ];\n\n\t\t\t\t$( '#edd-add-order-form input[name=\"edd_order_address[address]\"]' ).val( address.address );\n\t\t\t\t$( '#edd-add-order-form input[name=\"edd_order_address[address2]\"]' ).val( address.address2 );\n\t\t\t\t$( '#edd-add-order-form input[name=\"edd_order_address[city]\"]' ).val( address.city );\n\t\t\t\tselect.val( address.country ).trigger( 'chosen:updated' );\n\t\t\t\t$( '#edd-add-order-form input[name=\"edd_order_address[address_id]\"]' ).val( val );\n\n\t\t\t\tvar data = {\n\t\t\t\t\t\taction:    'edd_get_shop_states',\n\t\t\t\t\t\tcountry:    select.val(),\n\t\t\t\t\t\tnonce:      $( '.add-order-customer-address-select' ).data( 'nonce' ),\n\t\t\t\t\t\tfield_name: 'edd_order_address_region'\n\t\t\t\t\t};\n\n\t\t\t\t$.post( ajaxurl, data, function ( response ) {\n\t\t\t\t\t$( 'select#edd_order_address_region' ).find( 'option:gt(0)' ).remove();\n\n\t\t\t\t\tif ( 'nostates' !== response ) {\n\t\t\t\t\t\t$( response ).find( 'option:gt(0)' ).appendTo( 'select#edd_order_address_region' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( 'select#edd_order_address_region' ).trigger( 'chosen:updated' );\n\t\t\t\t\t$( 'select#edd_order_address_region' ).val( address.region ).trigger( 'chosen:updated' );\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t$( '.edd-order-address-country' ).on( 'change', function() {\n\t\t\t\tvar select = $( this ),\n\t\t\t\t\tdata   = {\n\t\t\t\t\t\taction:    'edd_get_shop_states',\n\t\t\t\t\t\tcountry:    select.val(),\n\t\t\t\t\t\tnonce:      select.data( 'nonce' ),\n\t\t\t\t\t\tfield_name: 'edd-order-address-country'\n\t\t\t\t\t};\n\n\t\t\t\t$.post( ajaxurl, data, function ( response ) {\n\t\t\t\t\t$( 'select.edd-order-address-region' ).find( 'option:gt(0)' ).remove();\n\n\t\t\t\t\tif ( 'nostates' !== response ) {\n\t\t\t\t\t\t$( response ).find( 'option:gt(0)' ).appendTo( 'select.edd-order-address-region' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( 'select.edd-order-address-region' ).trigger( 'chosen:updated' );\n\t\t\t\t} ).done(function ( response ) {\n\t\t\t\t\tEDD_Add_Order.recalculate_taxes();\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t$( '.edd-order-address-region' ).on( 'change', function() {\n\t\t\t\tEDD_Add_Order.recalculate_taxes();\n\t\t\t} );\n\t\t},\n\n\t\treindex : function () {\n\t\t\tvar key = 0;\n\n\t\t\t$( '.orderitems tbody tr:not(.no-items), .orderadjustments tbody tr:not(.no-items)' ).each( function() {\n\t\t\t\t$( this ).attr( 'data-key', key );\n\n\t\t\t\t$( this ).find( 'input' ).each( function() {\n\t\t\t\t\tvar name = $( this ).attr( 'name' );\n\n\t\t\t\t\tif ( name ) {\n\t\t\t\t\t\tname = name.replace( /\\[(\\d+)\\]/, '[' + parseInt( key ) + ']');\n\t\t\t\t\t\t$( this ).attr( 'name', name );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tkey++;\n\t\t\t});\n\t\t},\n\n\t\trecalculate_taxes : function() {\n\t\t\t$( '#publishing-action .spinner' ).css( 'visibility', 'visible' );\n\n\t\t\tvar data = {\n\t\t\t\taction: 'edd_add_order_recalculate_taxes',\n\t\t\t\tcountry: $( '.edd-order-address-country' ).val(),\n\t\t\t\tregion: $( '.edd-order-address-region' ).val(),\n\t\t\t\tnonce: $( '#edd_add_order_nonce' ).val()\n\t\t\t};\n\n\t\t\t$.post( ajaxurl, data, function ( response ) {\n\t\t\t\tif ( '' !== response.tax_rate ) {\n\t\t\t\t\tvar tax_rate = parseFloat( response.tax_rate );\n\n\t\t\t\t\t$( '.orderitems tbody tr:not(.no-items)' ).each( function() {\n\t\t\t\t\t\tvar amount = parseFloat( $( '.amount .value', this ).text() ),\n\t\t\t\t\t\t\tquantity = parseFloat( $( '.quantity .value', this ).text() ),\n\t\t\t\t\t\t\tcalculated = amount * quantity,\n\t\t\t\t\t\t\ttax = 0;\n\n\t\t\t\t\t\tif ( response.prices_include_tax ) {\n\t\t\t\t\t\t\tvar pre_tax = parseFloat( calculated / ( 1 + tax_rate ) );\n\t\t\t\t\t\t\ttax = parseFloat( calculated - pre_tax );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttax = calculated * tax_rate;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar storeCurrency = edd_vars.currency,\n\t\t\t\t\t\t\tdecimalPlaces = edd_vars.currency_decimals,\n\t\t\t\t\t\t\ttotal         = calculated + tax;\n\n\t\t\t\t\t\t$( '.tax .value', this ).text( tax.toLocaleString( storeCurrency, { style: 'decimal', currency: storeCurrency, minimumFractionDigits: decimalPlaces, maximumFractionDigits: decimalPlaces } ) );\n\t\t\t\t\t\t$( '.total .value', this ).text( total.toLocaleString( storeCurrency, { style: 'decimal', currency: storeCurrency, minimumFractionDigits: decimalPlaces, maximumFractionDigits: decimalPlaces } ) );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}, 'json' ).done( function() {\n\t\t\t\t$( '#publishing-action .spinner' ).css( 'visibility', 'hidden' );\n\n\t\t\t\tEDD_Add_Order.update_totals();\n\t\t\t} );\n\t\t},\n\n\t\trecalculate_total : function() {\n\t\t\t$( '#edd-add-order' ).on( 'click', '#edd-order-recalc-total', function() {\n\t\t\t\tEDD_Add_Order.update_totals();\n\t\t\t} );\n\t\t},\n\n\t\tupdate_totals : function() {\n\t\t\tvar subtotal = 0,\n\t\t\t\ttax = 0,\n\t\t\t\tadjustments = 0,\n\t\t\t\ttotal = 0;\n\n\t\t\t$( '.orderitems tbody tr:not(.no-items)' ).each( function() {\n\t\t\t\tvar row = $( this ),\n\t\t\t\t\titem_amount,\n\t\t\t\t\titem_quantity = 1,\n\t\t\t\t\titem_tax = 0,\n\t\t\t\t\titem_total;\n\n\t\t\t\titem_amount = parseFloat( row.find( '.amount .value' ).text() );\n\n\t\t\t\tif ( row.find( '.quantity' ).length ) {\n\t\t\t\t\titem_quantity = parseFloat( row.find( '.quantity .value' ).text() );\n\t\t\t\t}\n\n\t\t\t\tsubtotal += item_amount * item_quantity;\n\n\t\t\t\tif ( row.find( '.tax' ).length ) {\n\t\t\t\t\titem_tax = parseFloat( row.find( '.tax .value' ).text() );\n\n\t\t\t\t\tif ( ! isNaN( item_tax ) && ! edd_vars.taxes_included ) {\n\t\t\t\t\t\titem_amount += item_tax;\n\t\t\t\t\t\ttax += item_tax;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem_total = item_amount * item_quantity;\n\n\t\t\t\ttotal += item_total;\n\t\t\t});\n\n\t\t\t$( '.orderadjustments tbody tr:not(.no-items)' ).each( function() {\n\t\t\t\tvar row = $( this ),\n\t\t\t\t\ttype,\n\t\t\t\t\tamount = 0;\n\n\t\t\t\ttype = row.data( 'adjustment' );\n\n\t\t\t\tswitch ( type ) {\n\t\t\t\t\tcase 'credit':\n\t\t\t\t\t\tamount = parseFloat( row.find( 'input.credit-amount', row ).val() );\n\t\t\t\t\t\tadjustments += amount;\n\t\t\t\t\t\ttotal -= amount;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'discount':\n\t\t\t\t\t\tamount = parseFloat( row.find( 'input.discount-amount', row ).val() );\n\n\t\t\t\t\t\tif ( 'percent' === row.find( 'input.discount-type' ).val() ) {\n\t\t\t\t\t\t\t$( '.orderitems tbody tr:not(.no-items)' ).each( function () {\n\t\t\t\t\t\t\t\tvar item_amount = $( this ).find( '.amount .value' ).text(),\n\t\t\t\t\t\t\t\t\tquantity = 1;\n\n\t\t\t\t\t\t\t\tif ( $( this ).find( '.quantity' ).length ) {\n\t\t\t\t\t\t\t\t\tquantity = parseFloat( $( this ).find( '.quantity' ).text() );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\titem_amount *= quantity;\n\n\t\t\t\t\t\t\t\tvar reduction = parseFloat( ( item_amount / 100 ) * amount );\n\n\t\t\t\t\t\t\t\tif ( $( this ).find( '.tax' ).length ) {\n\t\t\t\t\t\t\t\t\tvar item_tax = parseFloat( $( this ).find( '.tax .value' ).text() ),\n\t\t\t\t\t\t\t\t\t\titem_tax_reduction = parseFloat( item_tax / 100 * amount );\n\n\t\t\t\t\t\t\t\t\ttax -= item_tax_reduction;\n\t\t\t\t\t\t\t\t\ttotal -= item_tax_reduction;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tadjustments += reduction;\n\t\t\t\t\t\t\t\ttotal -= reduction;\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadjustments += amount;\n\t\t\t\t\t\t\ttotal -= amount;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ( isNaN( total ) ) {\n\t\t\t\ttotal = 0;\n\t\t\t}\n\n\t\t\tif ( isNaN( subtotal ) ) {\n\t\t\t\tsubtotal = 0;\n\t\t\t}\n\n\t\t\tif ( isNaN( tax ) ) {\n\t\t\t\ttax = 0;\n\t\t\t}\n\n\t\t\tif ( isNaN( adjustments ) ) {\n\t\t\t\tadjustments = 0;\n\t\t\t}\n\n\t\t\t$(' .edd-order-subtotal .value').html( subtotal.toFixed( edd_vars.currency_decimals ) );\n\t\t\t$(' .edd-order-taxes .value').html( tax.toFixed( edd_vars.currency_decimals ) );\n\t\t\t$(' .edd-order-discounts .value').html( adjustments.toFixed( edd_vars.currency_decimals ) );\n\t\t\t$(' .edd-order-total .value ').html( total.toFixed( edd_vars.currency_decimals ) );\n\t\t},\n\n\t\tvalidate : function() {\n\t\t\t$( '#edd-add-order-form' ).on( 'submit', function() {\n\t\t\t\t$( '#publishing-action .spinner' ).css( 'visibility', 'visible' );\n\n\t\t\t\tif ( $( '.orderitems tr.no-items' ).is( ':visible' ) ) {\n\t\t\t\t\t$( '#edd-add-order-no-items-error' ).slideDown();\n\t\t\t\t} else {\n\t\t\t\t\t$( '#edd-add-order-no-items-error' ).slideUp();\n\t\t\t\t}\n\n\t\t\t\tif ( $( '.order-customer-info' ).is( ':visible' ) ) {\n\t\t\t\t\t$( '#edd-add-order-customer-error' ).slideDown();\n\t\t\t\t} else {\n\t\t\t\t\t$( '#edd-add-order-customer-error' ).slideUp();\n\t\t\t\t}\n\n\t\t\t\tif ( $( '.notice' ).is( ':visible' ) ) {\n\t\t\t\t\t$( '#publishing-action .spinner' ).css( 'visibility', 'hidden' );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t};\n\n\tEDD_Add_Order.init();\n\n\t/**\n\t * Discount add / edit screen JS\n\t */\n\tvar EDD_Discount = {\n\n\t\tinit : function() {\n\t\t\tthis.product_requirements();\n\t\t},\n\n\t\tproduct_requirements : function() {\n\t\t\t$('#edd-products').change(function() {\n\t\t\t\tvar product_conditions = $( '#edd-discount-product-conditions' );\n\n\t\t\t\tif ( $( this ).val() ) {\n\t\t\t\t\tproduct_conditions.show();\n\t\t\t\t} else {\n\t\t\t\t\tproduct_conditions.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Discount.init();\n\n\t/**\n\t * Reports / Exports screen JS\n\t */\n\tvar EDD_Reports = {\n\n\t\tinit : function() {\n\t\t\tthis.meta_boxes();\n\t\t\tthis.date_options();\n\t\t\tthis.customers_export();\n\t\t\tthis.filters();\n\t\t},\n\n\t\tmeta_boxes : function() {\n\t\t\t$( '.edd-reports-wrapper .postbox .handlediv' ).remove();\n\t\t\t$( '.edd-reports-wrapper .postbox' ).removeClass( 'closed' );\n\n\t\t\t// Use a timeout to ensure this happens after core binding\n\t\t\tsetTimeout( function() {\n\t\t\t\t$( '.edd-reports-wrapper .postbox .hndle' ).unbind( 'click.postboxes' );\n\t\t\t}, 1 );\n\t\t},\n\n\t\tdate_options : function() {\n\n\t\t\t// Show hide extended date options\n\t\t\t$( 'select.edd-graphs-date-options' ).on( 'change', function( event ) {\n\t\t\t\tvar\tselect             = $( this ),\n\t\t\t\t\tdate_range_options = select.parent().siblings( '.edd-date-range-options' );\n\n\t\t\t\tif ( 'other' === select.val() ) {\n\t\t\t\t\tdate_range_options.removeClass( 'screen-reader-text' );\n\t\t\t\t} else {\n\t\t\t\t\tdate_range_options.addClass( 'screen-reader-text' );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tcustomers_export : function() {\n\n\t\t\t// Show / hide Download option when exporting customers\n\t\t\t$( '#edd_customer_export_download' ).change( function() {\n\n\t\t\t\tvar $this = $( this ),\n\t\t\t\t\tdownload_id = $('option:selected', $this).val(),\n\t\t\t\t\tcustomer_export_option = $( '#edd_customer_export_option' );\n\n\t\t\t\tif ( '0' === $this.val() ) {\n\t\t\t\t\tcustomer_export_option.show();\n\t\t\t\t} else {\n\t\t\t\t\tcustomer_export_option.hide();\n\t\t\t\t}\n\n\t\t\t\t// On Download Select, Check if Variable Prices Exist\n\t\t\t\tif ( parseInt( download_id ) !== 0 ) {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\taction : 'edd_check_for_download_price_variations',\n\t\t\t\t\t\tdownload_id: download_id,\n\t\t\t\t\t\tall_prices: true\n\t\t\t\t\t};\n\n\t\t\t\t\tvar price_options_select = $('.edd_price_options_select');\n\n\t\t\t\t\t$.post(ajaxurl, data, function(response) {\n\t\t\t\t\t\tprice_options_select.remove();\n\t\t\t\t\t\t$('#edd_customer_export_download_chosen').after( response );\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tprice_options_select.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfilters : function() {\n\t\t\t$('.edd_countries_filter').on( 'change', function() {\n\t\t\t\tvar select = $( this ),\n\t\t\t\t\tdata   = {\n\t\t\t\t\t\taction:    'edd_get_shop_states',\n\t\t\t\t\t\tcountry:    select.val(),\n\t\t\t\t\t\tnonce:      select.data('nonce'),\n\t\t\t\t\t\tfield_name: 'edd_countries_filter'\n\t\t\t\t\t};\n\n\t\t\t\t$.post( ajaxurl, data, function ( response ) {\n\t\t\t\t\t$( 'select.edd_regions_filter' ).find( 'option:gt(0)' ).remove();\n\n\t\t\t\t\tif ( 'nostates' !== response ) {\n\t\t\t\t\t\t$( response ).find( 'option:gt(0)' ).appendTo( 'select.edd_regions_filter' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( 'select.edd_regions_filter' ).trigger( 'chosen:updated' );\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t}\n\t};\n\n\tEDD_Reports.init();\n\n\n\t/**\n\t * Settings screen JS\n\t */\n\tvar EDD_Settings = {\n\n\t\tinit : function() {\n\t\t\tthis.general();\n\t\t\tthis.emails();\n\t\t\tthis.misc();\n\t\t},\n\n\t\tgeneral : function() {\n\t\t\tvar edd_color_picker = $('.edd-color-picker');\n\n\t\t\tif ( edd_color_picker.length ) {\n\t\t\t\tedd_color_picker.wpColorPicker();\n\t\t\t}\n\n\t\t\t// Settings Upload field JS\n\t\t\tif ( typeof wp === \"undefined\" || '1' !== edd_vars.new_media_ui ) {\n\n\t\t\t\t// Old Thickbox uploader\n\t\t\t\tvar edd_settings_upload_button = $( '.edd_settings_upload_button' );\n\t\t\t\tif ( edd_settings_upload_button.length > 0 ) {\n\t\t\t\t\twindow.formfield = '';\n\n\t\t\t\t\t$( document.body ).on('click', edd_settings_upload_button, function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\twindow.formfield = $( this ).parent().prev();\n\t\t\t\t\t\twindow.tbframe_interval = setInterval(function() {\n\t\t\t\t\t\t\tjQuery('#TB_iframeContent').contents().find('.savesend .button').val(edd_vars.use_this_file).end().find('#insert-gallery, .wp-post-thumbnail').hide();\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\ttb_show( edd_vars.add_new_download, 'media-upload.php?TB_iframe=true' );\n\t\t\t\t\t});\n\n\t\t\t\t\twindow.edd_send_to_editor = window.send_to_editor;\n\t\t\t\t\twindow.send_to_editor = function (html) {\n\t\t\t\t\t\tif (window.formfield) {\n\t\t\t\t\t\t\timgurl = $('a', '<div>' + html + '</div>').attr('href');\n\t\t\t\t\t\t\twindow.formfield.val(imgurl);\n\t\t\t\t\t\t\twindow.clearInterval(window.tbframe_interval);\n\t\t\t\t\t\t\ttb_remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.edd_send_to_editor(html);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twindow.send_to_editor = window.edd_send_to_editor;\n\t\t\t\t\t\twindow.formfield = '';\n\t\t\t\t\t\twindow.imagefield = false;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// WP 3.5+ uploader\n\t\t\t\tvar file_frame;\n\t\t\t\twindow.formfield = '';\n\n\t\t\t\t$( document.body ).on('click', '.edd_settings_upload_button', function(e) {\n\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tvar button = $( this );\n\n\t\t\t\t\twindow.formfield = $( this ).parent().prev();\n\n\t\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\t\tif ( file_frame ) {\n\t\t\t\t\t\t//file_frame.uploader.uploader.param( 'post_id', set_to_post_id );\n\t\t\t\t\t\tfile_frame.open();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create the media frame.\n\t\t\t\t\tfile_frame = wp.media.frames.file_frame = wp.media({\n\t\t\t\t\t\tframe: 'post',\n\t\t\t\t\t\tstate: 'insert',\n\t\t\t\t\t\ttitle: button.data( 'uploader_title' ),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: button.data( 'uploader_button_text' )\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmultiple: false\n\t\t\t\t\t});\n\n\t\t\t\t\tfile_frame.on( 'menu:render:default', function( view ) {\n\t\t\t\t\t\t// Store our views in an object.\n\t\t\t\t\t\tvar views = {};\n\n\t\t\t\t\t\t// Unset default menu items\n\t\t\t\t\t\tview.unset( 'library-separator' );\n\t\t\t\t\t\tview.unset( 'gallery' );\n\t\t\t\t\t\tview.unset( 'featured-image' );\n\t\t\t\t\t\tview.unset( 'embed' );\n\n\t\t\t\t\t\t// Initialize the views in our view object.\n\t\t\t\t\t\tview.set( views );\n\t\t\t\t\t});\n\n\t\t\t\t\t// When an image is selected, run a callback.\n\t\t\t\t\tfile_frame.on( 'insert', function() {\n\n\t\t\t\t\t\tvar selection = file_frame.state().get('selection');\n\t\t\t\t\t\tselection.each( function( attachment, index ) {\n\t\t\t\t\t\t\tattachment = attachment.toJSON();\n\t\t\t\t\t\t\twindow.formfield.val(attachment.url);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Finally, open the modal\n\t\t\t\t\tfile_frame.open();\n\t\t\t\t});\n\n\t\t\t\t// WP 3.5+ uploader\n\t\t\t\tvar file_frame;\n\t\t\t\twindow.formfield = '';\n\t\t\t}\n\t\t},\n\n\t\temails : function() {\n\n\t\t\t// Show the email template previews\n\t\t\tvar email_preview_wrap = $('#email-preview-wrap');\n\t\t\tif ( email_preview_wrap.length ) {\n\t\t\t\tvar emailPreview = $('#email-preview');\n\t\t\t\temail_preview_wrap.colorbox({\n\t\t\t\t\tinline: true,\n\t\t\t\t\thref: emailPreview,\n\t\t\t\t\twidth: '80%',\n\t\t\t\t\theight: 'auto'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tmisc : function() {\n\t\t\tvar downloadMethod = $('select[name=\"edd_settings[download_method]\"]'),\n\t\t\t\tsymlink = downloadMethod.parent().parent().next();\n\n\t\t\t// Hide Symlink option if Download Method is set to Direct\n\t\t\tif ( downloadMethod.val() === 'direct' ) {\n\t\t\t\tsymlink.css( 'opacity', '0.4' );\n\t\t\t\tsymlink.find('input').prop('checked', false).prop('disabled', true);\n\t\t\t}\n\n\t\t\t// Toggle download method option\n\t\t\tdownloadMethod.on('change', function() {\n\t\t\t\tif ( $( this ).val() === 'direct' ) {\n\t\t\t\t\tsymlink.css( 'opacity', '0.4' );\n\t\t\t\t\tsymlink.find('input').prop('checked', false).prop('disabled', true);\n\t\t\t\t} else {\n\t\t\t\t\tsymlink.find('input').prop('disabled', false);\n\t\t\t\t\tsymlink.css( 'opacity', '1' );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Settings.init();\n\n\t$('.download_page_edd-payment-history table.orders .row-actions .delete a, a.edd-delete-payment').on('click', function() {\n\t\tif ( confirm( edd_vars.delete_payment ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n\t$('.download_page_edd-payment-history table.orderitems .row-actions .delete a').on('click', function() {\n\t\tif ( confirm( edd_vars.delete_order_item ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n\t$('.download_page_edd-payment-history table.orderadjustments .row-actions .delete a').on('click', function() {\n\t\tif ( confirm( edd_vars.delete_order_adjustment ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n\t$('body').on('click', '#the-list .editinline', function() {\n\t\tvar post_id = $( this ).closest('tr').attr('id');\n\n\t\tpost_id = post_id.replace(\"post-\", \"\");\n\n\t\tvar $edd_inline_data = $('#post-' + post_id);\n\n\t\tvar regprice = $edd_inline_data.find('.column-price .downloadprice-' + post_id).val();\n\n\t\t// If variable priced product disable editing, otherwise allow price changes\n\t\tif ( regprice !== $('#post-' + post_id + '.column-price .downloadprice-' + post_id).val() ) {\n\t\t\t$('.regprice', '#edd-download-data').val(regprice).attr('disabled', false);\n\t\t} else {\n\t\t\t$('.regprice', '#edd-download-data').val( edd_vars.quick_edit_warning ).attr('disabled', 'disabled');\n\t\t}\n\t});\n\n\t// Bulk edit save\n\t$( document.body ).on( 'click', '#bulk_edit', function() {\n\n\t\t// define the bulk edit row\n\t\tvar $bulk_row = $( '#bulk-edit' );\n\n\t\t// get the selected post ids that are being edited\n\t\tvar $post_ids = new Array();\n\t\t$bulk_row.find( '#bulk-titles' ).children().each( function() {\n\t\t\t$post_ids.push( $( this ).attr( 'id' ).replace( /^(ttle)/i, '' ) );\n\t\t});\n\n\t\t// get the stock and price values to save for all the product ID's\n\t\tvar $price = $( '#edd-download-data input[name=\"_edd_regprice\"]' ).val();\n\n\t\tvar data = {\n\t\t\taction:         'edd_save_bulk_edit',\n\t\t\tedd_bulk_nonce: $post_ids,\n\t\t\tpost_ids:       $post_ids,\n\t\t\tprice:          $price\n\t\t};\n\n\t\t// save the data\n\t\t$.post( ajaxurl, data );\n\t});\n\n\t// Replace options with search results\n\t$( document.body ).on( 'keyup', typingTimerElements, function(e) {\n\t\tvar\telement     = $( this ),\n\t\t\tval         = element.val(),\n\t\t\tcontainer   = element.closest( '.edd-select-chosen' ),\n\n\t\t\tselect      = container.prev(),\n\t\t\tselect_type = select.data( 'search-type' ),\n\t\t\tno_bundles  = container.hasClass( 'no-bundles' ),\n\t\t\tvariations  = container.hasClass( 'variations' ),\n\n\t\t\tlastKey     = e.which,\n\t\t\tsearch_type = 'edd_download_search';\n\n\t\t// String replace the chosen container IDs\n\t\tcontainer.attr('id').replace( '_chosen', '' );\n\n\t\t// Detect if we have a defined search type, otherwise default to downloads\n\t\tif ( typeof select_type !== 'undefined' ) {\n\n\t\t\t// Don't trigger AJAX if this select has all options loaded\n\t\t\tif ( 'no_ajax' === select_type ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsearch_type = 'edd_' + select_type + '_search';\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\t// Don't fire if short or is a modifier key (shift, ctrl, apple command key, or arrow keys)\n\t\tif(\n\t\t\t( val.length <= 3 && 'edd_download_search' === search_type ) ||\n\t\t\t(\n\t\t\t\tlastKey === 16 ||\n\t\t\t\tlastKey === 13 ||\n\t\t\t\tlastKey === 91 ||\n\t\t\t\tlastKey === 17 ||\n\t\t\t\tlastKey === 37 ||\n\t\t\t\tlastKey === 38 ||\n\t\t\t\tlastKey === 39 ||\n\t\t\t\tlastKey === 40\n\t\t\t)\n\t\t) {\n\t\t\tcontainer.children( '.spinner' ).remove();\n\t\t\treturn;\n\t\t}\n\n\t\t// Maybe append a spinner\n\t\tif ( ! container.children( '.spinner' ).length ) {\n\t\t\tcontainer.append( '<span class=\"spinner is-active\"></span>' );\n\t\t}\n\n\t\tclearTimeout(typingTimer);\n\n\t\ttypingTimer = setTimeout( function() {\n\t\t\t$.ajax({\n\t\t\t\ttype:     'GET',\n\t\t\t\tdataType: 'json',\n\t\t\t\turl:      ajaxurl,\n\t\t\t\tdata: {\n\t\t\t\t\ts:          val,\n\t\t\t\t\taction:     search_type,\n\t\t\t\t\tno_bundles: no_bundles,\n\t\t\t\t\tvariations: variations\n\t\t\t\t},\n\n\t\t\t\tbeforeSend: function() {\n\t\t\t\t\tselect.closest('ul.chosen-results').empty();\n\t\t\t\t},\n\n\t\t\t\tsuccess: function( data ) {\n\n\t\t\t\t\t// Remove all options but those that are selected\n\t\t\t\t\t$('option:not(:selected)', select).remove();\n\n\t\t\t\t\t// Add any option that doesn't already exist\n\t\t\t\t\t$.each( data, function( key, item ) {\n\t\t\t\t\t\tif ( ! $('option[value=\"' + item.id + '\"]', select).length ) {\n\t\t\t\t\t\t\tselect.prepend( '<option value=\"' + item.id + '\">' + item.name + '</option>' );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Get the text immediately before triggering an update.\n\t\t\t\t\t// Any sooner will cause the text to jump around.\n\t\t\t\t\tvar val = element.val();\n\n\t\t\t\t\t// Update the options\n\t\t\t\t\tselect.trigger('chosen:updated');\n\n\t\t\t\t\telement.val(val);\n\t\t\t\t}\n\t\t\t}).fail(function (response) {\n\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\tconsole.log( response );\n\t\t\t\t}\n\t\t\t}).done(function (response) {\n\t\t\t\tcontainer.children( '.spinner' ).remove();\n\t\t\t});\n\t\t}, userInteractionInterval );\n\t});\n\n\t// This fixes the Chosen box being 0px wide when the thickbox is opened\n\t$( '#post' ).on( 'click', '.edd-thickbox', function() {\n\t\t$( '.edd-select-chosen', '#choose-download' ).css( 'width', '100%' );\n\t});\n\n\t/**\n\t * Tools screen JS\n\t */\n\tvar EDD_Tools = {\n\n\t\tinit : function() {\n\t\t\tthis.revoke_api_key();\n\t\t\tthis.regenerate_api_key();\n\t\t\tthis.create_api_key();\n\t\t\tthis.recount_stats();\n\t\t},\n\n\t\trevoke_api_key : function() {\n\t\t\t$( document.body ).on( 'click', '.edd-revoke-api-key', function( e ) {\n\t\t\t\treturn confirm( edd_vars.revoke_api_key );\n\t\t\t});\n\t\t},\n\t\tregenerate_api_key : function() {\n\t\t\t$( document.body ).on( 'click', '.edd-regenerate-api-key', function( e ) {\n\t\t\t\treturn confirm( edd_vars.regenerate_api_key );\n\t\t\t});\n\t\t},\n\t\tcreate_api_key : function() {\n\t\t\t$( document.body).on( 'submit', '#api-key-generate-form', function( e ) {\n\t\t\t\tvar input = $( 'input[type=\"text\"][name=\"user_id\"]' );\n\n\t\t\t\tinput.css('border-color', '#ddd');\n\n\t\t\t\tvar user_id = input.val();\n\t\t\t\tif ( user_id.length < 1 || user_id === 0 ) {\n\t\t\t\t\tinput.css('border-color', '#ff0000');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\trecount_stats : function() {\n\t\t\t$( document.body).on( 'change', '#recount-stats-type', function() {\n\t\t\t\tvar export_form   = $('#edd-tools-recount-form'),\n\t\t\t\t\tselected_type = $('option:selected', this).data('type'),\n\t\t\t\t\tsubmit_button = $('#recount-stats-submit'),\n\t\t\t\t\tproducts      = $('#tools-product-dropdown');\n\n\t\t\t\t// Reset the form\n\t\t\t\texport_form.find('.notice-wrap').remove();\n\t\t\t\tsubmit_button.removeClass('button-disabled').attr('disabled', false);\n\t\t\t\tproducts.hide();\n\t\t\t\t$('.edd-recount-stats-descriptions span').hide();\n\n\t\t\t\tif ( 'recount-download' === selected_type ) {\n\t\t\t\t\tproducts.show();\n\t\t\t\t\tproducts.find('.edd-select-chosen').css('width', 'auto');\n\n\t\t\t\t} else if ( 'reset-stats' === selected_type ) {\n\t\t\t\t\texport_form.append('<div class=\"notice-wrap\"></div>');\n\t\t\t\t\tvar notice_wrap = export_form.find('.notice-wrap');\n\t\t\t\t\tnotice_wrap.html('<div class=\"notice notice-warning\"><p><input type=\"checkbox\" id=\"confirm-reset\" name=\"confirm_reset_store\" value=\"1\" /> <label for=\"confirm-reset\">' + edd_vars.reset_stats_warn + '</label></p></div>');\n\n\t\t\t\t\t$('#recount-stats-submit').addClass('button-disabled').attr('disabled', 'disabled');\n\n\t\t\t\t} else {\n\t\t\t\t\tproducts.hide();\n\t\t\t\t\tproducts.val(0);\n\t\t\t\t}\n\n\t\t\t\t$('#' + selected_type ).show();\n\t\t\t});\n\n\t\t\t$(document.body).on('change', '#confirm-reset', function() {\n\t\t\t\tvar checked = $( this ).is(':checked');\n\t\t\t\tif ( checked ) {\n\t\t\t\t\t$('#recount-stats-submit').removeClass('button-disabled').removeAttr('disabled');\n\t\t\t\t} else {\n\t\t\t\t\t$('#recount-stats-submit').addClass('button-disabled').attr('disabled', 'disabled');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$( '#edd-tools-recount-form' ).submit( function(e) {\n\t\t\t\tvar selection     = $('#recount-stats-type').val(),\n\t\t\t\t\texport_form   = $( this ),\n\t\t\t\t\tselected_type = $('option:selected', this).data('type');\n\n\t\t\t\tif ( 'reset-stats' === selected_type ) {\n\t\t\t\t\tvar is_confirmed = $('#confirm-reset').is(':checked');\n\t\t\t\t\tif ( is_confirmed ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thas_errors = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\texport_form.find('.notice-wrap').remove();\n\t\t\t\texport_form.append('<div class=\"notice-wrap\"></div>');\n\n\t\t\t\tvar notice_wrap = export_form.find('.notice-wrap'),\n\t\t\t\t\thas_errors  = false;\n\n\t\t\t\tif ( null === selection || 0 === selection ) {\n\t\t\t\t\t// Needs to pick a method edd_vars.batch_export_no_class\n\t\t\t\t\tnotice_wrap.html('<div class=\"updated error\"><p>' + edd_vars.batch_export_no_class + '</p></div>');\n\t\t\t\t\thas_errors = true;\n\t\t\t\t}\n\n\t\t\t\tif ( 'recount-download' === selected_type ) {\n\t\t\t\t\tvar selected_download = $('select[name=\"download_id\"]').val();\n\t\t\t\t\tif ( selected_download === 0 ) {\n\t\t\t\t\t\t// Needs to pick download edd_vars.batch_export_no_reqs\n\t\t\t\t\t\tnotice_wrap.html('<div class=\"updated error\"><p>' + edd_vars.batch_export_no_reqs + '</p></div>');\n\t\t\t\t\t\thas_errors = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( has_errors ) {\n\t\t\t\t\texport_form.find('.button-disabled').removeClass('button-disabled');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Tools.init();\n\n\t/**\n\t * Export screen JS\n\t */\n\tvar EDD_Export = {\n\n\t\tinit : function() {\n\t\t\tthis.submit();\n\t\t},\n\n\t\tsubmit : function() {\n\t\t\tvar self = this;\n\n\t\t\t$( document.body ).on( 'submit', '.edd-export-form', function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar form         = $( this ),\n\t\t\t\t\tsubmitButton = form.find( 'input[type=\"submit\"]' ).first();\n\n\t\t\t\tif ( submitButton.hasClass( 'button-disabled' ) || submitButton.is( ':disabled' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar data = form.serialize();\n\n\t\t\t\tsubmitButton.addClass( 'button-disabled' );\n\t\t\t\tform.find('.notice-wrap').remove();\n\t\t\t\tform.append( '<div class=\"notice-wrap\"><span class=\"spinner is-active\"></span><div class=\"edd-progress\"><div></div></div></div>' );\n\n\t\t\t\t// start the process\n\t\t\t\tself.process_step( 1, data, self );\n\t\t\t});\n\t\t},\n\n\t\tprocess_step : function( step, data, self ) {\n\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: ajaxurl,\n\t\t\t\tdata: {\n\t\t\t\t\tform: data,\n\t\t\t\t\taction: 'edd_do_ajax_export',\n\t\t\t\t\tstep: step\n\t\t\t\t},\n\t\t\t\tdataType: \"json\",\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tif ( 'done' === response.step || response.error || response.success ) {\n\n\t\t\t\t\t\t// We need to get the actual in progress form, not all forms on the page\n\t\t\t\t\t\tvar export_form    = $('.edd-export-form').find('.edd-progress').parent().parent();\n\t\t\t\t\t\tvar notice_wrap    = export_form.find('.notice-wrap');\n\n\t\t\t\t\t\texport_form.find('.button-disabled').removeClass('button-disabled');\n\n\t\t\t\t\t\tif ( response.error ) {\n\t\t\t\t\t\t\tvar error_message = response.message;\n\t\t\t\t\t\t\tnotice_wrap.html('<div class=\"updated error\"><p>' + error_message + '</p></div>');\n\n\t\t\t\t\t\t} else if ( response.success ) {\n\t\t\t\t\t\t\tvar success_message = response.message;\n\t\t\t\t\t\t\tnotice_wrap.html('<div id=\"edd-batch-success\" class=\"updated notice\"><p>' + success_message + '</p></div>');\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotice_wrap.remove();\n\t\t\t\t\t\t\twindow.location = response.url;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.edd-progress div').animate({\n\t\t\t\t\t\t\twidth: response.percentage + '%'\n\t\t\t\t\t\t}, 50, function() {\n\t\t\t\t\t\t\t// Animation complete.\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.process_step( parseInt( response.step ), data, self );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}).fail(function (response) {\n\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\tconsole.log( response );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Export.init();\n\n\t/**\n\t * Import screen JS\n\t */\n\tvar EDD_Import = {\n\n\t\tinit : function() {\n\t\t\tthis.submit();\n\t\t},\n\n\t\tsubmit : function() {\n\t\t\tvar self = this;\n\n\t\t\t$('.edd-import-form').ajaxForm({\n\t\t\t\tbeforeSubmit: self.before_submit,\n\t\t\t\tsuccess:      self.success,\n\t\t\t\tcomplete:     self.complete,\n\t\t\t\tdataType:     'json',\n\t\t\t\terror:        self.error\n\t\t\t});\n\t\t},\n\n\t\tbefore_submit : function( arr, form, options ) {\n\t\t\tform.find('.notice-wrap').remove();\n\t\t\tform.append( '<div class=\"notice-wrap\"><span class=\"spinner is-active\"></span><div class=\"edd-progress\"><div></div></div></div>' );\n\n\t\t\t//check whether client browser fully supports all File API\n\t\t\tif ( window.File && window.FileReader && window.FileList && window.Blob ) {\n\n\t\t\t\t// HTML5 File API is supported by browser\n\n\t\t\t} else {\n\n\t\t\t\tvar import_form = $('.edd-import-form').find('.edd-progress').parent().parent();\n\t\t\t\tvar notice_wrap = import_form.find('.notice-wrap');\n\n\t\t\t\timport_form.find('.button-disabled').removeClass('button-disabled');\n\n\t\t\t\t//Error for older unsupported browsers that doesn't support HTML5 File API\n\t\t\t\tnotice_wrap.html('<div class=\"update error\"><p>' + edd_vars.unsupported_browser + '</p></div>');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tsuccess: function( responseText, statusText, xhr, form ) {},\n\n\t\tcomplete: function( xhr ) {\n\t\t\tvar self     = $( this ),\n\t\t\t\tresponse = jQuery.parseJSON( xhr.responseText );\n\n\t\t\tif ( response.success ) {\n\t\t\t\tvar form = $('.edd-import-form .notice-wrap').parent();\n\n\t\t\t\tform.find('.edd-import-file-wrap,.notice-wrap').remove();\n\t\t\t\tform.find('.edd-import-options').slideDown();\n\n\t\t\t\t// Show column mapping\n\t\t\t\tvar select  = form.find('select.edd-import-csv-column'),\n\t\t\t\t\trow     = select.parents( 'tr' ).first(),\n\t\t\t\t\toptions = '',\n\t\t\t\t\tcolumns = response.data.columns.sort(function(a,b) {\n\t\t\t\t\t\tif ( a < b ) return -1;\n\t\t\t\t\t\tif ( a > b ) return 1;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\n\t\t\t\t$.each( columns, function( key, value ) {\n\t\t\t\t\toptions += '<option value=\"' + value + '\">' + value + '</option>';\n\t\t\t\t});\n\n\t\t\t\tselect.append( options );\n\n\t\t\t\tselect.on('change', function() {\n\t\t\t\t\tvar key = $( this ).val();\n\n\t\t\t\t\tif ( ! key ) {\n\t\t\t\t\t\t$( this ).parent().next().html( '' );\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( false !== response.data.first_row[key] ) {\n\t\t\t\t\t\t\t$( this ).parent().next().html( response.data.first_row[key] );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$( this ).parent().next().html( '' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.each( select, function() {\n\t\t\t\t\t$( this ).val( $( this ).attr( 'data-field' ) ).change();\n\t\t\t\t});\n\n\t\t\t\t$(document.body).on('click', '.edd-import-proceed', function(e) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tform.append( '<div class=\"notice-wrap\"><span class=\"spinner is-active\"></span><div class=\"edd-progress\"><div></div></div></div>' );\n\n\t\t\t\t\tresponse.data.mapping = form.serialize();\n\n\t\t\t\t\tEDD_Import.process_step( 1, response.data, self );\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\tEDD_Import.error( xhr );\n\t\t\t}\n\t\t},\n\n\t\terror : function( xhr ) {\n\n\t\t\t// Something went wrong. This will display error on form\n\n\t\t\tvar response    = jQuery.parseJSON( xhr.responseText );\n\t\t\tvar import_form = $('.edd-import-form').find('.edd-progress').parent().parent();\n\t\t\tvar notice_wrap = import_form.find('.notice-wrap');\n\n\t\t\timport_form.find('.button-disabled').removeClass('button-disabled');\n\n\t\t\tif ( response.data.error ) {\n\t\t\t\tnotice_wrap.html('<div class=\"update error\"><p>' + response.data.error + '</p></div>');\n\t\t\t} else {\n\t\t\t\tnotice_wrap.remove();\n\t\t\t}\n\t\t},\n\n\t\tprocess_step : function( step, import_data, self ) {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl:  ajaxurl,\n\t\t\t\tdata: {\n\t\t\t\t\tform:    import_data.form,\n\t\t\t\t\tnonce:   import_data.nonce,\n\t\t\t\t\tclass:   import_data.class,\n\t\t\t\t\tupload:  import_data.upload,\n\t\t\t\t\tmapping: import_data.mapping,\n\t\t\t\t\taction:  'edd_do_ajax_import',\n\t\t\t\t\tstep:    step\n\t\t\t\t},\n\t\t\t\tdataType: \"json\",\n\t\t\t\tsuccess: function( response ) {\n\n\t\t\t\t\tif ( 'done' === response.data.step || response.data.error ) {\n\n\t\t\t\t\t\t// We need to get the actual in progress form, not all forms on the page\n\t\t\t\t\t\tvar import_form  = $('.edd-import-form').find('.edd-progress').parent().parent();\n\t\t\t\t\t\tvar notice_wrap  = import_form.find('.notice-wrap');\n\n\t\t\t\t\t\timport_form.find('.button-disabled').removeClass('button-disabled');\n\n\t\t\t\t\t\tif ( response.data.error ) {\n\t\t\t\t\t\t\tnotice_wrap.html('<div class=\"update error\"><p>' + response.data.error + '</p></div>');\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timport_form.find( '.edd-import-options' ).hide();\n\t\t\t\t\t\t\t$('html, body').animate({\n\t\t\t\t\t\t\t\tscrollTop: import_form.parent().offset().top\n\t\t\t\t\t\t\t}, 500 );\n\n\t\t\t\t\t\t\tnotice_wrap.html('<div class=\"updated\"><p>' + response.data.message + '</p></div>');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.edd-progress div').animate({\n\t\t\t\t\t\t\twidth: response.data.percentage + '%'\n\t\t\t\t\t\t}, 50, function() {\n\t\t\t\t\t\t\t// Animation complete.\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tEDD_Import.process_step( parseInt( response.data.step ), import_data, self );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).fail(function (response) {\n\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\tconsole.log( response );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Import.init();\n\n\t/**\n\t * Customer management screen JS\n\t */\n\tvar EDD_Customer = {\n\n\t\tvars: {\n\t\t\tcustomer_card_wrap_editable:  $( '#edit-customer-info .editable' ),\n\t\t\tcustomer_card_wrap_edit_item: $( '#edit-customer-info .edit-item' ),\n\t\t\tuser_id: $('input[name=\"customerinfo[user_id]\"]'),\n\t\t\tstate_input: $(':input[name=\"customerinfo[region]\"]')\n\t\t},\n\t\tinit : function() {\n\t\t\tthis.edit_customer();\n\t\t\tthis.add_email();\n\t\t\tthis.user_search();\n\t\t\tthis.remove_user();\n\t\t\tthis.cancel_edit();\n\t\t\tthis.change_country();\n\t\t\tthis.delete_checked();\n\t\t},\n\t\tedit_customer: function() {\n\t\t\t$( document.body ).on( 'click', '#edit-customer', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tEDD_Customer.vars.customer_card_wrap_editable.hide();\n\t\t\t\tEDD_Customer.vars.customer_card_wrap_edit_item.show().css( 'display', 'block' );\n\t\t\t});\n\t\t},\n\t\tadd_email: function() {\n\t\t\t$( document.body ).on( 'click', '#add-customer-email', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar button  = $( this ),\n\t\t\t\t\twrapper = button.parent().parent().parent().parent(),\n\t\t\t\t\tcustomer_id = wrapper.find('input[name=\"customer-id\"]').val(),\n\t\t\t\t\temail       = wrapper.find('input[name=\"additional-email\"]').val(),\n\t\t\t\t\tprimary     = wrapper.find('input[name=\"make-additional-primary\"]').is(':checked'),\n\t\t\t\t\tnonce       = wrapper.find('input[name=\"add_email_nonce\"]').val(),\n\t\t\t\t\tpostData = {\n\t\t\t\t\t\tedd_action:  'customer-add-email',\n\t\t\t\t\t\tcustomer_id: customer_id,\n\t\t\t\t\t\temail:       email,\n\t\t\t\t\t\tprimary:     primary,\n\t\t\t\t\t\t_wpnonce:    nonce\n\t\t\t\t\t};\n\n\t\t\t\twrapper.parent().find('.notice-container').remove();\n\t\t\t\twrapper.find('.spinner').css('visibility', 'visible');\n\t\t\t\tbutton.attr('disabled', true);\n\n\t\t\t\t$.post(ajaxurl, postData, function( response ) {\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tif ( true === response.success ) {\n\t\t\t\t\t\t\twindow.location.href=response.redirect;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbutton.attr('disabled', false);\n\t\t\t\t\t\t\twrapper.before('<div class=\"notice-container\"><div class=\"notice notice-error inline\"><p>' + response.message + '</p></div></div>');\n\t\t\t\t\t\t\twrapper.find('.spinner').css('visibility', 'hidden');\n\t\t\t\t\t\t}\n\t\t\t\t\t}, userInteractionInterval );\n\t\t\t\t}, 'json');\n\t\t\t});\n\t\t},\n\t\tuser_search: function() {\n\t\t\t// Upon selecting a user from the dropdown, we need to update the User ID\n\t\t\t$( document.body ).on('click.eddSelectUser', '.edd_user_search_results a', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar user_id = $( this ).data('userid');\n\t\t\t\tEDD_Customer.vars.user_id.val(user_id);\n\t\t\t});\n\t\t},\n\t\tremove_user: function() {\n\t\t\t$( document.body ).on( 'click', '#disconnect-customer', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ( confirm( edd_vars.disconnect_customer ) ) {\n\t\t\t\t\tvar customer_id = $('input[name=\"customerinfo[id]\"]').val(),\n\t\t\t\t\t\tpostData    = {\n\t\t\t\t\t\t\tedd_action:  'disconnect-userid',\n\t\t\t\t\t\t\tcustomer_id: customer_id,\n\t\t\t\t\t\t\t_wpnonce:    $( '#edit-customer-info #_wpnonce' ).val()\n\t\t\t\t\t\t};\n\n\t\t\t\t\t$.post(ajaxurl, postData, function( response ) {\n\t\t\t\t\t\t// Weird\n\t\t\t\t\t\twindow.location.href = window.location.href;\n\t\t\t\t\t}, 'json');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcancel_edit: function() {\n\t\t\t$( document.body ).on( 'click', '#edd-edit-customer-cancel', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tEDD_Customer.vars.customer_card_wrap_edit_item.hide();\n\t\t\t\tEDD_Customer.vars.customer_card_wrap_editable.show();\n\n\t\t\t\t$( '.edd_user_search_results' ).html('');\n\t\t\t});\n\t\t},\n\t\tchange_country: function() {\n\t\t\t$('select[name=\"customerinfo[country]\"]').change(function() {\n\t\t\t\tvar select = $( this ),\n\t\t\t\t\tdata = {\n\t\t\t\t\t\taction:     'edd_get_shop_states',\n\t\t\t\t\t\tcountry:    select.val(),\n\t\t\t\t\t\tnonce:      select.data('nonce'),\n\t\t\t\t\t\tfield_name: 'customerinfo[region]'\n\t\t\t\t\t};\n\n\t\t\t\t$.post(ajaxurl, data, function (response) {\n\t\t\t\t\tconsole.log( response );\n\t\t\t\t\tif ( 'nostates' === response ) {\n\t\t\t\t\t\tEDD_Customer.vars.state_input.replaceWith( '<input type=\"text\" name=\"' + data.field_name + '\" value=\"\" class=\"edd-edit-toggles medium-text\"/>' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tEDD_Customer.vars.state_input.replaceWith( response );\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tdelete_checked: function() {\n\t\t\t$( '#edd-customer-delete-confirm' ).change( function() {\n\t\t\t\tvar records_input = $('#edd-customer-delete-records');\n\t\t\t\tvar submit_button = $('#edd-delete-customer');\n\n\t\t\t\tif ( $( this ).prop('checked') ) {\n\t\t\t\t\trecords_input.attr('disabled', false);\n\t\t\t\t\tsubmit_button.attr('disabled', false);\n\t\t\t\t} else {\n\t\t\t\t\trecords_input.attr('disabled', true);\n\t\t\t\t\trecords_input.prop('checked', false);\n\t\t\t\t\tsubmit_button.attr('disabled', true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tEDD_Customer.init();\n\n\t// AJAX user search\n\t$('.edd-ajax-user-search')\n\n\t\t// Search\n\t\t.keyup(function() {\n\t\t\tvar user_search = $( this ).val(),\n\t\t\t\texclude     = '';\n\n\t\t\tif ( $( this ).data('exclude') ) {\n\t\t\t\texclude = $( this ).data('exclude');\n\t\t\t}\n\n\t\t\t$('.edd_user_search_wrap').addClass('loading');\n\n\t\t\tvar data = {\n\t\t\t\taction:    'edd_search_users',\n\t\t\t\tuser_name: user_search,\n\t\t\t\texclude:   exclude\n\t\t\t};\n\n\t\t\t$.ajax({\n\t\t\t\ttype:     \"POST\",\n\t\t\t\tdata:     data,\n\t\t\t\tdataType: \"json\",\n\t\t\t\turl:      ajaxurl,\n\n\t\t\t\tsuccess: function (search_response) {\n\t\t\t\t\t$('.edd_user_search_wrap').removeClass('loading');\n\t\t\t\t\t$('.edd_user_search_results').removeClass('hidden');\n\t\t\t\t\t$('.edd_user_search_results span').html('');\n\t\t\t\t\tif (search_response.results) {\n\t\t\t\t\t\t$(search_response.results).appendTo('.edd_user_search_results span');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\n\t\t// Hide\n\t\t.blur(function() {\n\t\t\tif ( edd_user_search_mouse_down ) {\n\t\t\t\tedd_user_search_mouse_down = false;\n\t\t\t} else {\n\t\t\t\t$( this ).removeClass('loading');\n\t\t\t\t$('.edd_user_search_results').addClass('hidden');\n\t\t\t}\n\t\t})\n\n\t\t// Show\n\t\t.focus(function() {\n\t\t\t$( this ).keyup();\n\t\t});\n\n\t$( document.body ).on('click.eddSelectUser', '.edd_user_search_results span a', function(e) {\n\t\te.preventDefault();\n\t\tvar login = $( this ).data('login');\n\t\t$('.edd-ajax-user-search').val(login);\n\t\t$('.edd_user_search_results').addClass('hidden');\n\t\t$('.edd_user_search_results span').html('');\n\t});\n\n\t$( document.body ).on('click.eddCancelUserSearch', '.edd_user_search_results a.edd-ajax-user-cancel', function(e) {\n\t\te.preventDefault();\n\t\t$('.edd-ajax-user-search').val('');\n\t\t$('.edd_user_search_results').addClass('hidden');\n\t\t$('.edd_user_search_results span').html('');\n\t});\n\n\tif ( $('#edd_dashboard_sales').length ) {\n\t\t$.ajax({\n\t\t\ttype: \"GET\",\n\t\t\tdata: {\n\t\t\t\taction: 'edd_load_dashboard_widget'\n\t\t\t},\n\t\t\turl: ajaxurl,\n\t\t\tsuccess: function (response) {\n\t\t\t\t$('#edd_dashboard_sales .inside').html( response );\n\t\t\t}\n\t\t});\n\t}\n\n\t// Enable reports meta box toggle states.\n\tif ( typeof postboxes !== 'undefined' && /edd-reports/.test( pagenow ) ) {\n\t\tpostboxes.add_postbox_toggles( pagenow );\n\t}\n});\n\n// Graphing Helper Functions\n\nvar eddFormatCurrency = function (value) {\n\tvar numeric       = parseFloat(value), // Convert the value to a floating point number in case it arrives as a string.\n\t\tstoreCurrency = edd_vars.currency, // Specify the local currency.\n\t\tdecimalPlaces = edd_vars.currency_decimals;\n\n\treturn numeric.toLocaleString(storeCurrency, { style: 'currency', currency: storeCurrency, minimumFractionDigits: decimalPlaces, maximumFractionDigits: decimalPlaces });\n};\n\nvar eddFormatNumber = function(value) {\n\tvar numeric       = parseFloat(value), // Convert the value to a floating point number in case it arrives as a string.\n\t\tstoreCurrency = edd_vars.currency; // Specify the local currency.\n\n\treturn numeric.toLocaleString(storeCurrency, { style: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 });\n};\n\nvar eddLabelFormatter = function (label, series) {\n\treturn '<div style=\"font-size:12px; text-align:center; padding:2px\">' + label + '</div>';\n};\n\nvar eddLegendFormatterSales = function (label, series) {\n\tvar slug  = label.toLowerCase().replace(/\\s/g, '-'),\n\t\tcolor = '<div class=\"edd-legend-color\" style=\"background-color: ' + series.color + '\"></div>',\n\t\tvalue = '<div class=\"edd-pie-legend-item\">' + label + ': ' + Math.round(series.percent) + '% (' + eddFormatNumber(series.data[0][1]) + ')</div>',\n\t\titem  = '<div id=\"' + series.edd_vars.id + slug + '\" class=\"edd-legend-item-wrapper\">' + color + value + '</div>';\n\n\tjQuery('#edd-pie-legend-' + series.edd_vars.id).append( item );\n\n\treturn item;\n};\n\nvar eddLegendFormatterEarnings = function (label, series) {\n\tvar slug  = label.toLowerCase().replace(/\\s/g, '-'),\n\t\tcolor = '<div class=\"edd-legend-color\" style=\"background-color: ' + series.color + '\"></div>',\n\t\tvalue = '<div class=\"edd-pie-legend-item\">' + label + ': ' + Math.round(series.percent) + '% (' + eddFormatCurrency(series.data[0][1]) + ')</div>',\n\t\titem = '<div id=\"' + series.edd_vars.id + slug + '\" class=\"edd-legend-item-wrapper\">' + color + value + '</div>';\n\n\tjQuery('#edd-pie-legend-' + series.edd_vars.id).append( item );\n\n\treturn item;\n};\n\n/**\n * Attach tooltips\n *\n * @param {string} selector\n */\nfunction edd_attach_tooltips( selector ) {\n\tselector.tooltip({\n\t\tcontent: function() {\n\t\t\treturn jQuery(this).prop('title');\n\t\t},\n\t\ttooltipClass: 'edd-ui-tooltip',\n\t\tposition: {\n\t\t\tmy:        'center top',\n\t\t\tat:        'center bottom+10',\n\t\t\tcollision: 'flipfit'\n\t\t},\n\t\thide: {\n\t\t\tduration: 200\n\t\t},\n\t\tshow: {\n\t\t\tduration: 200\n\t\t}\n\t});\n}\n","/* global edd_vars */\n\nexport const chosenVars = {\n\tdisable_search_threshold:  13,\n\tsearch_contains:           true,\n\tinherit_select_classes:    true,\n\tsingle_backstroke_delete:  false,\n\tplaceholder_text_single:   edd_vars.one_option,\n\tplaceholder_text_multiple: edd_vars.one_or_more_option,\n\tno_results_text:           edd_vars.no_results_text\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n"],"sourceRoot":""}