{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/frontend/checkout/utils.js","webpack:///./assets/js/frontend/edd-ajax.js","webpack:///external \"jQuery\""],"names":["getCreditCardIcon","type","width","name","ajax_tax_count","recalculateTaxes","state","edd_global_vars","taxes_enabled","$edd_cc_address","jQuery","billing_country","find","val","card_address","card_address_2","card_city","card_state","card_zip","postData","action","nonce","after","current_ajax_count","ajax","data","dataType","url","ajaxurl","xhrFields","withCredentials","success","tax_response","replaceWith","html","total","tax_data","Object","postdata","response","trigger","remove","fail","window","console","log","document","ready","$","hide","addClass","body","on","event","$this","item","id","cart_item","edd_scripts","removed","parseInt","position_in_cart","has_purchase_links","location","each","parent","cart_item_counter","attr","length","show","removeAttr","quantities_enabled","text","cart_quantity","subtotal","tax","cart_wrapper","removeClass","append","empty_cart_message","done","e","preventDefault","form","closest","prop","$spinner","container","parents","last","download","variable_price","price_mode","item_price_ids","free_items","alert","select_option","stopPropagation","index","item_price","submit","download_id","price_ids","post_data","serialize","store_redirect","redirect_to_checkout","item_redirect","checkout_page","cart","target","insertBefore","items_added","css","toggle","is","parent_form","slideUp","fadeIn","setTimeout","fadeOut","post","checkout_response","loading","complete_purchase_val","purchase_loading","edd_ajax","edd_user_login","edd_user_pass","edd_login_nonce","trim","before","change","payment_mode","edd_load_gateway","is_checkout","chosen_gateway","ajax_needed","default_gateway","eddPurchaseform","getElementById","checkValidity","checkout_error_anchor","update_state_field","$form","field_name","state_inputs","country","text_field","indexOf","edd_payment_mode"],"mappings":"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","file":"assets/js/edd-ajax.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/frontend/edd-ajax.js\");\n","/* global edd_global_vars */\n\n/**\n * Generate markup for a credit card icon based on a passed type.\n *\n * @param {string} type Credit card type.\n * @return HTML markup.\n */\nexport const getCreditCardIcon = ( type ) => {\n\tlet width;\n\tlet name = type;\n\n\tswitch ( type ) {\n\t\tcase 'amex':\n\t\t\tname = 'americanexpress';\n\t\t\twidth = 32;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\twidth = 50;\n\t\t\tbreak;\n\t}\n\n\treturn `\n    <svg\n      width=${ width }\n      height=${ 32 }\n      class=\"payment-icon icon-${ name }\"\n      role=\"img\"\n    >\n      <use\n        href=\"#icon-${ name }\"\n        xlink:href=\"#icon-${ name }\">\n      </use>\n    </svg>`;\n};\n\nlet ajax_tax_count = 0;\n\n/**\n * Recalulate taxes.\n *\n * @param {string} state State to calculate taxes for.\n * @return {Promise}\n */\nexport function recalculateTaxes( state ) {\n\tif ( '1' != edd_global_vars.taxes_enabled ) {\n\t\treturn;\n\t} // Taxes not enabled\n\n\tconst $edd_cc_address = jQuery( '#edd_cc_address' );\n\n\tconst billing_country = $edd_cc_address.find( '#billing_country' ).val(),\n\t\tcard_address = $edd_cc_address.find( '#card_address' ).val(),\n\t\tcard_address_2 = $edd_cc_address.find( '#card_address_2' ).val(),\n\t\tcard_city = $edd_cc_address.find( '#card_city' ).val(),\n\t\tcard_state = $edd_cc_address.find( '#card_state' ).val(),\n\t\tcard_zip = $edd_cc_address.find( '#card_zip' ).val();\n\n\tif ( ! state ) {\n\t\tstate = card_state;\n\t}\n\n\tconst postData = {\n\t\taction: 'edd_recalculate_taxes',\n\t\tcard_address: card_address,\n\t\tcard_address_2: card_address_2,\n\t\tcard_city: card_city,\n\t\tcard_zip: card_zip,\n\t\tstate: state,\n\t\tbilling_country: billing_country,\n\t\tnonce: jQuery( '#edd-checkout-address-fields-nonce' ).val(),\n\t};\n\n\tjQuery( '#edd_purchase_submit [type=submit]' ).after( '<span class=\"edd-loading-ajax edd-recalculate-taxes-loading edd-loading\"></span>' );\n\n\tconst current_ajax_count = ++ajax_tax_count;\n\n\treturn jQuery.ajax( {\n\t\ttype: 'POST',\n\t\tdata: postData,\n\t\tdataType: 'json',\n\t\turl: edd_global_vars.ajaxurl,\n\t\txhrFields: {\n\t\t\twithCredentials: true,\n\t\t},\n\t\tsuccess: function( tax_response ) {\n\t\t\t// Only update tax info if this response is the most recent ajax call.\n\t\t\t// Avoids bug with form autocomplete firing multiple ajax calls at the same time and not\n\t\t\t// being able to predict the call response order.\n\t\t\tif ( current_ajax_count === ajax_tax_count ) {\n\t\t\t\tjQuery( '#edd_checkout_cart_form' ).replaceWith( tax_response.html );\n\t\t\t\tjQuery( '.edd_cart_amount' ).html( tax_response.total );\n\t\t\t\tconst tax_data = new Object();\n\t\t\t\ttax_data.postdata = postData;\n\t\t\t\ttax_data.response = tax_response;\n\t\t\t\tjQuery( 'body' ).trigger( 'edd_taxes_recalculated', [ tax_data ] );\n\t\t\t}\n\t\t\tjQuery( '.edd-recalculate-taxes-loading' ).remove();\n\t\t},\n\t} ).fail( function( data ) {\n\t\tif ( window.console && window.console.log ) {\n\t\t\tconsole.log( data );\n\t\t\tif ( current_ajax_count === ajax_tax_count ) {\n\t\t\t\tjQuery( 'body' ).trigger( 'edd_taxes_recalculated', [ tax_data ] );\n\t\t\t}\n\t\t}\n\t} );\n}\n","/* global edd_scripts, edd_global_vars */\n\n/**\n * Internal dependencies.\n */\nimport { recalculateTaxes } from './checkout/utils.js';\n\njQuery( document ).ready( function( $ ) {\n\t// Hide unneeded elements. These are things that are required in case JS breaks or isn't present\n\t$( '.edd-no-js' ).hide();\n\t$( 'a.edd-add-to-cart' ).addClass( 'edd-has-js' );\n\n\t// Send Remove from Cart requests\n\t$( document.body ).on( 'click.eddRemoveFromCart', '.edd-remove-from-cart', function( event ) {\n\t\tconst $this = $( this ),\n\t\t\titem = $this.data( 'cart-item' ),\n\t\t\taction = $this.data( 'action' ),\n\t\t\tid = $this.data( 'download-id' ),\n\t\t\tnonce = $this.data( 'nonce' ),\n\t\t\tdata = {\n\t\t\t\taction: action,\n\t\t\t\tcart_item: item,\n\t\t\t\tnonce: nonce,\n\t\t\t};\n\n\t\t $.ajax( {\n\t\t\ttype: 'POST',\n\t\t\tdata: data,\n\t\t\tdataType: 'json',\n\t\t\turl: edd_scripts.ajaxurl,\n\t\t\txhrFields: {\n\t\t\t\twithCredentials: true,\n\t\t\t},\n\t\t\tsuccess: function( response ) {\n\t\t\t\tif ( response.removed ) {\n\t\t\t\t\tif ( ( parseInt( edd_scripts.position_in_cart, 10 ) === parseInt( item, 10 ) ) || edd_scripts.has_purchase_links ) {\n\t\t\t\t\t\twindow.location = window.location;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove the selected cart item\n\t\t\t\t\t$( '.edd-cart' ).each( function() {\n\t\t\t\t\t\t$( this ).find( \"[data-cart-item='\" + item + \"']\" ).parent().remove();\n\t\t\t\t\t} );\n\n\t\t\t\t\t//Reset the data-cart-item attributes to match their new values in the EDD session cart array\n\t\t\t\t\t$( '.edd-cart' ).each( function() {\n\t\t\t\t\t\tlet cart_item_counter = 0;\n\t\t\t\t\t\t$( this ).find( '[data-cart-item]' ).each( function() {\n\t\t\t\t\t\t\t$( this ).attr( 'data-cart-item', cart_item_counter );\n\t\t\t\t\t\t\tcart_item_counter = cart_item_counter + 1;\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Check to see if the purchase form(s) for this download is present on this page\n\t\t\t\t\tif ( $( '[id^=edd_purchase_' + id + ']' ).length ) {\n\t\t\t\t\t\t$( '[id^=edd_purchase_' + id + '] .edd_go_to_checkout' ).hide();\n\t\t\t\t\t\t$( '[id^=edd_purchase_' + id + '] a.edd-add-to-cart' ).show().removeAttr( 'data-edd-loading' );\n\t\t\t\t\t\tif ( edd_scripts.quantities_enabled === '1' ) {\n\t\t\t\t\t\t\t$( '[id^=edd_purchase_' + id + '] .edd_download_quantity_wrapper' ).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$( 'span.edd-cart-quantity' ).text( response.cart_quantity );\n\t\t\t\t\t$( document.body ).trigger( 'edd_quantity_updated', [ response.cart_quantity ] );\n\t\t\t\t\tif ( edd_scripts.taxes_enabled ) {\n\t\t\t\t\t\t$( '.cart_item.edd_subtotal span' ).html( response.subtotal );\n\t\t\t\t\t\t$( '.cart_item.edd_cart_tax span' ).html( response.tax );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( '.cart_item.edd_total span' ).html( response.total );\n\n\t\t\t\t\tif ( response.cart_quantity === 0 ) {\n\t\t\t\t\t\t$( '.cart_item.edd_subtotal,.edd-cart-number-of-items,.cart_item.edd_checkout,.cart_item.edd_cart_tax,.cart_item.edd_total' ).hide();\n\t\t\t\t\t\t$( '.edd-cart' ).each( function() {\n\t\t\t\t\t\t\tconst cart_wrapper = $( this ).parent();\n\t\t\t\t\t\t\tif ( cart_wrapper ) {\n\t\t\t\t\t\t\t\tcart_wrapper.addClass( 'cart-empty' );\n\t\t\t\t\t\t\t\tcart_wrapper.removeClass( 'cart-not-empty' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$( this ).append( '<li class=\"cart_item empty\">' + edd_scripts.empty_cart_message + '</li>' );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( document.body ).trigger( 'edd_cart_item_removed', [ response ] );\n\t\t\t\t}\n\t\t\t},\n\t\t} ).fail( function( response ) {\n\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\tconsole.log( response );\n\t\t\t}\n\t\t} ).done( function( response ) {\n\n\t\t} );\n\n\t\treturn false;\n\t} );\n\n\t// Send Add to Cart request\n\t$( document.body ).on( 'click.eddAddToCart', '.edd-add-to-cart', function( e ) {\n\t\te.preventDefault();\n\n\t\tvar $this = $( this ),\n\t\t\tform = $this.closest( 'form' );\n\n\t\t// Disable button, preventing rapid additions to cart during ajax request\n\t\t$this.prop( 'disabled', true );\n\n\t\tconst $spinner = $this.find( '.edd-loading' );\n\t\tconst container = $this.closest( 'div' );\n\n\t\t// Show the spinner\n\t\t$this.attr( 'data-edd-loading', '' );\n\n\t\tvar form = $this.parents( 'form' ).last();\n\t\tconst download = $this.data( 'download-id' );\n\t\tconst variable_price = $this.data( 'variable-price' );\n\t\tconst price_mode = $this.data( 'price-mode' );\n\t\tconst nonce = $this.data( 'nonce' );\n\t\tconst item_price_ids = [];\n\t\tlet free_items = true;\n\n\t\tif ( variable_price === 'yes' ) {\n\t\t\tif ( form.find( '.edd_price_option_' + download + '[type=\"hidden\"]' ).length > 0 ) {\n\t\t\t\titem_price_ids[ 0 ] = $( '.edd_price_option_' + download, form ).val();\n\t\t\t\tif ( form.find( '.edd-submit' ).data( 'price' ) && form.find( '.edd-submit' ).data( 'price' ) > 0 ) {\n\t\t\t\t\tfree_items = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( ! form.find( '.edd_price_option_' + download + ':checked', form ).length ) {\n\t\t\t\t\t // hide the spinner\n\t\t\t\t\t$this.removeAttr( 'data-edd-loading' );\n\t\t\t\t\talert( edd_scripts.select_option );\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t$this.prop( 'disabled', false );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tform.find( '.edd_price_option_' + download + ':checked', form ).each( function( index ) {\n\t\t\t\t\titem_price_ids[ index ] = $( this ).val();\n\n\t\t\t\t\t// If we're still only at free items, check if this one is free also\n\t\t\t\t\tif ( true === free_items ) {\n\t\t\t\t\t\tconst item_price = $( this ).data( 'price' );\n\t\t\t\t\t\tif ( item_price && item_price > 0 ) {\n\t\t\t\t\t\t\t// We now have a paid item, we can't use add_to_cart\n\t\t\t\t\t\t\tfree_items = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\t\t\titem_price_ids[ 0 ] = download;\n\t\t\tif ( $this.data( 'price' ) && $this.data( 'price' ) > 0 ) {\n\t\t\t\tfree_items = false;\n\t\t\t}\n\t\t}\n\n\t\t// If we've got nothing but free items being added, change to add_to_cart\n\t\tif ( free_items ) {\n\t\t\tform.find( '.edd_action_input' ).val( 'add_to_cart' );\n\t\t}\n\n\t\tif ( 'straight_to_gateway' === form.find( '.edd_action_input' ).val() ) {\n\t\t\tform.submit();\n\t\t\treturn true; // Submit the form\n\t\t}\n\n\t\tconst action = $this.data( 'action' );\n\t\tconst data = {\n\t\t\taction: action,\n\t\t\tdownload_id: download,\n\t\t\tprice_ids: item_price_ids,\n\t\t\tpost_data: $( form ).serialize(),\n\t\t\tnonce: nonce,\n\t\t};\n\n\t\t$.ajax( {\n\t\t\ttype: 'POST',\n\t\t\tdata: data,\n\t\t\tdataType: 'json',\n\t\t\turl: edd_scripts.ajaxurl,\n\t\t\txhrFields: {\n\t\t\t\twithCredentials: true,\n\t\t\t},\n\t\t\tsuccess: function( response ) {\n\t\t\t\tconst store_redirect = edd_scripts.redirect_to_checkout === '1';\n\t\t\t\tconst item_redirect = form.find( '#edd_redirect_to_checkout' ).val() === '1';\n\n\t\t\t\tif ( ( store_redirect && item_redirect ) || ( ! store_redirect && item_redirect ) ) {\n\t\t\t\t\twindow.location = edd_scripts.checkout_page;\n\t\t\t\t} else {\n\t\t\t\t\t// Add the new item to the cart widget\n\t\t\t\t\tif ( edd_scripts.taxes_enabled === '1' ) {\n\t\t\t\t\t\t$( '.cart_item.edd_subtotal' ).show();\n\t\t\t\t\t\t$( '.cart_item.edd_cart_tax' ).show();\n\t\t\t\t\t}\n\n\t\t\t\t\t$( '.cart_item.edd_total' ).show();\n\t\t\t\t\t$( '.cart_item.edd_checkout' ).show();\n\n\t\t\t\t\tif ( $( '.cart_item.empty' ).length ) {\n\t\t\t\t\t\t$( '.cart_item.empty' ).hide();\n\t\t\t\t\t}\n\n\t\t\t\t\t$( '.widget_edd_cart_widget .edd-cart' ).each( function( cart ) {\n\t\t\t\t\t\tconst target = $( this ).find( '.edd-cart-meta:first' );\n\t\t\t\t\t\t$( response.cart_item ).insertBefore( target );\n\n\t\t\t\t\t\tconst cart_wrapper = $( this ).parent();\n\t\t\t\t\t\tif ( cart_wrapper ) {\n\t\t\t\t\t\t\tcart_wrapper.addClass( 'cart-not-empty' );\n\t\t\t\t\t\t\tcart_wrapper.removeClass( 'cart-empty' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Update the totals\n\t\t\t\t\tif ( edd_scripts.taxes_enabled === '1' ) {\n\t\t\t\t\t\t$( '.edd-cart-meta.edd_subtotal span' ).html( response.subtotal );\n\t\t\t\t\t\t$( '.edd-cart-meta.edd_cart_tax span' ).html( response.tax );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( '.edd-cart-meta.edd_total span' ).html( response.total );\n\n\t\t\t\t\t// Update the cart quantity\n\t\t\t\t\tconst items_added = $( '.edd-cart-item-title', response.cart_item ).length;\n\n\t\t\t\t\t$( 'span.edd-cart-quantity' ).each( function() {\n\t\t\t\t\t\t$( this ).text( response.cart_quantity );\n\t\t\t\t\t\t$( document.body ).trigger( 'edd_quantity_updated', [ response.cart_quantity ] );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Show the \"number of items in cart\" message\n\t\t\t\t\tif ( $( '.edd-cart-number-of-items' ).css( 'display' ) === 'none' ) {\n\t\t\t\t\t\t$( '.edd-cart-number-of-items' ).show( 'slow' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( variable_price === 'no' || price_mode !== 'multi' ) {\n\t\t\t\t\t\t// Switch purchase to checkout if a single price item or variable priced with radio buttons\n\t\t\t\t\t\t$( 'a.edd-add-to-cart', container ).toggle();\n\t\t\t\t\t\t$( '.edd_go_to_checkout', container ).css( 'display', 'inline-block' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( price_mode === 'multi' ) {\n\t\t\t\t\t\t// remove spinner for multi\n\t\t\t\t\t\t$this.removeAttr( 'data-edd-loading' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update all buttons for same download\n\t\t\t\t\tif ( $( '.edd_download_purchase_form' ).length && ( variable_price === 'no' || ! form.find( '.edd_price_option_' + download ).is( 'input:hidden' ) ) ) {\n\t\t\t\t\t\tconst parent_form = $( '.edd_download_purchase_form *[data-download-id=\"' + download + '\"]' ).parents( 'form' );\n\t\t\t\t\t\t$( 'a.edd-add-to-cart', parent_form ).hide();\n\t\t\t\t\t\tif ( price_mode !== 'multi' ) {\n\t\t\t\t\t\t\tparent_form.find( '.edd_download_quantity_wrapper' ).slideUp();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$( '.edd_go_to_checkout', parent_form ).show().removeAttr( 'data-edd-loading' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( response !== 'incart' ) {\n\t\t\t\t\t\t// Show the added message\n\t\t\t\t\t\t$( '.edd-cart-added-alert', container ).fadeIn();\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t$( '.edd-cart-added-alert', container ).fadeOut();\n\t\t\t\t\t\t}, 3000 );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Re-enable the add to cart button\n\t\t\t\t\t$this.prop( 'disabled', false );\n\n\t\t\t\t\t$( document.body ).trigger( 'edd_cart_item_added', [ response ] );\n\t\t\t\t}\n\t\t\t},\n\t\t} ).fail( function( response ) {\n\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\tconsole.log( response );\n\t\t\t}\n\t\t} ).done( function( response ) {\n\n\t\t} );\n\n\t\treturn false;\n\t} );\n\n\t// Show the login form on the checkout page\n\t$( '#edd_checkout_form_wrap' ).on( 'click', '.edd_checkout_register_login', function() {\n\t\tconst $this = $( this ),\n\t\t\tdata = {\n\t\t\t\taction: $this.data( 'action' ),\n\t\t\t\tnonce: $this.data( 'nonce' ),\n\t\t\t};\n\n\t\t// Show the ajax loader\n\t\t$( '.edd-cart-ajax' ).show();\n\n\t\t$.post( edd_scripts.ajaxurl, data, function( checkout_response ) {\n\t\t\t$( '#edd_checkout_login_register' ).html( edd_scripts.loading );\n\t\t\t$( '#edd_checkout_login_register' ).html( checkout_response );\n\t\t\t// Hide the ajax loader\n\t\t\t$( '.edd-cart-ajax' ).hide();\n\t\t} );\n\t\treturn false;\n\t} );\n\n\t// Process the login form via ajax\n\t$( document ).on( 'click', '#edd_purchase_form #edd_login_fields input[type=submit]', function( e ) {\n\t\te.preventDefault();\n\n\t\tconst complete_purchase_val = $( this ).val();\n\n\t\t$( this ).val( edd_global_vars.purchase_loading );\n\n\t\t$( this ).after( '<span class=\"edd-loading-ajax edd-loading\"></span>' );\n\n\t\tconst data = {\n\t\t\taction: 'edd_process_checkout_login',\n\t\t\tedd_ajax: 1,\n\t\t\tedd_user_login: $( '#edd_login_fields #edd_user_login' ).val(),\n\t\t\tedd_user_pass: $( '#edd_login_fields #edd_user_pass' ).val(),\n\t\t\tedd_login_nonce: $( '#edd_login_nonce' ).val(),\n\t\t};\n\n\t\t$.post( edd_global_vars.ajaxurl, data, function( data ) {\n\t\t\tif ( $.trim( data ) === 'success' ) {\n\t\t\t\t$( '.edd_errors' ).remove();\n\t\t\t\twindow.location = edd_scripts.checkout_page;\n\t\t\t} else {\n\t\t\t\t$( '#edd_login_fields input[type=submit]' ).val( complete_purchase_val );\n\t\t\t\t$( '.edd-loading-ajax' ).remove();\n\t\t\t\t$( '.edd_errors' ).remove();\n\t\t\t\t$( '#edd-user-login-submit' ).before( data );\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// Load the fields for the selected payment method\n\t$( 'select#edd-gateway, input.edd-gateway' ).change( function( e ) {\n\t\tconst payment_mode = $( '#edd-gateway option:selected, input.edd-gateway:checked' ).val();\n\n\t\tif ( payment_mode === '0' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tedd_load_gateway( payment_mode );\n\n\t\treturn false;\n\t} );\n\n\t// Auto load first payment gateway\n\tif ( edd_scripts.is_checkout === '1' ) {\n\t\tlet chosen_gateway = false;\n\t\tlet ajax_needed = false;\n\n\t\tif ( $( 'select#edd-gateway, input.edd-gateway' ).length ) {\n\t\t\tchosen_gateway = $( \"meta[name='edd-chosen-gateway']\" ).attr( 'content' );\n\t\t\tajax_needed = true;\n\t\t}\n\n\t\tif ( ! chosen_gateway ) {\n\t\t\tchosen_gateway = edd_scripts.default_gateway;\n\t\t}\n\n\t\tif ( ajax_needed ) {\n\t\t\t// If we need to ajax in a gateway form, send the requests for the POST.\n\t\t\tsetTimeout( function() {\n\t\t\t\tedd_load_gateway( chosen_gateway );\n\t\t\t}, 200 );\n\t\t} else {\n\t\t\t// The form is already on page, just trigger that the gateway is loaded so further action can be taken.\n\t\t\t$( 'body' ).trigger( 'edd_gateway_loaded', [ chosen_gateway ] );\n\t\t}\n\t}\n\n\t// Process checkout\n\t$( document ).on( 'click', '#edd_purchase_form #edd_purchase_submit [type=submit]', function( e ) {\n\t\tconst eddPurchaseform = document.getElementById( 'edd_purchase_form' );\n\n\t\tif ( typeof eddPurchaseform.checkValidity === 'function' && false === eddPurchaseform.checkValidity() ) {\n\t\t\treturn;\n\t\t}\n\n\t\te.preventDefault();\n\n\t\tconst complete_purchase_val = $( this ).val();\n\n\t\t$( this ).val( edd_global_vars.purchase_loading );\n\n\t\t$( this ).prop( 'disabled', true );\n\n\t\t$( this ).after( '<span class=\"edd-loading-ajax edd-loading\"></span>' );\n\n\t\t$.post( edd_global_vars.ajaxurl, $( '#edd_purchase_form' ).serialize() + '&action=edd_process_checkout&edd_ajax=true', function( data ) {\n\t\t\tif ( $.trim( data ) === 'success' ) {\n\t\t\t\t$( '.edd_errors' ).remove();\n\t\t\t\t$( '.edd-error' ).hide();\n\t\t\t\t$( eddPurchaseform ).submit();\n\t\t\t} else {\n\t\t\t\t$( '#edd-purchase-button' ).val( complete_purchase_val );\n\t\t\t\t$( '.edd-loading-ajax' ).remove();\n\t\t\t\t$( '.edd_errors' ).remove();\n\t\t\t\t$( '.edd-error' ).hide();\n\t\t\t\t$( edd_global_vars.checkout_error_anchor ).before( data );\n\t\t\t\t$( '#edd-purchase-button' ).prop( 'disabled', false );\n\n\t\t\t\t$( document.body ).trigger( 'edd_checkout_error', [ data ] );\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// Update state field\n\t$( document.body ).on( 'change', '#edd_cc_address input.card_state, #edd_cc_address select, #edd_address_country', update_state_field );\n\n\tfunction update_state_field() {\n\t\tconst $this = $( this );\n\t\tlet $form;\n\t\tconst is_checkout = typeof edd_global_vars !== 'undefined';\n\t\tlet field_name = 'card_state';\n\t\tif ( $( this ).attr( 'id' ) === 'edd_address_country' ) {\n\t\t\tfield_name = 'edd_address_state';\n\t\t}\n\n\t\tlet state_inputs = document.getElementById( field_name );\n\n\t\tif ( 'card_state' !== $this.attr( 'id' ) && null != state_inputs ) {\n\t\t\tconst nonce = $( this ).data( 'nonce' );\n\n\t\t\t// If the country field has changed, we need to update the state/province field\n\t\t\tconst postData = {\n\t\t\t\taction: 'edd_get_shop_states',\n\t\t\t\tcountry: $this.val(),\n\t\t\t\tfield_name: field_name,\n\t\t\t\tnonce: nonce,\n\t\t\t};\n\n\t\t\t$.ajax( {\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: postData,\n\t\t\t\turl: edd_scripts.ajaxurl,\n\t\t\t\txhrFields: {\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t},\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tif ( is_checkout ) {\n\t\t\t\t\t\t$form = $( '#edd_purchase_form' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$form = $this.closest( 'form' );\n\t\t\t\t\t}\n\n\t\t\t\t\tconst state_inputs = 'input[name=\"card_state\"], select[name=\"card_state\"], input[name=\"edd_address_state\"], select[name=\"edd_address_state\"]';\n\n\t\t\t\t\tif ( 'nostates' === $.trim( response ) ) {\n\t\t\t\t\t\tconst text_field = '<input type=\"text\" id=\"' + field_name + '\" name=\"card_state\" class=\"card-state edd-input required\" value=\"\"/>';\n\t\t\t\t\t\t$form.find( state_inputs ).replaceWith( text_field );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$form.find( state_inputs ).replaceWith( response );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( is_checkout ) {\n\t\t\t\t\t\t$( document.body ).trigger( 'edd_cart_billing_address_updated', [ response ] );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t} ).fail( function( data ) {\n\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\tconsole.log( data );\n\t\t\t\t}\n\t\t\t} ).done( function( data ) {\n\t\t\t\tif ( is_checkout ) {\n\t\t\t\t\trecalculateTaxes();\n\t\t\t\t}\n\t\t\t} );\n\t\t} else if ( is_checkout ) {\n\t\t\trecalculateTaxes();\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Backwards compatibility. Assign function to global namespace.\n\twindow.update_state_field = update_state_field;\n\n\t// If is_checkout, recalculate sales tax on postalCode change.\n\t$( document.body ).on( 'change', '#edd_cc_address input[name=card_zip]', function() {\n\t\tif ( typeof edd_global_vars !== 'undefined' ) {\n\t\t\trecalculateTaxes();\n\t\t}\n\t} );\n} );\n\n// Load a payment gateway\nfunction edd_load_gateway( payment_mode ) {\n\t// Show the ajax loader\n\tjQuery( '.edd-cart-ajax' ).show();\n\tjQuery( '#edd_purchase_form_wrap' ).html( '<span class=\"edd-loading-ajax edd-loading\"></span>' );\n\n\tconst nonce = jQuery( '#edd-gateway-' + payment_mode ).data( payment_mode + '-nonce' );\n\tlet url = edd_scripts.ajaxurl;\n\n\tif ( url.indexOf( '?' ) > 0 ) {\n\t\turl = url + '&';\n\t} else {\n\t\turl = url + '?';\n\t}\n\n\turl = url + 'payment-mode=' + payment_mode;\n\n\tjQuery.post( url, { action: 'edd_load_gateway', edd_payment_mode: payment_mode, nonce: nonce },\n\t\tfunction( response ) {\n\t\t\tjQuery( '#edd_purchase_form_wrap' ).html( response );\n\t\t\tjQuery( '.edd-no-js' ).hide();\n\t\t\tjQuery( 'body' ).trigger( 'edd_gateway_loaded', [ payment_mode ] );\n\t\t}\n\t);\n}\n\n// Backwards compatibility. Assign function to global namespace.\nwindow.edd_load_gateway = edd_load_gateway;\n","module.exports = jQuery;"],"sourceRoot":""}