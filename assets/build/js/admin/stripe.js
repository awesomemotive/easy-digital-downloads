(()=>{var e={322:()=>{Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,s=new Array(n);n--;)s[n]=[t[n],e[t[n]]];return s})},1121:()=>{const e=document.querySelectorAll(".edd-stripe-payment-method-toggle");e.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),function(e){for(var t,n=document.querySelectorAll(".edd-stripe-payment-method"),s=0;s<n.length;s++)n[s].style.display="none";for(t=e?document.querySelectorAll(".edd-stripe-payment-method--"+e):n,s=0;s<t.length;s++)t[s].style.display="block"}(this.dataset.toggle),e.forEach((function(e){e.classList.remove("active")})),this.classList.add("active")}))}))},1669:e=>{"use strict";e.exports=jQuery},3797:()=>{Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},3869:()=>{String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},4600:()=>{[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},7550:()=>{wp.domReady((()=>{document.querySelector(".edds-requirements-not-met")&&(document.querySelector(".edd-settings-wrap .submit").style.display="none")})),wp.domReady((()=>{const e=document.getElementById("edds-payment-gateways-stripe-unmet-requirements");if(!e)return;const t=document.querySelector('label[for="edd_settings[gateways][stripe]"]');t.parentNode.insertBefore(e,t.nextSibling);const n=document.getElementById("edd_settings[gateways][stripe]");n.disabled=!0,n.checked=!1,e.insertBefore(n,e.querySelector("p")),e.insertBefore(t,e.querySelector("p"))}))},8869:(e,t,n)=>{"use strict";n(7550),n(3869),n(3797),n(322),n(4600);var s=n(1669);n(1669),wp.domReady((()=>{const e=document.getElementById("edds-stripe-connect-account"),t=document.getElementById("edds-stripe-disconnect-reconnect");if(e&&!e.hasAttribute("data-onboarding-wizard"))return function(e,t){const n={type:"POST",dataType:"json",xhrFields:{withCredentials:!0},url:window.edd_scripts&&window.edd_scripts.ajaxurl||window.ajaxurl,data:{action:"edds_stripe_connect_account_info",...t}},d=s.Deferred((function(e){e.jqXHR=s.ajax(n).done((function(t){"1"!==t&&1!==t||(t={success:!0}),"object"==typeof t&&void 0!==typeof t.success?e[t.success?"resolveWith":"rejectWith"](this,[t.data]):e.rejectWith(this,[t])})).fail((function(){e.rejectWith(this,arguments)}))})),o=d.promise();return o.abort=function(){return d.jqXHR.abort(),this},o}(0,{...e.dataset}).done((n=>{e.classList.remove("loading"),e.innerHTML=n.message,e.classList.add(`notice-${n.status}`),t.classList.remove("loading"),n.actions&&(t.innerHTML=n.actions);const s=document.getElementById("edd_settings[stripe_statement_descriptor]"),d=document.getElementById("edd_settings[stripe_statement_descriptor_prefix]");if(s.classList.remove("edd-text-loading"),d.classList.remove("edd-text-loading"),n.account){const e=n.account.settings.payments.statement_descriptor||"",t=n.account.settings.card_payments.statement_descriptor_prefix||"";s.value=e||"",d.value=t||""}})).fail((t=>{e.innerHTML=t.message,e.classList.add("notice-error")}))}))}},t={};function n(s){var d=t[s];if(void 0!==d)return d.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(8869),n(1121);var e=n(1669);let t,s;e(document).ready((function(){t=document.getElementById("edd_settings[test_mode]"),t&&(s=document.getElementById("edd_settings[stripe_connect_test_mode_toggle_notice]"),d.init()),e(".edds-api-key-toggle button").on("click",(function(t){t.preventDefault(),e(".edds-api-key-toggle, .edds-api-key-row").toggleClass("edd-hidden")}));const n=e(".stripe-elements-mode select");n&&n.on("change",(function(){e(".card-elements-feature").toggleClass("edd-hidden"),e(".payment-elements-feature").toggleClass("edd-hidden")}));const o=document.getElementById("edd_settings[stripe_include_purchase_summary_in_statement_descriptor]");o&&o.addEventListener("change",(function(){e(".statement-descriptor-prefix").toggleClass("edd-hidden")}))}));const d={init(){this.listeners()},listeners(){const e=this;t.addEventListener("change",(function(){if(edd_stripe_admin.stripe_enabled){if(this.checked)if("false"===edd_stripe_admin.test_key_exists)e.showNotice(s,"warning"),e.addHiddenMarker();else{e.hideNotice(s);const t=document.getElementById("edd-test-mode-toggled");t&&t.parentNode.removeChild(t)}if(!this.checked)if("false"===edd_stripe_admin.live_key_exists)e.showNotice(s,"warning"),e.addHiddenMarker();else{e.hideNotice(s);const t=document.getElementById("edd-test-mode-toggled");t&&t.parentNode.removeChild(t)}}}))},addHiddenMarker(){const e=document.getElementById("submit");e&&e.parentNode.insertAdjacentHTML("beforeend",'<input type="hidden" class="edd-hidden" id="edd-test-mode-toggled" name="edd-test-mode-toggled" />')},showNotice(e=!1,t="error"){if(!e)return;if("object"!=typeof e)return;e.className="notice inline notice-"+t;let n=document.getElementById("edd_settings[gateways][stripe]");n&&(n.checked=!1,n.disabled=!0)},hideNotice(e=!1){if(!e)return;if("object"!=typeof e)return;e.className="edd-hidden";let t=document.getElementById("edd_settings[gateways][stripe]");t&&(t.disabled=!1)}}})()})();