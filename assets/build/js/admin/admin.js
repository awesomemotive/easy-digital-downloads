(()=>{var e={15:(e,t,n)=>{n(1669)(document).ready((function(e){const t=e("input.edd_datepicker");t.length>0&&t.attr("autocomplete","off").datepicker({dateFormat:edd_vars.date_picker_format,beforeShow:function(){e("#ui-datepicker-div").removeClass("ui-datepicker").addClass("edd-datepicker")}})}))},1669:e=>{"use strict";e.exports=jQuery},1970:(e,t,n)=>{var d=n(1669),a=n(1669);function o(e=!1){var t=a("#edd-advanced-filters");if(!t.hasClass("open"))return!1;!1!==e&&(t.is(e)||t.has(e).length)||s()}function s(){a("#edd-advanced-filters").toggleClass("open")}d(document).ready((function(e){e(".edd-advanced-filters-button").on("click",(function(e){e.preventDefault(),s()})),e(document).on("click",(function(e){o(e.target)})),e(document).on("keydown",(function(e){"Escape"===e.key&&o()}))}))},2428:(e,t,n)=>{n(1669)((function(e){e(".edd-ajax-user-search").on("keyup focus",(function(){let t=e(this).val(),n="";e(this).data("exclude")&&(n=e(this).data("exclude")),e(".edd_user_search_wrap").addClass("loading");const d={action:"edd_search_users",user_name:t,exclude:n};e.ajax({type:"POST",data:d,dataType:"json",url:ajaxurl,success:function(t){e(".edd_user_search_wrap").removeClass("loading"),e(".edd_user_search_results").removeClass("hidden"),e(".edd_user_search_results span").html(""),t.results&&e(t.results).appendTo(".edd_user_search_results span")}})})).on("blur",(function(){t?t=!1:(e(this).removeClass("loading"),e(".edd_user_search_results").addClass("hidden"))})),e(document.body).on("click.eddSelectUser",".edd_user_search_results span a",(function(t){t.preventDefault();const n=e(this).data("login");e(".edd-ajax-user-search").val(n),e(".edd_user_search_results").addClass("hidden"),e(".edd_user_search_results span").html("")})),e(document.body).on("click.eddCancelUserSearch",".edd_user_search_results a.edd-ajax-user-cancel",(function(t){t.preventDefault(),e(".edd-ajax-user-search").val(""),e(".edd_user_search_results").addClass("hidden"),e(".edd_user_search_results span").html("")}));var t=!1;e(".edd_user_search_results").on("mousedown",(function(){t=!0}))}))},4583:(e,t,n)=>{n(1669)(document).ready((function(e){const t=".edd-vertical-sections.use-js";if(0===e(t).length)return;const n=window.location.hash,d=e(`${t} .section-nav li:first-child a`).attr("href");function a(n){0!==n.length&&n.includes("edd_")||(n=d);let a=e(t+" "+n+"-nav-item");a.length||(n=d,a=e(t+" "+d+"-nav-item"));let o=e(t+" "+n),s=a.parents(".edd-vertical-sections");s.find(".section-content").hide(),s.find(".section-title").attr("aria-selected","false").removeClass("section-title--is-active").find("a").trigger("blur"),a.attr("aria-selected","true").addClass("section-title--is-active").find("a").trigger("focus"),o.show(),o.find("div.chosen-container").css("width","100%")}n.length&&(e(`${t} .section-content`).hide(),a(n)),e("body").on("click",`${t} .section-nav li a`,(function(t){if(t.preventDefault(),t.target.classList.contains("edd__handle-actions")||t.target.closest(".edd__handle-actions"))return;let n=e(this).attr("href");a(n),e(".edd-download-editor__sections").length||window.history.pushState("object or string","",n)})),e(window).on("hashchange",(function(){a(window.location.hash)}))}))},5221:(e,t,n)=>{n(1669)(document).ready((function(e){(e("body").hasClass("taxonomy-download_category")||e("body").hasClass("taxonomy-download_tag"))&&e(".nav-tab-wrapper, .nav-tab-wrapper + br").detach().insertAfter(".wp-header-end")}))},5837:(e,t,n)=>{n(1669)(document).ready((function(e){const t=e(".edd-sortable-list");t.length>0&&(t.find("li").not(".edd-sortable-list__item").addClass("edd-sortable-list__item"),t.sortable({axis:"y",items:".edd-sortable-list__item",cursor:"move",tolerance:"pointer",containment:"parent",distance:2,opacity:.7,scroll:!0,stop:function(){const t=e.map(e(this).children(".edd-sortable-list__item"),(function(t){return e(t).data("key")}));e(this).prev("input.edd-order").val(t)}}))}))},8062:(e,t,n)=>{n(1669)(document).ready((function(e){e(".edd-dialog").dialog({autoOpen:!1,modal:!0,draggable:!1,closeOnEscape:!0})}))},9130:(e,t,n)=>{n(1669)(document).ready((function(e){const t=e(".edd-admin-notice-overlay");function n(e){const t=e.find(".edd-admin-notice-overlay"),n=t.find(".edd-promo-notice"),d=t.data("ajax-border-color")||n.data("border-color");d&&t.css("border-top-color",d),document.dispatchEvent(new CustomEvent("edd_promo_notice_enter",{detail:{notice:e}})),e.css("display","flex").hide().fadeIn()}function d(t){if(!t.is(":visible"))return;const n=t.data("trigger-button");n&&(n.prop("disabled",!1),t.removeData("trigger-button")),t.hasClass("edd-promo-notice__overlay")?(t.fadeOut(),e(".edd-extension-manager__key-notice").hide()):t.slideUp(400,(function(){e(this).addClass("edd-hidden")})),document.dispatchEvent(new CustomEvent("edd_promo_notice_dismiss",{detail:{notice:t}}))}t.length&&(t.each((function(){const t=e(this);t.wrap('<div class="edd-promo-notice__overlay"></div>');const n=t.data("id");n&&t.parent().attr("data-notice-id",n)})),e(document).on("click",".edd-promo-notice__trigger",(function(t){t.preventDefault();const d=e(this);if(d.prop("disabled"))return;const a=d.data("id"),o=a?e('.edd-promo-notice__overlay[data-notice-id="'+a+'"]'):e(".edd-promo-notice__overlay").first();if(o.length)if(d.prop("disabled",!0),o.data("trigger-button",d),d.hasClass("edd-promo-notice__trigger--ajax")){const t=o.find(".edd-admin-notice-overlay");e.ajax({type:"GET",url:ajaxurl,data:{action:"edd_get_promo_notice",notice_id:a,product_id:d.data("product"),value:d.data("value")},success:function(e){if(e.data){const n=e.data.content||e.data,d=e.data.border_color||"";t.html(n),o.addClass("edd-promo-notice__ajax"),d&&t.data("ajax-border-color",d)}n(o)}})}else n(o)}))),e(".edd-promo-notice").each((function(){const t=e(this);t.on("click",".edd-promo-notice-dismiss",(function(n){e(this).attr("href")||n.preventDefault();const a=t.closest(".edd-promo-notice__overlay"),o=a.length?a:t;e.ajax({type:"POST",data:{action:"edd_dismiss_promo_notice",notice_id:t.data("id"),nonce:t.data("nonce"),lifespan:t.data("lifespan")},url:ajaxurl,success:function(e){d(o)}})}))})),e(document).on("keydown",(function(t){if(27===t.keyCode){const t=e(".edd-promo-notice__overlay:visible");t.length&&d(t)}}))}))},9856:()=>{const e=document.querySelector(".edd-admin-page");let t=document.querySelector(".edd-nav__wrapper");if(e){if(t){const e=document.querySelector(".subtitle:not(.edd-search-query)");e&&t.appendChild(e)}const e=document.querySelectorAll(".notice:not(.inline)");e&&(e.forEach((e=>{e.classList.contains("hidden")||e.classList.add("edd-hidden")})),setTimeout((()=>{if(t){const n=document.querySelector(".edd-sub-nav__wrapper");n&&(t=n);const d=t.parentNode;e.forEach((e=>{d.insertBefore(e,t.nextSibling)}))}e.forEach((e=>{e.classList.contains("hidden")||e.classList.remove("edd-hidden")}))}),1e3))}}},t={};function n(d){var a=t[d];if(void 0!==a)return a.exports;var o=t[d]={exports:{}};return e[d](o,o.exports,n),o.exports}(()=>{"use strict";n(15),n(8062);var e=n(1669);const t={disable_search_threshold:13,search_contains:!0,inherit_select_classes:!0,single_backstroke_delete:!1,placeholder_text_single:edd_vars.one_option,placeholder_text_multiple:edd_vars.one_or_more_option,no_results_text:edd_vars.no_results_text},d=n=>{n instanceof e||(n=e(n));let d=t;return n.data("search-type")&&delete d.disable_search_threshold,{...d,width:n.css("width")}};n(1669)(document).ready((function(t){t(".edd-select-chosen").each((function(){var n;(n=t(this))instanceof e||(n=e(n)),n.chosen(d(n)),n.css("width","100%"),n.find(".chosen-search input").attr("placeholder",edd_vars.search_placeholder)})),t(".edd-select-chosen .chosen-search input").each((function(){if(t(this).attr("placeholder"))return;const e=t(this).parent().parent().parent().prev("select.edd-select-chosen").data("search-placeholder");e&&t(this).attr("placeholder",e)})),t(".chosen-choices").on("click",(function(){let e=t(this).parent().prev().data("search-placeholder");void 0===e&&(e=edd_vars.type_to_search),t(this).children("li").children("input").attr("placeholder",e)})),t("#post").on("click",".edd-thickbox",(function(){t(".edd-select-chosen","#choose-download").css("width","100%")})),t(document.body).on("keyup",".edd-select-chosen .chosen-search input, .edd-select-chosen .search-field input",_.debounce((function(e){let n=t(this),d=n.val(),a=n.closest(".edd-select-chosen"),o=a.prev(),s=o.data("search-type"),i=a.hasClass("no-bundles"),c=a.hasClass("variations"),r=a.hasClass("variations-only"),l=a.hasClass("exclude-current")?edd_vars.post_id:0,u=e.which,h="edd_download_search",_=o.data("excluded-products");a.attr("id").replace("_chosen",""),void 0!==s&&"no_ajax"!==s&&(h="edd_"+s+"_search",d.length<=3&&"edd_download_search"===h||[16,13,91,17,37,38,39,40].includes(u)||e.ctrlKey||e.metaKey?a.children(".spinner").remove():(a.children(".spinner").length||a.append('<span class="spinner is-active"></span>'),t.ajax({type:"GET",dataType:"json",url:ajaxurl,data:{s:d,action:h,no_bundles:i,variations:c,variations_only:r,current_id:l,exclusions:_},beforeSend:function(){o.closest("ul.chosen-results").empty()},success:function(e){t("option:not(:selected)",o).remove(),t.each(e,(function(e,n){t('option[value="'+n.id+'"]',o).length||o.append('<option value="'+n.id+'">'+n.name+"</option>")}));const d=n.val();o.trigger("chosen:updated"),n.val(d)}}).fail((function(e){console.log(e)})).done((function(e){a.children(".spinner").remove()}))))}),521))}));var a=n(1669),o=n(1669);const s=function(e){e.tooltip({content:function(){return a(this).prop("title")},tooltipClass:"edd-ui-tooltip",position:{my:"bottom",at:"top-10",collision:"flipfit"},hide:{duration:200},show:{duration:200}})};o(document).ready((function(e){s(e(".edd-help-tip"))})),n(4583),n(5837),n(2428),n(1970),n(5221),n(1669)(document).ready((function(e){e(".edd_countries_filter").on("change",(function(){if(!e(this).val())return;const t=e(this),n=e(".edd_regions_filter"),a={action:"edd_get_shop_states",country:t.val(),nonce:t.data("nonce"),field_name:n.attr("name"),field_id:n.attr("id"),field_classes:"edd_regions_filter"};return e.post(ajaxurl,a,(function(t){if((e("body").hasClass("download_page_edd-settings")||e("body").hasClass("download_page_edd-onboarding-wizard"))&&("nostates"===t&&n.is("select")||"nostates"!==t&&n.is("input"))){let a={};e.each(n.get(0)?.attributes||[],((e,t)=>{["style","type"].includes(t.name)||(a[t.name]=t.value)}));let o="";return n.is("select")?(n.chosen("destroy"),o=e("<input />").attr({...a,type:"text",placeholder:edd_vars.enter_region})):o=e(t).attr({...a,"data-placeholder":edd_vars.select_region}).addClass("edd-select-chosen"),n.replaceWith(o),void e("select.edd_regions_filter").chosen({...d(o)})}e("select.edd_regions_filter").find("option:gt(0)").remove(),"nostates"!==t&&e(t).find("option:gt(0)").appendTo("select.edd_regions_filter"),e("select.edd_regions_filter").trigger("chosen:updated")})),!1}))})),n(9130);var i=n(1669);n(1669)(document).ready((function(e){e(".edd-range__slider").each((function(){!function(e){const t=e.data("min")||0,n=e.data("max")||100,d=e.data("value")||0,a=(t,n)=>{e.siblings(".edd-range__input").val(n.value),e.siblings(".edd-amount-type-wrapper").find(".edd-range__input").val(n.value)};e.slider({min:t,max:n,value:d,range:"min",animate:!0,slide:a,change:a,create:()=>{e.siblings(".edd-range__input").on("input change",(function(){e.slider("value",i(this).val())})),e.siblings(".edd-amount-type-wrapper").find(".edd-range__input").on("input change",(function(){e.slider("value",i(this).val())}))}})}(e(this))}))})),n(9856);var c,r=n(1669),l=n(1669);c=()=>{l(".download_page_edd-payment-history .row-actions .delete a").on("click",(function(e){e.preventDefault();let t=l(this).attr("href");l("#edd-single-delete-dialog").dialog({buttons:[{text:edd_vars.cancel_dialog_text,class:"button-secondary",click:function(){l(this).dialog("close")}},{text:edd_vars.confirm_dialog_text,class:"button-primary",click:function(){l(this).dialog("close"),window.location.href=t}}]}),l("#edd-single-delete-dialog").dialog("open")})),l(".download_page_edd-payment-history").on("click","#doaction",(function(e){let t=l("#bulk-action-selector-top").val(),n=l(this).closest("form");"delete"===t&&(e.preventDefault(),l("#edd-bulk-delete-dialog").dialog({buttons:[{text:edd_vars.cancel_dialog_text,class:"button-secondary",click:function(){l(this).dialog("close")}},{text:edd_vars.confirm_dialog_text,class:"button-primary",click:function(){l(this).dialog("close"),n.submit()}}]}),l("#edd-bulk-delete-dialog").dialog("open"))}))},function(e){e(c)}(r)})()})();