(()=>{"use strict";var t={9431:t=>{t.exports=function(t,e,s,a){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+t)?+t:0,n=isFinite(+e)?Math.abs(e):0,i=void 0===a?",":a,r=void 0===s?".":s,c="";return c=(n?function(t,e){if(-1===(""+t).indexOf("e"))return+(Math.round(t+"e+"+e)+"e-"+e);var s=(""+t).split("e"),a="";return+s[1]+e>0&&(a="+"),(+(Math.round(+s[0]+"e"+a+(+s[1]+e))+"e-"+e)).toFixed(e)}(o,n).toString():""+Math.round(o)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(c[1]||"").length<n&&(c[1]=c[1]||"",c[1]+=new Array(n-c[1].length+1).join("0")),c.join(r)}}},e={};const s=function s(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,s),n.exports}(9431),a=class{constructor(t={}){const{currency_decimals:e,decimal_separator:s,thousands_separator:a}=edd_vars;this.config={precision:e,decimalSeparator:s,thousandSeparator:a,...t}}format(t){let e=t;"number"!=typeof t&&(e=parseFloat(t)),isNaN(e)&&(e=0);const{precision:a,decimalSeparator:o,thousandSeparator:n}=this.config;return s(e,a,o,n)}unformat(t){const{decimalSeparator:e,thousandSeparator:s}=this.config;"string"!=typeof t&&(t=String(t));const a=t.replace(s,"").replace(e,"."),o=parseFloat(a);return isNaN(o)?0:o}absint(t){const e=this.unformat(t);return e>=0?e:-1*e}},o=class{constructor(t={}){const{currency:e,currency_sign:s,currency_pos:o,currency_decimals:n,decimal_separator:i,thousands_separator:r}=edd_vars;this.config={currency:e,currencySymbol:s,currencySymbolPosition:o,precision:n,decimalSeparator:i,thousandSeparator:r,...t},this.number=new a(this.config)}format(t,e=!0){const{currencySymbol:s,currencySymbolPosition:a}=this.config,o=t<0;let n=this.number.format(t),i="";switch(o&&(n=this.number.format(-1*t)),a){case"before":i=s+n;break;case"after":i=n+s}return!0===o&&!1===e&&(i=`-${i}`),i}unformat(t){const{currencySymbol:e}=this.config,s=t.replace(e,"");return this.number.unformat(s)}},n=(t,e)=>{let s=t;const{type:a}=e;return"currency"===a&&(s=(new o).format(t,!1)),s},i={enabled:!1,intersect:!1,mode:"index",custom:function(t){let e=document.getElementById(this._chart.canvas.parentNode.id+"-tooltip");if(e||(e=document.createElement("div"),e.id=this._chart.canvas.parentNode.id+"-tooltip",e.classList.add("edd-chartjs-tooltip"),e.innerHTML="<table></table>",this._chart.canvas.parentNode.appendChild(e)),0===t.opacity)return void(e.style.opacity=0);const s="pie"===this._chart.config.type||"doughnut"===this._chart.config.type;if(t.body){let a="";t.title.length&&(a+="<thead>"+t.title+"</thead>");const o=t.body.map((function(t){return Array.isArray(t.lines)?t.lines.join("<br>"):t.lines}));a+="<tbody>",o.forEach((function(e,o){const n=t.labelColors[o];var i=n.backgroundColor;s||(i=n.borderColor);const r='<span class="edd-chartjs-tooltip-key" style="'+[`background: ${i}`,`border-color: ${i}`,"border-width: 2px"].join(";")+'"></span>';a+="<tr><td>"+r+e+"</td></tr>"})),a+="</tbody>",e.querySelector("table").innerHTML=a}if(s)e.style.left=t.caretX+"px",e.style.top=t.caretY+"px";else{const s=this._chart.canvas.getBoundingClientRect();let a=e.getBoundingClientRect();const o=this._chart.canvas.offsetLeft+t.caretX;let n=o;n=o>=s.width/2?o-a.width/2-20:o+a.width/2+20,e.style.left=n+"px";const i=this._chart.canvas.offsetTop+Math.round(this._chart.canvas.height/5);e.style.top=i+"px"}e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.opacity=1}},r=t=>{const e=new a;return t.callback=function(s,a,o){switch(t.formattingType){case"integer":s=parseInt(s);break;case"format":s=e.format(s)}return s},t},c=t=>{const{target:e}=t,{dates:{utc_offset:s,hour_by_hour:a,day_by_day:o}}=t;t.options.scales.yAxes.forEach((t=>{t.ticks.hasOwnProperty("formattingType")&&(t.ticks=r(t.ticks)),t.ticks.hasOwnProperty("hideNegativeTicks")&&t.ticks.hideNegativeTicks&&(t.afterTickToLabelConversion=function(t){for(let e=t.ticksAsNumbers.length-1;e>=0;e--)t.ticksAsNumbers[e]<0&&(t.ticksAsNumbers.splice(e,1),t.ticks.splice(e,1))})}));const n={...t,options:{...t.options,maintainAspectRatio:!1,tooltips:l(t),scales:{yAxes:[...t.options.scales.yAxes],xAxes:[{...t.options.scales.xAxes[0],ticks:{maxTicksLimit:12,autoSkip:!0,maxRotation:45},time:{...t.options.scales.xAxes[0].time,parser:function(t){return a||o?window.moment(t).utcOffset(s):window.moment.utc(t)}}}]},legend:{onClick:function(t,e){const s=this.chart.config.data.datasets[e.datasetIndex];if(s.hasOwnProperty("yAxisID")){const t=this.chart.options.scales.yAxes.findIndex((t=>t.id===s.yAxisID));-1!==t&&(this.chart.options.scales.yAxes[t].display=!this.chart.options.scales.yAxes[t].display)}s.hidden=!s.hidden,this.chart.update()}}}};let i=document.getElementById(e),c=new Chart(i,n),d=[];for(const[t,e]of Object.entries(c.scales))"time"!==e.type&&d.push(e);if(d.length>1){d.forEach((t=>{t.range=t.max-t.min,t.min_ratio=t.min/t.range,t.max_ratio=t.max/t.range}));let t=d.reduce(((t,e)=>({min_ratio:Math.min(t.min_ratio,e.min_ratio),max_ratio:Math.max(t.max_ratio,e.max_ratio)})));d.forEach((e=>{let s=t.min_ratio*e.range,a=t.max_ratio*e.range,o=c.options.scales.yAxes.find((t=>t.id===e.id));o&&(o.ticks.min=s,o.ticks.max=a)})),c.update()}return c},l=t=>({...i,callbacks:{label:function(e,s){const{options:{datasets:a}}=t,o=a[Object.keys(a)[e.datasetIndex]],i=n(e.yLabel,o);return`${s.datasets[e.datasetIndex].label}: ${i}`}}}),d=t=>({...i,callbacks:{label:function(e,s){const{options:{datasets:a}}=t,o=a[Object.keys(a)[e.datasetIndex]],i=n(e.yLabel,o);return`${s.datasets[e.datasetIndex].label}: ${i}`}}});window.edd=window.edd||{},window.edd.renderChart=t=>{(t=>{const{type:e}=t;return"pie"===e||"doughnut"===e})(t)?(t=>{const{target:e}=t;t.options.tooltips=(t=>({...i,enabled:!1,callbacks:{label:function(e,s){const{options:{datasets:a,otherLabel:o,otherBreakdown:i}}=t,r=s.datasets[e.datasetIndex],c=Object.values(a).find((t=>t.label&&t.label.toLowerCase()===r.label.toLowerCase())),l=r.data.reduce((function(t,e,s,a){return t+e})),d=r.data[e.index],p=n(d,c),h=Math.floor(d/l*100+.5),u=s.labels[e.index];return u===o&&i&&Object.keys(i).length>0?[`${u}: ${p} (${h}%)`,"","Breakdown:",...Object.entries(i).map((([t,e])=>`  â€¢ ${t}: ${n(e,c)} (${Math.floor(e/l*100+.5)}%)`))]:`${u}: ${p} (${h}%)`}}}))(t),new Chart(document.getElementById(e),t)})(t):"bar"===t.type?(t=>{const{target:e}=t;t.options.scales.yAxes.forEach((t=>{t.ticks.hasOwnProperty("formattingType")&&(t.ticks=r(t.ticks)),t.ticks.hasOwnProperty("hideNegativeTicks")&&t.ticks.hideNegativeTicks&&(t.afterTickToLabelConversion=function(t){for(let e=t.ticksAsNumbers.length-1;e>=0;e--)t.ticksAsNumbers[e]<0&&(t.ticksAsNumbers.splice(e,1),t.ticks.splice(e,1))})}));const s=t.options.labels||[],a=s.length>0,o={...t,data:{labels:a?s:void 0,datasets:t.data.datasets||[]},options:{...t.options,maintainAspectRatio:!1,tooltips:d(t),scales:{yAxes:[...t.options.scales.yAxes],xAxes:[{...t.options.scales.xAxes[0],ticks:{maxTicksLimit:a?s.length:12,autoSkip:!1,maxRotation:45}}]},legend:{display:!(a&&1===t.data.datasets.length)}}};delete o.options.labels;let n=document.getElementById(e);new Chart(n,o)})(t):c(t)}})();