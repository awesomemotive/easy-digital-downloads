(()=>{"use strict";var t={9431:t=>{t.exports=function(t,e,a,n){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+t)?+t:0,r=isFinite(+e)?Math.abs(e):0,s=void 0===n?",":n,i=void 0===a?".":a,c="";return c=(r?function(t,e){if(-1===(""+t).indexOf("e"))return+(Math.round(t+"e+"+e)+"e-"+e);var a=(""+t).split("e"),n="";return+a[1]+e>0&&(n="+"),(+(Math.round(+a[0]+"e"+n+(+a[1]+e))+"e-"+e)).toFixed(e)}(o,r).toString():""+Math.round(o)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(c[1]||"").length<r&&(c[1]=c[1]||"",c[1]+=new Array(r-c[1].length+1).join("0")),c.join(i)}}},e={};const a=function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}(9431),n=class{constructor(t={}){const{currency_decimals:e,decimal_separator:a,thousands_separator:n}=edd_vars;this.config={precision:e,decimalSeparator:a,thousandSeparator:n,...t}}format(t){let e=t;"number"!=typeof t&&(e=parseFloat(t)),isNaN(e)&&(e=0);const{precision:n,decimalSeparator:o,thousandSeparator:r}=this.config;return a(e,n,o,r)}unformat(t){const{decimalSeparator:e,thousandSeparator:a}=this.config;"string"!=typeof t&&(t=String(t));const n=t.replace(a,"").replace(e,"."),o=parseFloat(n);return isNaN(o)?0:o}absint(t){const e=this.unformat(t);return e>=0?e:-1*e}},o=class{constructor(t={}){const{currency:e,currency_sign:a,currency_pos:o,currency_decimals:r,decimal_separator:s,thousands_separator:i}=edd_vars;this.config={currency:e,currencySymbol:a,currencySymbolPosition:o,precision:r,decimalSeparator:s,thousandSeparator:i,...t},this.number=new n(this.config)}format(t,e=!0){const{currencySymbol:a,currencySymbolPosition:n}=this.config,o=t<0;let r=this.number.format(t),s="";switch(o&&(r=this.number.format(-1*t)),n){case"before":s=a+r;break;case"after":s=r+a}return!0===o&&!1===e&&(s=`-${s}`),s}unformat(t){const{currencySymbol:e}=this.config,a=t.replace(e,"");return this.number.unformat(a)}},r=(t,e)=>{let a=t;const{type:n}=e;return"currency"===n&&(a=(new o).format(t,!1)),a},s={enabled:!1,intersect:!1,mode:"index",custom:function(t){let e=document.getElementById(this._chart.canvas.parentNode.id+"-tooltip");if(e||(e=document.createElement("div"),e.id=this._chart.canvas.parentNode.id+"-tooltip",e.classList.add("edd-chartjs-tooltip"),e.innerHTML="<table></table>",this._chart.canvas.parentNode.appendChild(e)),0===t.opacity)return void(e.style.opacity=0);const a="pie"===this._chart.config.type||"doughnut"===this._chart.config.type;if(t.body){let n="";t.title.length&&(n+="<thead>"+t.title+"</thead>");const o=t.body.map((function(t){return Array.isArray(t.lines)?t.lines.join("<br>"):t.lines}));n+="<tbody>",o.forEach((function(e,o){const r=t.labelColors[o];var s=r.backgroundColor;a||(s=r.borderColor);const i='<span class="edd-chartjs-tooltip-key" style="'+[`background: ${s}`,`border-color: ${s}`,"border-width: 2px"].join(";")+'"></span>';n+="<tr><td>"+i+e+"</td></tr>"})),n+="</tbody>",e.querySelector("table").innerHTML=n}if(a)e.style.left=t.caretX+"px",e.style.top=t.caretY+"px";else{const a=this._chart.canvas.getBoundingClientRect();let n=e.getBoundingClientRect();const o=this._chart.canvas.offsetLeft+t.caretX;let r=o;r=o>=a.width/2?o-n.width/2-20:o+n.width/2+20,e.style.left=r+"px";const s=this._chart.canvas.offsetTop+Math.round(this._chart.canvas.height/5);e.style.top=s+"px"}e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.opacity=1}},i=t=>{const{target:e}=t,{dates:{utc_offset:a,hour_by_hour:o,day_by_day:r}}=t;t.options.scales.yAxes.forEach((t=>{t.ticks.hasOwnProperty("formattingType")&&(t.ticks=(t=>{const e=new n;return t.callback=function(a,n,o){switch(t.formattingType){case"integer":a=parseInt(a);break;case"format":a=e.format(a)}return a},t})(t.ticks)),t.ticks.hasOwnProperty("hideNegativeTicks")&&t.ticks.hideNegativeTicks&&(t.afterTickToLabelConversion=function(t){for(let e=t.ticksAsNumbers.length-1;e>=0;e--)t.ticksAsNumbers[e]<0&&(t.ticksAsNumbers.splice(e,1),t.ticks.splice(e,1))})}));const s={...t,options:{...t.options,maintainAspectRatio:!1,tooltips:c(t),scales:{yAxes:[...t.options.scales.yAxes],xAxes:[{...t.options.scales.xAxes[0],ticks:{maxTicksLimit:12,autoSkip:!0,maxRotation:45},time:{...t.options.scales.xAxes[0].time,parser:function(t){return o||r?window.moment(t).utcOffset(a):window.moment.utc(t)}}}]},legend:{onClick:function(t,e){const a=this.chart.config.data.datasets[e.datasetIndex];if(a.hasOwnProperty("yAxisID")){const t=this.chart.options.scales.yAxes.findIndex((t=>t.id===a.yAxisID));-1!==t&&(this.chart.options.scales.yAxes[t].display=!this.chart.options.scales.yAxes[t].display)}a.hidden=!a.hidden,this.chart.update()}}}};let i=document.getElementById(e),d=new Chart(i,s),l=[];for(const[t,e]of Object.entries(d.scales))"time"!==e.type&&l.push(e);if(l.length>1){l.forEach((t=>{t.range=t.max-t.min,t.min_ratio=t.min/t.range,t.max_ratio=t.max/t.range}));let t=l.reduce(((t,e)=>({min_ratio:Math.min(t.min_ratio,e.min_ratio),max_ratio:Math.max(t.max_ratio,e.max_ratio)})));l.forEach((e=>{let a=t.min_ratio*e.range,n=t.max_ratio*e.range,o=d.options.scales.yAxes.find((t=>t.id===e.id));o&&(o.ticks.min=a,o.ticks.max=n)})),d.update()}return d},c=t=>({...s,callbacks:{label:function(e,a){const{options:{datasets:n}}=t,o=n[Object.keys(n)[e.datasetIndex]],s=r(e.yLabel,o);return`${a.datasets[e.datasetIndex].label}: ${s}`}}});window.edd=window.edd||{},window.edd.renderChart=t=>{(t=>{const{type:e}=t;return"pie"===e||"doughnut"===e})(t)?(t=>{const{target:e}=t;t.options.tooltips=(t=>({...s,enabled:!1,callbacks:{label:function(e,a){const{options:{datasets:n,otherLabel:o,otherBreakdown:s}}=t,i=a.datasets[e.datasetIndex],c=Object.values(n).find((t=>t.label&&t.label.toLowerCase()===i.label.toLowerCase())),d=i.data.reduce((function(t,e,a,n){return t+e})),l=i.data[e.index],u=r(l,c),h=Math.floor(l/d*100+.5),p=a.labels[e.index];return p===o&&s&&Object.keys(s).length>0?[`${p}: ${u} (${h}%)`,"","Breakdown:",...Object.entries(s).map((([t,e])=>`  â€¢ ${t}: ${r(e,c)} (${Math.floor(e/d*100+.5)}%)`))]:`${p}: ${u} (${h}%)`}}}))(t),new Chart(document.getElementById(e),t)})(t):i(t)}})();